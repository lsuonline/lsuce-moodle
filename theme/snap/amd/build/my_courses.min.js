/**
 * This file is part of Moodle - http://moodle.org/
 *
 * Moodle is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Moodle is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @package
 * @copyright Copyright (c) 2023 Open LMS (https://www.openlms.net)
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("theme_snap/my_courses",["jquery","core/log","theme_snap/util","theme_snap/ajax_notification"],(function($,log,util,ajaxNotify){return{init:function(redirectToSitePolicy){if(redirectToSitePolicy){var redirect=M.cfg.wwwroot+"/user/policy.php";window.location=redirect}else $(document).ready((function(){var loadAjaxInfo=function(type){var container=$("#snap-my-courses-"+type);if($(container).length){var cacheKey=M.cfg.sesskey+"snap-my-courses-"+type;try{if(util.supportsSessionStorage()&&window.sessionStorage[cacheKey]){log.info("using locally stored "+type);var html=window.sessionStorage[cacheKey];$(container).html(html)}log.info("fetching "+type),$.ajax({type:"GET",async:!0,url:M.cfg.wwwroot+"/theme/snap/rest.php?action=get_"+type+"&contextid="+M.cfg.context,success:function(data){ajaxNotify.ifErrorShowBestMsg(data).done((function(errorShown){errorShown||(log.info("fetched "+type),util.supportsSessionStorage()&&void 0!==data.html&&(window.sessionStorage[cacheKey]=data.html),$(container).attr("data-content-loaded","1"),$(container).html(data.html))}))}})}catch(err){sessionStorage.clear(),log.error(err)}}};loadAjaxInfo("deadlines"),loadAjaxInfo("graded"),loadAjaxInfo("grading"),loadAjaxInfo("messages"),loadAjaxInfo("forumposts")}))}}}));

//# sourceMappingURL=my_courses.min.js.map