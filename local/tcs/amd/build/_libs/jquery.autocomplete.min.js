function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){"use strict";if("function"==typeof define&&define.amd){define ("local_tcs/_libs/jquery.autocomplete",["jquery"],a)}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"function"==typeof require){a(require("jquery"))}else{a(jQuery)}})(function(a){'use strict';var c=function(){return{escapeRegExChars:function escapeRegExChars(a){return a.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function createNode(a){var b=document.createElement("div");b.className=a;b.style.position="absolute";b.style.display="none";return b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40},e=a.noop;function b(c,d){var e=this;e.element=c;e.el=a(c);e.suggestions=[];e.badQueries=[];e.selectedIndex=-1;e.currentValue=e.element.value;e.timeoutId=null;e.cachedResponse={};e.onChangeTimeout=null;e.onChange=null;e.isLocal=!1;e.suggestionsContainer=null;e.noSuggestionsContainer=null;e.options=a.extend(!0,{},b.defaults,d);e.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"};e.hint=null;e.hintValue="";e.selection=null;e.initialize();e.setOptions(d)}b.utils=c;a.Autocomplete=b;b.defaults={ajaxSettings:{},autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:function(a,b){if(!b){return a.value}var d="("+c.escapeRegExChars(b)+")";return a.value.replace(new RegExp(d,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},formatGroup:function(a,b){return"<div class=\"autocomplete-group\">"+b+"</div>"},delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};b.prototype={initialize:function initialize(){var c=this,d="."+c.classes.suggestion,e=c.classes.selected,f=c.options,g;c.element.setAttribute("autocomplete","off");c.noSuggestionsContainer=a("<div class=\"autocomplete-no-suggestion\"></div>").html(this.options.noSuggestionNotice).get(0);c.suggestionsContainer=b.utils.createNode(f.containerClass);g=a(c.suggestionsContainer);g.appendTo(f.appendTo||"body");if("auto"!==f.width){g.css("width",f.width)}g.on("mouseover.autocomplete",d,function(){c.activate(a(this).data("index"))});g.on("mouseout.autocomplete",function(){c.selectedIndex=-1;g.children("."+e).removeClass(e)});g.on("click.autocomplete",d,function(){c.select(a(this).data("index"))});g.on("click.autocomplete",function(){clearTimeout(c.blurTimeoutId)});c.fixPositionCapture=function(){if(c.visible){c.fixPosition()}};a(window).on("resize.autocomplete",c.fixPositionCapture);c.el.on("keydown.autocomplete",function(a){c.onKeyPress(a)});c.el.on("keyup.autocomplete",function(a){c.onKeyUp(a)});c.el.on("blur.autocomplete",function(){c.onBlur()});c.el.on("focus.autocomplete",function(){c.onFocus()});c.el.on("change.autocomplete",function(a){c.onKeyUp(a)});c.el.on("input.autocomplete",function(a){c.onKeyUp(a)})},onFocus:function onFocus(){var a=this;a.fixPosition();if(a.el.val().length>=a.options.minChars){a.onValueChange()}},onBlur:function onBlur(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);b.blurTimeoutId=setTimeout(function(){b.hide();if(b.selection&&b.currentValue!==e){(c.onInvalidateSelection||a.noop).call(b.element)}},200)},abortAjax:function abortAjax(){var a=this;if(a.currentRequest){a.currentRequest.abort();a.currentRequest=null}},setOptions:function setOptions(b){var c=this,d=a.extend({},c.options,b);c.isLocal=Array.isArray(d.lookup);if(c.isLocal){d.lookup=c.verifySuggestionsFormat(d.lookup)}d.orientation=c.validateOrientation(d.orientation,"bottom");a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex});this.options=d},clearCache:function clearCache(){this.cachedResponse={};this.badQueries=[]},clear:function clear(){this.clearCache();this.currentValue="";this.suggestions=[]},disable:function disable(){var a=this;a.disabled=!0;clearTimeout(a.onChangeTimeout);a.abortAjax()},enable:function enable(){this.disabled=!1},fixPosition:function fixPosition(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d!==document.body&&!b.options.forceFixPosition){return}var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if("auto"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?"top":"bottom"}if("top"===e){i.top+=-f}else{i.top+=g}if(d!==document.body){var n=c.css("opacity"),o;if(!b.visible){c.css("opacity",0).show()}o=c.offsetParent().offset();i.top-=o.top;i.top+=d.scrollTop;i.left-=o.left;if(!b.visible){c.css("opacity",n).hide()}}if("auto"===b.options.width){i.width=b.el.outerWidth()+"px"}c.css(i)},isCursorAtEnd:function isCursorAtEnd(){var a=this,b=a.el.val().length,c=a.element.selectionStart,d;if("number"==typeof c){return c===b}if(document.selection){d=document.selection.createRange();d.moveStart("character",-b);return b===d.text.length}return!0},onKeyPress:function onKeyPress(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue){b.suggest();return}if(b.disabled||!b.visible){return}switch(a.which){case d.ESC:b.el.val(b.currentValue);b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint){b.selectHint();return}if(-1===b.selectedIndex){b.hide();return}b.select(b.selectedIndex);if(!1===b.options.tabDisabled){return}break;case d.RETURN:if(-1===b.selectedIndex){b.hide();return}b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return;}a.stopImmediatePropagation();a.preventDefault()},onKeyUp:function onKeyUp(a){var b=this;if(b.disabled){return}switch(a.which){case d.UP:case d.DOWN:return;}clearTimeout(b.onChangeTimeout);if(b.currentValue!==b.el.val()){b.findBestHint();if(0<b.options.deferRequestBy){b.onChangeTimeout=setTimeout(function(){b.onValueChange()},b.options.deferRequestBy)}else{b.onValueChange()}}},onValueChange:function onValueChange(){if(this.ignoreValueChange){this.ignoreValueChange=!1;return}var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);if(b.selection&&b.currentValue!==e){b.selection=null;(c.onInvalidateSelection||a.noop).call(b.element)}clearTimeout(b.onChangeTimeout);b.currentValue=d;b.selectedIndex=-1;if(c.triggerSelectOnValidInput&&b.isExactMatch(e)){b.select(0);return}if(e.length<c.minChars){b.hide()}else{b.getSuggestions(e)}},isExactMatch:function isExactMatch(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function getQuery(b){var c=this.options.delimiter,d;if(!c){return b}d=b.split(c);return a.trim(d[d.length-1])},getSuggestionsLocal:function getSuggestionsLocal(b){var c=this,d=c.options,e=b.toLowerCase(),f=d.lookupFilter,g=parseInt(d.lookupLimit,10),h;h={suggestions:a.grep(d.lookup,function(a){return f(a,b,e)})};if(g&&h.suggestions.length>g){h.suggestions=h.suggestions.slice(0,g)}return h},getSuggestions:function getSuggestions(b){var c,d=this,e=d.options,f=e.serviceUrl,g,h,i;e.params[e.paramName]=b;if(!1===e.onSearchStart.call(d.element,e.params)){return}g=e.ignoreParams?null:e.params;if(a.isFunction(e.lookup)){e.lookup(b,function(a){d.suggestions=a.suggestions;d.suggest();e.onSearchComplete.call(d.element,b,a.suggestions)});return}if(d.isLocal){c=d.getSuggestionsLocal(b)}else{if(a.isFunction(f)){f=f.call(d.element,b)}h=f+"?"+a.param(g||{});c=d.cachedResponse[h]}if(c&&Array.isArray(c.suggestions)){d.suggestions=c.suggestions;d.suggest();e.onSearchComplete.call(d.element,b,c.suggestions)}else if(!d.isBadQuery(b)){d.abortAjax();i={url:f,data:g,type:e.type,dataType:e.dataType};a.extend(i,e.ajaxSettings);d.currentRequest=a.ajax(i).done(function(a){var c;d.currentRequest=null;c=e.transformResult(a,b);d.processResponse(c,b,h);e.onSearchComplete.call(d.element,b,c.suggestions)}).fail(function(a,c,f){e.onSearchError.call(d.element,b,a,c,f)})}else{e.onSearchComplete.call(d.element,b,[])}},isBadQuery:function isBadQuery(a){if(!this.options.preventBadQueries){return!1}var b=this.badQueries,c=b.length;while(c--){if(0===a.indexOf(b[c])){return!0}}return!1},hide:function hide(){var b=this,c=a(b.suggestionsContainer);if(a.isFunction(b.options.onHide)&&b.visible){b.options.onHide.call(b.element,c)}b.visible=!1;b.selectedIndex=-1;clearTimeout(b.onChangeTimeout);a(b.suggestionsContainer).hide();b.signalHint(null)},suggest:function suggest(){if(!this.suggestions.length){if(this.options.showNoSuggestionNotice){this.noSuggestions()}else{this.hide()}return}var b=this,c=b.options,d=c.groupBy,e=c.formatResult,f=b.getQuery(b.currentValue),g=b.classes.suggestion,h=b.classes.selected,i=a(b.suggestionsContainer),j=a(b.noSuggestionsContainer),k=c.beforeRender,l="",m,n=function(a){var b=a.data[d];if(m===b){return""}m=b;return c.formatGroup(a,m)};if(c.triggerSelectOnValidInput&&b.isExactMatch(f)){b.select(0);return}a.each(b.suggestions,function(a,b){if(d){l+=n(b,f,a)}l+="<div class=\""+g+"\" data-index=\""+a+"\">"+e(b,f,a)+"</div>"});this.adjustContainerWidth();j.detach();i.html(l);if(a.isFunction(k)){k.call(b.element,i,b.suggestions)}b.fixPosition();i.show();if(c.autoSelectFirst){b.selectedIndex=0;i.scrollTop(0);i.children("."+g).first().addClass(h)}b.visible=!0;b.findBestHint()},noSuggestions:function noSuggestions(){var b=this,c=b.options.beforeRender,d=a(b.suggestionsContainer),e=a(b.noSuggestionsContainer);this.adjustContainerWidth();e.detach();d.empty();d.append(e);if(a.isFunction(c)){c.call(b.element,d,b.suggestions)}b.fixPosition();d.show();b.visible=!0},adjustContainerWidth:function adjustContainerWidth(){var b=this,c=b.options,d,e=a(b.suggestionsContainer);if("auto"===c.width){d=b.el.outerWidth();e.css("width",0<d?d:300)}else if("flex"===c.width){e.css("width","")}},findBestHint:function findBestHint(){var b=this,c=b.el.val().toLowerCase(),d=null;if(!c){return}a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);if(e){d=b}return!e});b.signalHint(d)},signalHint:function signalHint(b){var c="",d=this;if(b){c=d.currentValue+b.value.substr(d.currentValue.length)}if(d.hintValue!==c){d.hintValue=c;d.hint=b;(this.options.onHint||a.noop)(c)}},verifySuggestionsFormat:function verifySuggestionsFormat(b){if(b.length&&"string"==typeof b[0]){return a.map(b,function(a){return{value:a,data:null}})}return b},validateOrientation:function validateOrientation(b,c){b=a.trim(b||"").toLowerCase();if(-1===a.inArray(b,["auto","bottom","top"])){b=c}return b},processResponse:function processResponse(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions);if(!e.noCache){d.cachedResponse[c]=a;if(e.preventBadQueries&&!a.suggestions.length){d.badQueries.push(b)}}if(b!==d.getQuery(d.currentValue)){return}d.suggestions=a.suggestions;d.suggest()},activate:function activate(b){var c=this,d,e=c.classes.selected,f=a(c.suggestionsContainer),g=f.find("."+c.classes.suggestion);f.find("."+e).removeClass(e);c.selectedIndex=b;if(-1!==c.selectedIndex&&g.length>c.selectedIndex){d=g.get(c.selectedIndex);a(d).addClass(e);return d}return null},selectHint:function selectHint(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function select(a){var b=this;b.hide();b.onSelect(a)},moveUp:function moveUp(){var b=this;if(-1===b.selectedIndex){return}if(0===b.selectedIndex){a(b.suggestionsContainer).children("."+b.classes.suggestion).first().removeClass(b.classes.selected);b.selectedIndex=-1;b.ignoreValueChange=!1;b.el.val(b.currentValue);b.findBestHint();return}b.adjustScroll(b.selectedIndex-1)},moveDown:function moveDown(){var a=this;if(a.selectedIndex===a.suggestions.length-1){return}a.adjustScroll(a.selectedIndex+1)},adjustScroll:function adjustScroll(b){var c=this,d=c.activate(b);if(!d){return}var e,f,g,h=a(d).outerHeight();e=d.offsetTop;f=a(c.suggestionsContainer).scrollTop();g=f+c.options.maxHeight-h;if(e<f){a(c.suggestionsContainer).scrollTop(e)}else if(e>g){a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h)}if(!c.options.preserveInput){c.ignoreValueChange=!0;c.el.val(c.getValue(c.suggestions[b].value))}c.signalHint(null)},onSelect:function onSelect(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value);if(c.currentValue!==c.el.val()&&!c.options.preserveInput){c.el.val(c.currentValue)}c.signalHint(null);c.suggestions=[];c.selection=e;if(a.isFunction(d)){d.call(c.element,e)}},getValue:function getValue(a){var b=this,c=b.options.delimiter,d,e;if(!c){return a}d=b.currentValue;e=d.split(c);if(1===e.length){return a}return d.substr(0,d.length-e[e.length-1].length)+a},dispose:function dispose(){var b=this;b.el.off(".autocomplete").removeData("autocomplete");a(window).off("resize.autocomplete",b.fixPositionCapture);a(b.suggestionsContainer).remove()}};a.fn.devbridgeAutocomplete=function(c,d){if(!arguments.length){return this.first().data("autocomplete")}return this.each(function(){var e=a(this),f=e.data("autocomplete");if("string"==typeof c){if(f&&"function"==typeof f[c]){f[c](d)}}else{if(f&&f.dispose){f.dispose()}f=new b(this,c);e.data("autocomplete",f)}})};if(!a.fn.autocomplete){a.fn.autocomplete=a.fn.devbridgeAutocomplete}});
//# sourceMappingURL=jquery.autocomplete.min.js.map
