function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}!function(b,c){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module)))module.exports=c(require("local_tcs/raphael_min"));else if("function"==typeof define&&define.amd)define ("local_tcs/_libs/flowchart",["local_tcs/raphael_min"],c);else{var d=c("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?require("local_tcs/raphael_min"):b.Raphael);for(var a in d){("object"==("undefined"==typeof exports?"undefined":_typeof(exports))?exports:b)[a]=d[a]}}}(this,function(a){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){c(9);var d=c(4);c(15);var e={parse:d};"undefined"!=typeof window&&(window.flowchart=e),a.exports=e},function(a){function b(a,c){if(!a||"function"==typeof a)return c;var d={};for(var e in c){d[e]=c[e]}for(e in a){a[e]&&("object"==_typeof(d[e])?d[e]=b(d[e],a[e]):d[e]=a[e])}return d}a.exports={defaults:b,inherits:function(a,b){if("function"==typeof Object.create)a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});else{a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}}},function(a,b,c){function d(a,b,c){this.chart=a,this.group=this.chart.paper.set(),this.symbol=c,this.connectedTo=[],this.symbolType=b.symbolType,this.flowstate=b.flowstate||"future",this.lineStyle=b.lineStyle||{},this.key=b.key||"",this.next_direction=b.next&&b.direction_next?b.direction_next:void 0,this.text=this.chart.paper.text(0,0,b.text),b.key&&(this.text.node.id=b.key+"t"),this.text.node.setAttribute("class",this.getAttr("class")+"t"),this.text.attr({"text-anchor":"start",x:this.getAttr("text-margin"),fill:this.getAttr("font-color"),"font-size":this.getAttr("font-size")});var d=this.getAttr("font"),e=this.getAttr("font-family"),f=this.getAttr("font-weight");d&&this.text.attr({font:d}),e&&this.text.attr({"font-family":e}),f&&this.text.attr({"font-weight":f}),b.link&&this.text.attr("href",b.link),b.target&&this.text.attr("target",b.target);var g=this.getAttr("maxWidth");if(g){for(var h=b.text.split(" "),j="",k=0,l=h.length,m;k<l;k++){m=h[k];this.text.attr("text",j+" "+m),j+=this.text.getBBox().width>g?"\n"+m:" "+m}this.text.attr("text",j.substring(1))}if(this.group.push(this.text),c){var n=this.getAttr("text-margin");c.attr({fill:this.getAttr("fill"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*n,height:this.text.getBBox().height+2*n}),c.node.setAttribute("class",this.getAttr("class")),b.link&&c.attr("href",b.link),b.target&&c.attr("target",b.target),b.key&&(c.node.id=b.key),this.group.push(c),c.insertBefore(this.text),this.text.attr({y:c.getBBox().height/2}),this.initialize()}}var e=c(3),f=e.drawLine,g=e.checkLineIntersection;d.prototype.getAttr=function(a){if(this.chart){var b,c=this.chart.options?this.chart.options[a]:void 0,d=this.chart.options.symbols?this.chart.options.symbols[this.symbolType][a]:void 0;return this.chart.options.flowstate&&this.chart.options.flowstate[this.flowstate]&&(b=this.chart.options.flowstate[this.flowstate][a]),b||d||c}},d.prototype.initialize=function(){this.group.transform("t"+this.getAttr("line-width")+","+this.getAttr("line-width")),this.width=this.group.getBBox().width,this.height=this.group.getBBox().height},d.prototype.getCenter=function(){return{x:this.getX()+this.width/2,y:this.getY()+this.height/2}},d.prototype.getX=function(){return this.group.getBBox().x},d.prototype.getY=function(){return this.group.getBBox().y},d.prototype.shiftX=function(a){this.group.transform("t"+(this.getX()+a)+","+this.getY())},d.prototype.setX=function(a){this.group.transform("t"+a+","+this.getY())},d.prototype.shiftY=function(a){this.group.transform("t"+this.getX()+","+(this.getY()+a))},d.prototype.setY=function(a){this.group.transform("t"+this.getX()+","+a)},d.prototype.getTop=function(){var a=this.getY(),b=this.getX()+this.width/2;return{x:b,y:a}},d.prototype.getBottom=function(){var a=this.getY()+this.height,b=this.getX()+this.width/2;return{x:b,y:a}},d.prototype.getLeft=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX();return{x:b,y:a}},d.prototype.getRight=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.group.getBBox().width;return{x:b,y:a}},d.prototype.render=function(){if(this.next){var a=this,b=this.getAttr("line-length");if("right"===this.next_direction){var c=this.getRight();this.next.isPositioned||(this.next.setY(c.y-this.next.height/2),this.next.shiftX(this.group.getBBox().x+this.width+b),function c(){for(var d,e=!1,f=0,g=a.chart.symbols.length;f<g;f++){d=a.chart.symbols[f];var h=Math.abs(d.getCenter().x-a.next.getCenter().x);if(d.getCenter().y>a.next.getCenter().y&&h<=a.next.width/2){e=!0;break}}if(e){if("end"===a.next.symbolType)return;a.next.setX(d.getX()+d.width+b),c()}}(),this.next.isPositioned=!0,this.next.render())}else if("left"===this.next_direction){var d=this.getLeft();this.next.isPositioned||(this.next.setY(d.y-this.next.height/2),this.next.shiftX(-(this.group.getBBox().x+this.width+b)),function c(){for(var d,e=!1,f=0,g=a.chart.symbols.length;f<g;f++){d=a.chart.symbols[f];var h=Math.abs(d.getCenter().x-a.next.getCenter().x);if(d.getCenter().y>a.next.getCenter().y&&h<=a.next.width/2){e=!0;break}}if(e){if("end"===a.next.symbolType)return;a.next.setX(d.getX()+d.width+b),c()}}(),this.next.isPositioned=!0,this.next.render())}else{var e=this.getBottom();this.next.isPositioned||(this.next.shiftY(this.getY()+this.height+b),this.next.setX(e.x-this.next.width/2),this.next.isPositioned=!0,this.next.render())}}},d.prototype.renderLines=function(){this.next&&(this.next_direction?this.drawLineTo(this.next,this.getAttr("arrow-text")||"",this.next_direction):this.drawLineTo(this.next,this.getAttr("arrow-text")||""))},d.prototype.drawLineTo=function(a,b,c){0>this.connectedTo.indexOf(a)&&this.connectedTo.push(a);var d,e=this.getCenter().x,h=this.getCenter().y,i=this.getRight(),j=this.getBottom(),k=this.getTop(),m=this.getLeft(),n=a.getCenter().x,o=a.getCenter().y,p=a.getTop(),q=a.getRight(),r=a.getLeft(),s=e===n,t=h===o,u=h<o,v=h>o||this===a,w=e>n,x=e<n,y=0,z=this.getAttr("line-length"),A=this.getAttr("line-width");if(c&&"bottom"!==c||!s||!u){if(c&&"right"!==c||!t||!x){if(c&&"left"!==c||!t||!w){if(c&&"right"!==c||!s||!v){if(c&&"right"!==c||!s||!u){if(c&&"bottom"!==c||!w){if(c&&"bottom"!==c||!x||!u){if(c&&"bottom"!==c||!x){if(c&&"right"===c&&w)d=f(this.chart,i,[{x:i.x+z/2,y:i.y},{x:i.x+z/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.rightStart=!0,a.topEnd=!0,y=i.x+z/2;else if(c&&"right"===c&&x)d=f(this.chart,i,[{x:p.x,y:i.y},{x:p.x,y:p.y}],b),this.rightStart=!0,a.topEnd=!0,y=i.x+z/2;else if(c&&"bottom"===c&&s&&v)d=f(this.chart,j,[{x:j.x,y:j.y+z/2},{x:i.x+z/2,y:j.y+z/2},{x:i.x+z/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.bottomStart=!0,a.topEnd=!0,y=j.x+z/2;else if("left"===c&&s&&v){var B=m.x-z/2;r.x<m.x&&(B=r.x-z/2),d=f(this.chart,m,[{x:B,y:m.y},{x:B,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.leftStart=!0,a.topEnd=!0,y=m.x}else"left"===c?(d=f(this.chart,m,[{x:p.x+(m.x-p.x)/2,y:m.y},{x:p.x+(m.x-p.x)/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.leftStart=!0,a.topEnd=!0,y=m.x):"top"==c&&(d=f(this.chart,k,[{x:k.x,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.topStart=!0,a.topEnd=!0,y=k.x);}else d=f(this.chart,j,[{x:j.x,y:j.y+z/2},{x:j.x+(j.x-p.x)/2,y:j.y+z/2},{x:j.x+(j.x-p.x)/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.bottomStart=!0,a.topEnd=!0,y=j.x+(j.x-p.x)/2;}else d=f(this.chart,j,[{x:j.x,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.bottomStart=!0,a.topEnd=!0,y=j.x,p.x>y&&(y=p.x);}else d=this.leftEnd&&v?f(this.chart,j,[{x:j.x,y:j.y+z/2},{x:j.x+(j.x-p.x)/2,y:j.y+z/2},{x:j.x+(j.x-p.x)/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b):f(this.chart,j,[{x:j.x,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.bottomStart=!0,a.topEnd=!0,y=j.x+(j.x-p.x)/2;}else d=f(this.chart,i,[{x:i.x+z/2,y:i.y},{x:i.x+z/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.rightStart=!0,a.topEnd=!0,y=i.x+z/2;}else d=f(this.chart,i,[{x:i.x+z/2,y:i.y},{x:i.x+z/2,y:p.y-z/2},{x:p.x,y:p.y-z/2},{x:p.x,y:p.y}],b),this.rightStart=!0,a.topEnd=!0,y=i.x+z/2;}else d=f(this.chart,m,q,b),this.leftStart=!0,a.rightEnd=!0,y=q.x;}else d=f(this.chart,i,r,b),this.rightStart=!0,a.leftEnd=!0,y=r.x;}else d=f(this.chart,j,p,b),this.bottomStart=!0,a.topEnd=!0,y=j.x;if(this.lineStyle[a.key]&&d&&d.attr(this.lineStyle[a.key]),d){for(var C=0,D=this.chart.lines.length;C<D;C++){for(var E,F=this.chart.lines[C],G=F.attr("path"),H=d.attr("path"),I=0,J=G.length-1,K;I<J;I++){K=[];K.push(["M",G[I][1],G[I][2]]),K.push(["L",G[I+1][1],G[I+1][2]]);for(var L=K[0][1],M=K[0][2],N=K[1][1],O=K[1][2],P=0,Q=H.length-1,R;P<Q;P++){R=[];R.push(["M",H[P][1],H[P][2]]),R.push(["L",H[P+1][1],H[P+1][2]]);var S=R[0][1],T=R[0][2],U=R[1][1],V=R[1][2],W=g(L,M,N,O,S,T,U,V);if(W.onLine1&&W.onLine2){var X;T===V?S>U?(X=["L",W.x+2*A,T],H.splice(P+1,0,X),X=["C",W.x+2*A,T,W.x,T-4*A,W.x-2*A,T],H.splice(P+2,0,X),d.attr("path",H)):(X=["L",W.x-2*A,T],H.splice(P+1,0,X),X=["C",W.x-2*A,T,W.x,T-4*A,W.x+2*A,T],H.splice(P+2,0,X),d.attr("path",H)):T>V?(X=["L",S,W.y+2*A],H.splice(P+1,0,X),X=["C",S,W.y+2*A,S+4*A,W.y,S,W.y-2*A],H.splice(P+2,0,X),d.attr("path",H)):(X=["L",S,W.y-2*A],H.splice(P+1,0,X),X=["C",S,W.y-2*A,S+4*A,W.y,S,W.y+2*A],H.splice(P+2,0,X),d.attr("path",H)),P+=2,E+=2}}}}this.chart.lines.push(d),(void 0===this.chart.minXFromSymbols||this.chart.minXFromSymbols>m.x)&&(this.chart.minXFromSymbols=m.x)}(!this.chart.maxXFromLine||this.chart.maxXFromLine&&y>this.chart.maxXFromLine)&&(this.chart.maxXFromLine=y)},a.exports=d},function(a){a.exports={drawPath:function(a,b,c){var d,e,f="M{0},{1}";for(d=2,e=2*c.length+2;d<e;d+=2){f+=" L{"+d+"},{"+(d+1)+"}"}var g=[b.x,b.y];for(d=0,e=c.length;d<e;d++){g.push(c[d].x),g.push(c[d].y)}var h=a.paper.path(f,g);h.attr("stroke",a.options["element-color"]),h.attr("stroke-width",a.options["line-width"]);var j=a.options.font,k=a.options["font-family"],l=a.options["font-weight"];return j&&h.attr({font:j}),k&&h.attr({"font-family":k}),l&&h.attr({"font-weight":l}),h},drawLine:function(a,b,c,d){var e,f;"[object Array]"!==Object.prototype.toString.call(c)&&(c=[c]);var g="M{0},{1}";for(e=2,f=2*c.length+2;e<f;e+=2){g+=" L{"+e+"},{"+(e+1)+"}"}var h=[b.x,b.y];for(e=0,f=c.length;e<f;e++){h.push(c[e].x),h.push(c[e].y)}var j=a.paper.path(g,h);j.attr({stroke:a.options["line-color"],"stroke-width":a.options["line-width"],"arrow-end":a.options["arrow-end"]});var k=a.options.font,l=a.options["font-family"],m=a.options["font-weight"];if(k&&j.attr({font:k}),l&&j.attr({"font-family":l}),m&&j.attr({"font-weight":m}),d){var n=a.paper.text(0,0,d),o=!1,p=c[0];b.y===p.y&&(o=!0);var q=0,r=0;(q=b.x,r=b.y,o?(q+=a.options["text-margin"]/2,r-=a.options["text-margin"]):(q+=a.options["text-margin"]/2,r+=a.options["text-margin"],b.y>p.y&&(r-=2*a.options["text-margin"]))),n.attr({"text-anchor":"start","font-size":a.options["font-size"],fill:a.options["font-color"],x:q,y:r}),k&&n.attr({font:k}),l&&n.attr({"font-family":l}),m&&n.attr({"font-weight":m})}return j},checkLineIntersection:function(c,d,e,f,g,h,i,j){var k,l,m,n,o,p={x:null,y:null,onLine1:!1,onLine2:!1};return k=(j-h)*(e-c)-(i-g)*(f-d),0===k?p:(l=d-h,m=c-g,n=(i-g)*l-(j-h)*m,o=(e-c)*l-(f-d)*m,l=n/k,m=o/k,p.x=c+l*(e-c),p.y=d+l*(f-d),0<l&&1>l&&(p.onLine1=!0),0<m&&1>m&&(p.onLine2=!0),p)}}},function(a,b,c){var d=c(7),e=c(13),f=c(10),g=c(12),h=c(11),i=c(14),j=c(5),k=c(6);a.exports=function(a){function b(a){var b=a.indexOf("(")+1,c=a.indexOf(")");return 0<=b&&0<=c?a.substring(b,c):"{}"}function c(a){var b=a.indexOf("(")+1,c=a.indexOf(")");return 0<=b&&0<=c?a.substring(b,c):""}function m(a){var b=a.indexOf("(")+1,c=a.indexOf(")");return 0<=b&&0<=c?o.symbols[a.substring(0,b-1)]:o.symbols[a]}function n(a){var b="next",c=a.indexOf("(")+1,d=a.indexOf(")");return 0<=c&&0<=d&&(b=K.substring(c,d),0>b.indexOf(",")&&"yes"!==b&&"no"!==b&&(b="next, "+b)),b}a=a||"",a=a.trim();for(var o={symbols:{},start:null,drawSVG:function drawSVG(a,b){function c(a){if(n[a.key])return n[a.key];switch(a.symbolType){case"start":n[a.key]=new e(m,a);break;case"end":n[a.key]=new f(m,a);break;case"operation":n[a.key]=new g(m,a);break;case"inputoutput":n[a.key]=new h(m,a);break;case"subroutine":n[a.key]=new i(m,a);break;case"condition":n[a.key]=new j(m,a);break;case"parallel":n[a.key]=new k(m,a);break;default:return new Error("Wrong symbol type!");}return n[a.key]}var l=this;this.diagram&&this.diagram.clean();var m=new d(a,b);this.diagram=m;var n={};!function a(b,d,e){var f=c(b);return l.start===b?m.startWith(f):d&&e&&!d.pathOk&&(d instanceof j?(e.yes===b&&d.yes(f),e.no===b&&d.no(f)):d instanceof k?(e.path1===b&&d.path1(f),e.path2===b&&d.path2(f),e.path3===b&&d.path3(f)):d.then(f)),f.pathOk?f:(f instanceof j?(b.yes&&a(b.yes,f,b),b.no&&a(b.no,f,b)):f instanceof k?(b.path1&&a(b.path1,f,b),b.path2&&a(b.path2,f,b),b.path3&&a(b.path3,f,b)):b.next&&a(b.next,f,b),f)}(this.start),m.render()},clean:function clean(){this.diagram.clean()}},p=[],q=0,r=1,s=a.length;r<s;r++){if("\n"===a[r]&&"\\"!==a[r-1]){var t=a.substring(q,r);q=r+1,p.push(t.replace(/\\\n/g,"\n"))}}q<a.length&&p.push(a.substr(q));for(var u=1,v=p.length,w;u<v;){w=p[u];0>w.indexOf("->")&&0>w.indexOf("=>")&&0>w.indexOf("@>")?(p[u-1]+="\n"+w,p.splice(u,1),v--):u++}for(;0<p.length;){var x=p.splice(0,1)[0].trim();if(0<=x.indexOf("=>")){var y=x.split("=>"),z={key:y[0].replace(/\(.*\)/,""),symbolType:y[1],text:null,link:null,target:null,flowstate:null,lineStyle:{},params:{}},A=y[0].match(/\((.*)\)/);if(A&&1<A.length)for(var B=A[1].split(","),C=0,D;C<B.length;C++){D=B[0].split("=");2==D.length&&(z.params[D[0]]=D[1])}var E;if(0<=z.symbolType.indexOf(": ")&&(E=z.symbolType.split(": "),z.symbolType=E.shift(),z.text=E.join(": ")),z.text&&0<=z.text.indexOf(":>")?(E=z.text.split(":>"),z.text=E.shift(),z.link=E.join(":>")):0<=z.symbolType.indexOf(":>")&&(E=z.symbolType.split(":>"),z.symbolType=E.shift(),z.link=E.join(":>")),0<=z.symbolType.indexOf("\n")&&(z.symbolType=z.symbolType.split("\n")[0]),z.link){var F=z.link.indexOf("[")+1,G=z.link.indexOf("]");0<=F&&0<=G&&(z.target=z.link.substring(F,G),z.link=z.link.substring(0,F-1))}if(z.text&&0<=z.text.indexOf("|")){var H=z.text.split("|");z.flowstate=H.pop().trim(),z.text=H.join("|")}o.symbols[z.key]=z}else if(0<=x.indexOf("->"))for(var I=x.split("->"),C=0,J=I.length;C<J;C++){var K=I[C],L=c(K);"true"!==L&&"false"!==L||(K=K.replace("true","yes"),K=K.replace("false","no"));var M=m(K),N=n(K),O=null;if(0<=N.indexOf(",")){var P=N.split(",");N=P[0],O=P[1].trim()}if(o.start||(o.start=M),C+1<J){var Q=I[C+1];M[N]=m(Q),M["direction_"+N]=O,O=null}}else if(0<=x.indexOf("@>"))for(var R=x.split("@>"),C=0,J=R.length;C<J;C++){if(C+1!=J){var S=m(R[C]),Q=m(R[C+1]);S.lineStyle[Q.key]=JSON.parse(b(R[C+1]))}}}return o}},function(a,b,c){function d(a,b){b=b||{},e.call(this,a,b),this.textMargin=this.getAttr("text-margin"),this.yes_direction="bottom",this.no_direction="right",this.params=b.params,b.yes&&b.direction_yes&&b.no&&!b.direction_no?"right"===b.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):"top"===b.direction_yes?(this.no_direction="right",this.yes_direction="top"):(this.no_direction="right",this.yes_direction="bottom"):b.yes&&!b.direction_yes&&b.no&&b.direction_no?"right"===b.direction_no?(this.yes_direction="bottom",this.no_direction="right"):(this.yes_direction="right",this.no_direction="bottom"):b.yes&&b.direction_yes&&b.no&&b.direction_no&&b.direction_no!==b.direction_yes?"right"===b.direction_yes?(this.no_direction="bottom",this.yes_direction="right"):"top"===b.direction_yes?(this.no_direction="right",this.yes_direction="top"):(this.no_direction="right",this.yes_direction="bottom"):(this.yes_direction="bottom",this.no_direction="right"),this.yes_direction=this.yes_direction||"bottom",this.no_direction=this.no_direction||"right",this.text.attr({x:2*this.textMargin});var c=this.text.getBBox().width+3*this.textMargin;c+=c/2;var d=this.text.getBBox().height+2*this.textMargin;d+=d/2,d=Math.max(.5*c,d);var f=c/4,g=d/4;this.text.attr({x:f+this.textMargin/2});var i=[{x:f-c/4,y:g+d/4},{x:f-c/4+c/2,y:g+d/4+d/2},{x:f-c/4+c,y:g+d/4},{x:f-c/4+c/2,y:g+d/4-d/2},{x:f-c/4,y:g+d/4}],j=h(a,{x:f,y:g},i);j.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),b.link&&j.attr("href",b.link),b.target&&j.attr("target",b.target),b.key&&(j.node.id=b.key),j.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:j.getBBox().height/2}),this.group.push(j),j.insertBefore(this.text),this.initialize()}var e=c(2),f=c(1).inherits,g=c(3),h=g.drawPath;f(d,e),d.prototype.render=function(){this.yes_direction&&(this[this.yes_direction+"_symbol"]=this.yes_symbol),this.no_direction&&(this[this.no_direction+"_symbol"]=this.no_symbol);var a=this.getAttr("line-length");if(this.bottom_symbol){var b=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+a),this.bottom_symbol.setX(b.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.right_symbol){var c=this.getRight();if(!this.right_symbol.isPositioned){this.right_symbol.setY(c.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+a);var d=this;!function b(){for(var c,e=!1,f=0,g=d.chart.symbols.length;f<g;f++){if(c=d.chart.symbols[f],!d.params["align-next"]||"no"!==d.params["align-next"]){var h=Math.abs(c.getCenter().x-d.right_symbol.getCenter().x);if(c.getCenter().y>d.right_symbol.getCenter().y&&h<=d.right_symbol.width/2){e=!0;break}}}if(e){if("end"===d.right_symbol.symbolType)return;d.right_symbol.setX(c.getX()+c.width+a),b()}}(),this.right_symbol.isPositioned=!0,this.right_symbol.render()}}},d.prototype.renderLines=function(){this.yes_symbol&&this.drawLineTo(this.yes_symbol,this.getAttr("yes-text"),this.yes_direction),this.no_symbol&&this.drawLineTo(this.no_symbol,this.getAttr("no-text"),this.no_direction)},a.exports=d},function(a,b,c){function d(a,b){var c=a.paper.rect(0,0,0,0);b=b||{},e.call(this,a,b,c),this.textMargin=this.getAttr("text-margin"),this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="top",this.params=b.params,"path1"===b.direction_next&&!b[b.direction_next]&&b.next&&(b[b.direction_next]=b.next),"path2"===b.direction_next&&!b[b.direction_next]&&b.next&&(b[b.direction_next]=b.next),"path3"===b.direction_next&&!b[b.direction_next]&&b.next&&(b[b.direction_next]=b.next),b.path1&&b.direction_path1&&b.path2&&!b.direction_path2&&b.path3&&!b.direction_path3?"right"===b.direction_path1?(this.path2_direction="bottom",this.path1_direction="right",this.path3_direction="top"):"top"===b.direction_path1?(this.path2_direction="right",this.path1_direction="top",this.path3_direction="bottom"):"left"===b.direction_path1?(this.path2_direction="right",this.path1_direction="left",this.path3_direction="bottom"):(this.path2_direction="right",this.path1_direction="bottom",this.path3_direction="top"):b.path1&&!b.direction_path1&&b.path2&&b.direction_path2&&b.path3&&!b.direction_path3?"right"===b.direction_path2?(this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="top"):"left"===b.direction_path2?(this.path1_direction="bottom",this.path2_direction="left",this.path3_direction="right"):(this.path1_direction="right",this.path2_direction="bottom",this.path3_direction="top"):b.path1&&!b.direction_path1&&b.path2&&!b.direction_path2&&b.path3&&b.direction_path3?"right"===b.direction_path2?(this.path1_direction="bottom",this.path2_direction="top",this.path3_direction="right"):"left"===b.direction_path2?(this.path1_direction="bottom",this.path2_direction="right",this.path3_direction="left"):(this.path1_direction="right",this.path2_direction="bottom",this.path3_direction="top"):(this.path1_direction=b.direction_path1,this.path2_direction=b.direction_path2,this.path3_direction=b.direction_path3),this.path1_direction=this.path1_direction||"bottom",this.path2_direction=this.path2_direction||"right",this.path3_direction=this.path3_direction||"top",this.initialize()}var e=c(2),f=c(1).inherits;f(d,e),d.prototype.render=function(){this.path1_direction&&(this[this.path1_direction+"_symbol"]=this.path1_symbol),this.path2_direction&&(this[this.path2_direction+"_symbol"]=this.path2_symbol),this.path3_direction&&(this[this.path3_direction+"_symbol"]=this.path3_symbol);var a=this.getAttr("line-length");if(this.bottom_symbol){var b=this.getBottom();this.bottom_symbol.isPositioned||(this.bottom_symbol.shiftY(this.getY()+this.height+a),this.bottom_symbol.setX(b.x-this.bottom_symbol.width/2),this.bottom_symbol.isPositioned=!0,this.bottom_symbol.render())}if(this.top_symbol){var c=this.getTop();this.top_symbol.isPositioned||(this.top_symbol.shiftY(this.getY()-this.top_symbol.height-a),this.top_symbol.setX(c.x+this.top_symbol.width),this.top_symbol.isPositioned=!0,this.top_symbol.render())}var d=this;if(this.left_symbol){var e=this.getLeft();this.left_symbol.isPositioned||(this.left_symbol.setY(e.y-this.left_symbol.height/2),this.left_symbol.shiftX(-(this.group.getBBox().x+this.width+a)),function b(){for(var c,e=!1,f=0,g=d.chart.symbols.length;f<g;f++){if(c=d.chart.symbols[f],!d.params["align-next"]||"no"!==d.params["align-next"]){var h=Math.abs(c.getCenter().x-d.left_symbol.getCenter().x);if(c.getCenter().y>d.left_symbol.getCenter().y&&h<=d.left_symbol.width/2){e=!0;break}}}if(e){if("end"===d.left_symbol.symbolType)return;d.left_symbol.setX(c.getX()+c.width+a),b()}}(),this.left_symbol.isPositioned=!0,this.left_symbol.render())}if(this.right_symbol){var f=this.getRight();this.right_symbol.isPositioned||(this.right_symbol.setY(f.y-this.right_symbol.height/2),this.right_symbol.shiftX(this.group.getBBox().x+this.width+a),function b(){for(var c,e=!1,f=0,g=d.chart.symbols.length;f<g;f++){if(c=d.chart.symbols[f],!d.params["align-next"]||"no"!==d.params["align-next"]){var h=Math.abs(c.getCenter().x-d.right_symbol.getCenter().x);if(c.getCenter().y>d.right_symbol.getCenter().y&&h<=d.right_symbol.width/2){e=!0;break}}}if(e){if("end"===d.right_symbol.symbolType)return;d.right_symbol.setX(c.getX()+c.width+a),b()}}(),this.right_symbol.isPositioned=!0,this.right_symbol.render())}},d.prototype.renderLines=function(){this.path1_symbol&&this.drawLineTo(this.path1_symbol,"",this.path1_direction),this.path2_symbol&&this.drawLineTo(this.path2_symbol,"",this.path2_direction),this.path3_symbol&&this.drawLineTo(this.path3_symbol,"",this.path3_direction)},a.exports=d},function(a,b,c){function d(a,b){b=b||{},this.paper=new e(a),this.options=f(b,g),this.symbols=[],this.lines=[],this.start=null}var e=c(16),f=c(1).defaults,g=c(8),h=c(5),i=c(6);d.prototype.handle=function(a){-1>=this.symbols.indexOf(a)&&this.symbols.push(a);var b=this;return a instanceof h?(a.yes=function(c){return a.yes_symbol=c,a.no_symbol&&(a.pathOk=!0),b.handle(c)},a.no=function(c){return a.no_symbol=c,a.yes_symbol&&(a.pathOk=!0),b.handle(c)}):a instanceof i?(a.path1=function(c){return a.path1_symbol=c,a.path2_symbol&&(a.pathOk=!0),b.handle(c)},a.path2=function(c){return a.path2_symbol=c,a.path3_symbol&&(a.pathOk=!0),b.handle(c)},a.path3=function(c){return a.path3_symbol=c,a.path1_symbol&&(a.pathOk=!0),b.handle(c)}):a.then=function(c){return a.next=c,a.pathOk=!0,b.handle(c)},a},d.prototype.startWith=function(a){return this.start=a,this.handle(a)},d.prototype.render=function(){var a,b,c=0,d=0,e=0,f=0,g=0,h=0,j=0,k=0;for(e=0,f=this.symbols.length;e<f;e++){a=this.symbols[e],a.width>c&&(c=a.width),a.height>d&&(d=a.height)}for(e=0,f=this.symbols.length;e<f;e++){a=this.symbols[e],a.shiftX(this.options.x+(c-a.width)/2+this.options["line-width"]),a.shiftY(this.options.y+(d-a.height)/2+this.options["line-width"])}for(this.start.render(),e=0,f=this.symbols.length;e<f;e++){a=this.symbols[e],a.renderLines()}g=this.maxXFromLine;var l,m;for(e=0,f=this.symbols.length;e<f;e++){a=this.symbols[e],l=a.getX()+a.width,m=a.getY()+a.height,l>g&&(g=l),m>h&&(h=m)}for(e=0,f=this.lines.length;e<f;e++){b=this.lines[e].getBBox(),l=b.x,m=b.y;var n=b.x2,o=b.y2;l<j&&(j=l),m<k&&(k=m),n>g&&(g=n),o>h&&(h=o)}var p=this.options.scale,q=this.options["line-width"];this.minXFromSymbols<j&&(j=this.minXFromSymbols),0>j&&(j-=q),0>k&&(k-=q);var r=g+q-j,s=h+q-k;this.paper.setSize(r*p,s*p),this.paper.setViewBox(j,k,r,s,!0)},d.prototype.clean=function(){if(this.paper){var a=this.paper.canvas;a.parentNode.removeChild(a)}},a.exports=d},function(a){a.exports={x:0,y:0,"line-width":3,"line-length":50,"text-margin":10,"font-size":14,"font-color":"black","line-color":"black","element-color":"black",fill:"white","yes-text":"yes","no-text":"no","arrow-end":"block",class:"flowchart",scale:1,symbols:{start:{},end:{},condition:{},inputoutput:{},operation:{},subroutine:{},parallel:{}}}},function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0==c)return-1;var d=0;if(0<arguments.length&&(d=+arguments[1],d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(0<d||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=0<=d?d:Math.max(c-Math.abs(d),0);e<c;e++){if(e in b&&b[e]===a)return e}return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0==c)return-1;var d=c;1<arguments.length&&(d=+arguments[1],d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(0<d||-1)*Math.floor(Math.abs(d))));for(var e=0<=d?Math.min(d,c-1):c-Math.abs(d);0<=e;e--){if(e in b&&b[e]===a)return e}return-1}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},function(a,b,c){function d(a,b){var c=a.paper.rect(0,0,0,0,20);b=b||{},b.text=b.text||"End",e.call(this,a,b,c)}var e=c(2),f=c(1).inherits;f(d,e),a.exports=d},function(a,b,c){function d(a,b){b=b||{},e.call(this,a,b),this.textMargin=this.getAttr("text-margin"),this.text.attr({x:3*this.textMargin});var c=this.text.getBBox().width+4*this.textMargin,d=this.text.getBBox().height+2*this.textMargin,f=this.textMargin,g=d/2,i=[{x:f-this.textMargin,y:d},{x:f-this.textMargin+c,y:d},{x:f-this.textMargin+c+2*this.textMargin,y:0},{x:f-this.textMargin+2*this.textMargin,y:0},{x:f,y:g}],j=h(a,{x:f,y:g},i);j.attr({stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),fill:this.getAttr("fill")}),b.link&&j.attr("href",b.link),b.target&&j.attr("target",b.target),b.key&&(j.node.id=b.key),j.node.setAttribute("class",this.getAttr("class")),this.text.attr({y:j.getBBox().height/2}),this.group.push(j),j.insertBefore(this.text),this.initialize()}var e=c(2),f=c(1).inherits,g=c(3),h=g.drawPath;f(d,e),d.prototype.getLeft=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.textMargin;return{x:b,y:a}},d.prototype.getRight=function(){var a=this.getY()+this.group.getBBox().height/2,b=this.getX()+this.group.getBBox().width-this.textMargin;return{x:b,y:a}},a.exports=d},function(a,b,c){function d(a,b){var c=a.paper.rect(0,0,0,0);b=b||{},e.call(this,a,b,c)}var e=c(2),f=c(1).inherits;f(d,e),a.exports=d},function(a,b,c){function d(a,b){var c=a.paper.rect(0,0,0,0,20);b=b||{},b.text=b.text||"Start",e.call(this,a,b,c)}var e=c(2),f=c(1).inherits;f(d,e),a.exports=d},function(a,b,c){function d(a,b){var c=a.paper.rect(0,0,0,0);b=b||{},e.call(this,a,b,c),c.attr({width:this.text.getBBox().width+4*this.getAttr("text-margin")}),this.text.attr({x:2*this.getAttr("text-margin")});var d=a.paper.rect(0,0,0,0);d.attr({x:this.getAttr("text-margin"),stroke:this.getAttr("element-color"),"stroke-width":this.getAttr("line-width"),width:this.text.getBBox().width+2*this.getAttr("text-margin"),height:this.text.getBBox().height+2*this.getAttr("text-margin"),fill:this.getAttr("fill")}),b.key&&(d.node.id=b.key+"i");var f=this.getAttr("font"),g=this.getAttr("font-family"),h=this.getAttr("font-weight");f&&d.attr({font:f}),g&&d.attr({"font-family":g}),h&&d.attr({"font-weight":h}),b.link&&d.attr("href",b.link),b.target&&d.attr("target",b.target),this.group.push(d),d.insertBefore(this.text),this.initialize()}var e=c(2),f=c(1).inherits;f(d,e),a.exports=d},function(a,b,c){if("undefined"!=typeof jQuery){var d=c(4);!function(a){a.fn.flowChart=function(b){return this.each(function(){var c=a(this),e=d(c.text());c.html(""),e.drawSVG(this,b)})}}(jQuery)}},function(b){b.exports=a}])});
//# sourceMappingURL=flowchart.min.js.map
