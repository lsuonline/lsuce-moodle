{"version":3,"sources":["../../src/_libs/chartjs-plugin-zoom.js"],"names":["global","factory","exports","module","require","define","amd","self","ChartZoom","Chart","Hammer","hasOwnProperty","helpers","zoomNS","Zoom","zoomFunctions","panFunctions","defaults","plugins","zoom","pan","enabled","mode","speed","threshold","sensitivity","resolveOptions","chart","options","deprecatedOptions","props","$zoom","_options","merge","node","_node","zoomEnabled","dragEnabled","drag","addEventListener","_wheelHandler","removeEventListener","_mouseDownHandler","ownerDocument","_mouseUpHandler","_mouseMoveHandler","storeOriginalOptions","originalOptions","_originalOptions","each","scales","scale","id","clone","opt","key","directionEnabled","dir","indexOf","rangeMaxLimiter","zoomPanOptions","newMax","scaleAxes","rangeMax","isNullOrUndef","rangeMinLimiter","newMin","rangeMin","zoomNumericalScale","center","zoomOptions","range","max","min","newDiff","centerPoint","isHorizontal","x","y","minPercent","getValueForPixel","ticks","zoomScale","fn","type","doZoom","percentZoomX","percentZoomY","focalPoint","whichAxes","animationDuration","ca","chartArea","left","right","top","bottom","zoomMode","_whichAxes","update","duration","easing","onZoom","panNumericalScale","delta","panOptions","tickOpts","prevStart","prevEnd","getPixelForValue","valueOf","diff","panScale","doPan","chartInstance","deltaX","deltaY","panMode","onPan","getXAxis","scaleIds","Object","keys","i","length","getYAxis","category","labels","data","minIndex","lastLabelIndex","maxIndex","chartCenter","width","height","centerPointer","zoomCumulativeDelta","Math","abs","time","linear","logarithmic","offsetAmt","panSpeed","step","round","panCumulativeDelta","zoomPlugin","afterInit","resetZoom","timeOptions","tickOptions","beforeUpdate","beforeInit","pluginOptions","ctx","canvas","panThreshold","event","_dragZoomStart","_dragZoomEnd","beginPoint","offsetX","target","getBoundingClientRect","startX","clientX","endX","offsetY","startY","clientY","endY","dragDistanceX","dragDistanceY","chartDistanceX","xEnabled","zoomX","chartDistanceY","yEnabled","zoomY","onZoomComplete","_scrollTimeout","rect","speedPercent","clearTimeout","setTimeout","cancelable","preventDefault","mc","Manager","add","Pinch","Pan","currentPinchScaling","handlePinch","e","pointers","p","xy","on","currentDeltaX","currentDeltaY","panning","handlePan","onPanComplete","_ghostClickHandler","stopImmediatePropagation","_mc","beforeDatasetsDraw","xAxis","yAxis","endPoint","rectWidth","rectHeight","dragOptions","save","beginPath","fillStyle","backgroundColor","fillRect","borderWidth","lineWidth","strokeStyle","borderColor","strokeRect","restore","destroy","remove","register"],"mappings":"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","sourcesContent":["/*!\n * @license\n * chartjs-plugin-zoom\n * http://chartjs.org/\n * Version: 0.7.5\n *\n * Copyright 2019 Chart.js Contributors\n * Released under the MIT license\n * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js'), require('hammerjs')) :\ntypeof define === 'function' && define.amd ? define(['core/chartjs', 'local_tcs/_libs/hammer'], factory) :\n(global = global || self, global.ChartZoom = factory(global.Chart, global.Hammer));\n}(this, function (Chart, Hammer) { 'use strict';\n\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\nHammer = Hammer && Hammer.hasOwnProperty('default') ? Hammer['default'] : Hammer;\n\nvar helpers = Chart.helpers;\n\n// Take the zoom namespace of Chart\nvar zoomNS = Chart.Zoom = Chart.Zoom || {};\n\n// Where we store functions to handle different scale types\nvar zoomFunctions = zoomNS.zoomFunctions = zoomNS.zoomFunctions || {};\nvar panFunctions = zoomNS.panFunctions = zoomNS.panFunctions || {};\n\nChart.Zoom.defaults = Chart.defaults.global.plugins.zoom = {\n\tpan: {\n\t\tenabled: false,\n\t\tmode: 'xy',\n\t\tspeed: 20,\n\t\tthreshold: 10\n\t},\n\tzoom: {\n\t\tenabled: false,\n\t\tmode: 'xy',\n\t\tsensitivity: 3,\n\t\tspeed: 0.1\n\t}\n};\n\nfunction resolveOptions(chart, options) {\n\tvar deprecatedOptions = {};\n\tif (typeof chart.options.pan !== 'undefined') {\n\t\tdeprecatedOptions.pan = chart.options.pan;\n\t}\n\tif (typeof chart.options.pan !== 'undefined') {\n\t\tdeprecatedOptions.zoom = chart.options.zoom;\n\t}\n\tvar props = chart.$zoom;\n\toptions = props._options = helpers.merge({}, [options, deprecatedOptions]);\n\n\t// Install listeners. Do this dynamically based on options so that we can turn zoom on and off\n\t// We also want to make sure listeners aren't always on. E.g. if you're scrolling down a page\n\t// and the mouse goes over a chart you don't want it intercepted unless the plugin is enabled\n\tvar node = props._node;\n\tvar zoomEnabled = options.zoom && options.zoom.enabled;\n\tvar dragEnabled = options.zoom.drag;\n\tif (zoomEnabled && !dragEnabled) {\n\t\tnode.addEventListener('wheel', props._wheelHandler);\n\t} else {\n\t\tnode.removeEventListener('wheel', props._wheelHandler);\n\t}\n\tif (zoomEnabled && dragEnabled) {\n\t\tnode.addEventListener('mousedown', props._mouseDownHandler);\n\t\tnode.ownerDocument.addEventListener('mouseup', props._mouseUpHandler);\n\t} else {\n\t\tnode.removeEventListener('mousedown', props._mouseDownHandler);\n\t\tnode.removeEventListener('mousemove', props._mouseMoveHandler);\n\t\tnode.ownerDocument.removeEventListener('mouseup', props._mouseUpHandler);\n\t}\n}\n\nfunction storeOriginalOptions(chart) {\n\tvar originalOptions = chart.$zoom._originalOptions;\n\thelpers.each(chart.scales, function(scale) {\n\t\tif (!originalOptions[scale.id]) {\n\t\t\toriginalOptions[scale.id] = helpers.clone(scale.options);\n\t\t}\n\t});\n\thelpers.each(originalOptions, function(opt, key) {\n\t\tif (!chart.scales[key]) {\n\t\t\tdelete originalOptions[key];\n\t\t}\n\t});\n}\n\n/**\n * @param {string} mode can be 'x', 'y' or 'xy'\n * @param {string} dir can be 'x' or 'y'\n */\nfunction directionEnabled(mode, dir) {\n\tif (mode === undefined) {\n\t\treturn true;\n\t} else if (typeof mode === 'string') {\n\t\treturn mode.indexOf(dir) !== -1;\n\t}\n\n\treturn false;\n}\n\nfunction rangeMaxLimiter(zoomPanOptions, newMax) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMax &&\n\t\t\t!helpers.isNullOrUndef(zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMax = zoomPanOptions.rangeMax[zoomPanOptions.scaleAxes];\n\t\tif (newMax > rangeMax) {\n\t\t\tnewMax = rangeMax;\n\t\t}\n\t}\n\treturn newMax;\n}\n\nfunction rangeMinLimiter(zoomPanOptions, newMin) {\n\tif (zoomPanOptions.scaleAxes && zoomPanOptions.rangeMin &&\n\t\t\t!helpers.isNullOrUndef(zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes])) {\n\t\tvar rangeMin = zoomPanOptions.rangeMin[zoomPanOptions.scaleAxes];\n\t\tif (newMin < rangeMin) {\n\t\t\tnewMin = rangeMin;\n\t\t}\n\t}\n\treturn newMin;\n}\n\nfunction zoomCategoryScale(scale, zoom, center, zoomOptions) {\n\tvar labels = scale.chart.data.labels;\n\tvar minIndex = scale.minIndex;\n\tvar lastLabelIndex = labels.length - 1;\n\tvar maxIndex = scale.maxIndex;\n\tvar sensitivity = zoomOptions.sensitivity;\n\tvar chartCenter = scale.isHorizontal() ? scale.left + (scale.width / 2) : scale.top + (scale.height / 2);\n\tvar centerPointer = scale.isHorizontal() ? center.x : center.y;\n\n\tzoomNS.zoomCumulativeDelta = zoom > 1 ? zoomNS.zoomCumulativeDelta + 1 : zoomNS.zoomCumulativeDelta - 1;\n\n\tif (Math.abs(zoomNS.zoomCumulativeDelta) > sensitivity) {\n\t\tif (zoomNS.zoomCumulativeDelta < 0) {\n\t\t\tif (centerPointer >= chartCenter) {\n\t\t\t\tif (minIndex <= 0) {\n\t\t\t\t\tmaxIndex = Math.min(lastLabelIndex, maxIndex + 1);\n\t\t\t\t} else {\n\t\t\t\t\tminIndex = Math.max(0, minIndex - 1);\n\t\t\t\t}\n\t\t\t} else if (centerPointer < chartCenter) {\n\t\t\t\tif (maxIndex >= lastLabelIndex) {\n\t\t\t\t\tminIndex = Math.max(0, minIndex - 1);\n\t\t\t\t} else {\n\t\t\t\t\tmaxIndex = Math.min(lastLabelIndex, maxIndex + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tzoomNS.zoomCumulativeDelta = 0;\n\t\t} else if (zoomNS.zoomCumulativeDelta > 0) {\n\t\t\tif (centerPointer >= chartCenter) {\n\t\t\t\tminIndex = minIndex < maxIndex ? minIndex = Math.min(maxIndex, minIndex + 1) : minIndex;\n\t\t\t} else if (centerPointer < chartCenter) {\n\t\t\t\tmaxIndex = maxIndex > minIndex ? maxIndex = Math.max(minIndex, maxIndex - 1) : maxIndex;\n\t\t\t}\n\t\t\tzoomNS.zoomCumulativeDelta = 0;\n\t\t}\n\t\tscale.options.ticks.min = rangeMinLimiter(zoomOptions, labels[minIndex]);\n\t\tscale.options.ticks.max = rangeMaxLimiter(zoomOptions, labels[maxIndex]);\n\t}\n}\n\nfunction zoomNumericalScale(scale, zoom, center, zoomOptions) {\n\tvar range = scale.max - scale.min;\n\tvar newDiff = range * (zoom - 1);\n\n\tvar centerPoint = scale.isHorizontal() ? center.x : center.y;\n\tvar minPercent = (scale.getValueForPixel(centerPoint) - scale.min) / range;\n\tvar maxPercent = 1 - minPercent;\n\n\tvar minDelta = newDiff * minPercent;\n\tvar maxDelta = newDiff * maxPercent;\n\n\tscale.options.ticks.min = rangeMinLimiter(zoomOptions, scale.min + minDelta);\n\tscale.options.ticks.max = rangeMaxLimiter(zoomOptions, scale.max - maxDelta);\n}\n\nfunction zoomTimeScale(scale, zoom, center, zoomOptions) {\n\tzoomNumericalScale(scale, zoom, center, zoomOptions);\n\n\tvar options = scale.options;\n\tif (options.time) {\n\t\tif (options.time.min) {\n\t\t\toptions.time.min = options.ticks.min;\n\t\t}\n\t\tif (options.time.max) {\n\t\t\toptions.time.max = options.ticks.max;\n\t\t}\n\t}\n}\n\nfunction zoomScale(scale, zoom, center, zoomOptions) {\n\tvar fn = zoomFunctions[scale.type];\n\tif (fn) {\n\t\tfn(scale, zoom, center, zoomOptions);\n\t}\n}\n\n/**\n * @param chart The chart instance\n * @param {number} percentZoomX The zoom percentage in the x direction\n * @param {number} percentZoomY The zoom percentage in the y direction\n * @param {{x: number, y: number}} focalPoint The x and y coordinates of zoom focal point. The point which doesn't change while zooming. E.g. the location of the mouse cursor when \"drag: false\"\n * @param {string} whichAxes `xy`, 'x', or 'y'\n * @param {number} animationDuration Duration of the animation of the redraw in milliseconds\n */\nfunction doZoom(chart, percentZoomX, percentZoomY, focalPoint, whichAxes, animationDuration) {\n\tvar ca = chart.chartArea;\n\tif (!focalPoint) {\n\t\tfocalPoint = {\n\t\t\tx: (ca.left + ca.right) / 2,\n\t\t\ty: (ca.top + ca.bottom) / 2,\n\t\t};\n\t}\n\n\tvar zoomOptions = chart.$zoom._options.zoom;\n\n\tif (zoomOptions.enabled) {\n\t\tstoreOriginalOptions(chart);\n\t\t// Do the zoom here\n\t\tvar zoomMode = typeof zoomOptions.mode === 'function' ? zoomOptions.mode({chart: chart}) : zoomOptions.mode;\n\n\t\t// Which axe should be modified when figers were used.\n\t\tvar _whichAxes;\n\t\tif (zoomMode === 'xy' && whichAxes !== undefined) {\n\t\t\t// based on fingers positions\n\t\t\t_whichAxes = whichAxes;\n\t\t} else {\n\t\t\t// no effect\n\t\t\t_whichAxes = 'xy';\n\t\t}\n\n\t\thelpers.each(chart.scales, function(scale) {\n\t\t\tif (scale.isHorizontal() && directionEnabled(zoomMode, 'x') && directionEnabled(_whichAxes, 'x')) {\n\t\t\t\tzoomOptions.scaleAxes = 'x';\n\t\t\t\tzoomScale(scale, percentZoomX, focalPoint, zoomOptions);\n\t\t\t} else if (!scale.isHorizontal() && directionEnabled(zoomMode, 'y') && directionEnabled(_whichAxes, 'y')) {\n\t\t\t\t// Do Y zoom\n\t\t\t\tzoomOptions.scaleAxes = 'y';\n\t\t\t\tzoomScale(scale, percentZoomY, focalPoint, zoomOptions);\n\t\t\t}\n\t\t});\n\n\t\tif (animationDuration) {\n\t\t\tchart.update({\n\t\t\t\tduration: animationDuration,\n\t\t\t\teasing: 'easeOutQuad',\n\t\t\t});\n\t\t} else {\n\t\t\tchart.update(0);\n\t\t}\n\n\t\tif (typeof zoomOptions.onZoom === 'function') {\n\t\t\tzoomOptions.onZoom({chart: chart});\n\t\t}\n\t}\n}\n\nfunction panCategoryScale(scale, delta, panOptions) {\n\tvar labels = scale.chart.data.labels;\n\tvar lastLabelIndex = labels.length - 1;\n\tvar offsetAmt = Math.max(scale.ticks.length, 1);\n\tvar panSpeed = panOptions.speed;\n\tvar minIndex = scale.minIndex;\n\tvar step = Math.round(scale.width / (offsetAmt * panSpeed));\n\tvar maxIndex;\n\n\tzoomNS.panCumulativeDelta += delta;\n\n\tminIndex = zoomNS.panCumulativeDelta > step ? Math.max(0, minIndex - 1) : zoomNS.panCumulativeDelta < -step ? Math.min(lastLabelIndex - offsetAmt + 1, minIndex + 1) : minIndex;\n\tzoomNS.panCumulativeDelta = minIndex !== scale.minIndex ? 0 : zoomNS.panCumulativeDelta;\n\n\tmaxIndex = Math.min(lastLabelIndex, minIndex + offsetAmt - 1);\n\n\tscale.options.ticks.min = rangeMinLimiter(panOptions, labels[minIndex]);\n\tscale.options.ticks.max = rangeMaxLimiter(panOptions, labels[maxIndex]);\n}\n\nfunction panNumericalScale(scale, delta, panOptions) {\n\tvar tickOpts = scale.options.ticks;\n\tvar prevStart = scale.min;\n\tvar prevEnd = scale.max;\n\tvar newMin = scale.getValueForPixel(scale.getPixelForValue(prevStart) - delta);\n\tvar newMax = scale.getValueForPixel(scale.getPixelForValue(prevEnd) - delta);\n\t// The time scale returns date objects so convert to numbers. Can remove at Chart.js v3\n\tnewMin = newMin.valueOf ? newMin.valueOf() : newMin;\n\tnewMax = newMax.valueOf ? newMax.valueOf() : newMax;\n\tvar rangeMin = newMin;\n\tvar rangeMax = newMax;\n\tvar diff;\n\n\tif (panOptions.scaleAxes && panOptions.rangeMin &&\n\t\t\t!helpers.isNullOrUndef(panOptions.rangeMin[panOptions.scaleAxes])) {\n\t\trangeMin = panOptions.rangeMin[panOptions.scaleAxes];\n\t}\n\tif (panOptions.scaleAxes && panOptions.rangeMax &&\n\t\t\t!helpers.isNullOrUndef(panOptions.rangeMax[panOptions.scaleAxes])) {\n\t\trangeMax = panOptions.rangeMax[panOptions.scaleAxes];\n\t}\n\n\tif (newMin >= rangeMin && newMax <= rangeMax) {\n\t\ttickOpts.min = newMin;\n\t\ttickOpts.max = newMax;\n\t} else if (newMin < rangeMin) {\n\t\tdiff = prevStart - rangeMin;\n\t\ttickOpts.min = rangeMin;\n\t\ttickOpts.max = prevEnd - diff;\n\t} else if (newMax > rangeMax) {\n\t\tdiff = rangeMax - prevEnd;\n\t\ttickOpts.max = rangeMax;\n\t\ttickOpts.min = prevStart + diff;\n\t}\n}\n\nfunction panTimeScale(scale, delta, panOptions) {\n\tpanNumericalScale(scale, delta, panOptions);\n\n\tvar options = scale.options;\n\tif (options.time) {\n\t\tif (options.time.min) {\n\t\t\toptions.time.min = options.ticks.min;\n\t\t}\n\t\tif (options.time.max) {\n\t\t\toptions.time.max = options.ticks.max;\n\t\t}\n\t}\n}\n\nfunction panScale(scale, delta, panOptions) {\n\tvar fn = panFunctions[scale.type];\n\tif (fn) {\n\t\tfn(scale, delta, panOptions);\n\t}\n}\n\nfunction doPan(chartInstance, deltaX, deltaY) {\n\tstoreOriginalOptions(chartInstance);\n\tvar panOptions = chartInstance.$zoom._options.pan;\n\tif (panOptions.enabled) {\n\t\tvar panMode = typeof panOptions.mode === 'function' ? panOptions.mode({chart: chartInstance}) : panOptions.mode;\n\n\t\thelpers.each(chartInstance.scales, function(scale) {\n\t\t\tif (scale.isHorizontal() && directionEnabled(panMode, 'x') && deltaX !== 0) {\n\t\t\t\tpanOptions.scaleAxes = 'x';\n\t\t\t\tpanScale(scale, deltaX, panOptions);\n\t\t\t} else if (!scale.isHorizontal() && directionEnabled(panMode, 'y') && deltaY !== 0) {\n\t\t\t\tpanOptions.scaleAxes = 'y';\n\t\t\t\tpanScale(scale, deltaY, panOptions);\n\t\t\t}\n\t\t});\n\n\t\tchartInstance.update(0);\n\n\t\tif (typeof panOptions.onPan === 'function') {\n\t\t\tpanOptions.onPan({chart: chartInstance});\n\t\t}\n\t}\n}\n\nfunction getXAxis(chartInstance) {\n\tvar scales = chartInstance.scales;\n\tvar scaleIds = Object.keys(scales);\n\tfor (var i = 0; i < scaleIds.length; i++) {\n\t\tvar scale = scales[scaleIds[i]];\n\n\t\tif (scale.isHorizontal()) {\n\t\t\treturn scale;\n\t\t}\n\t}\n}\n\nfunction getYAxis(chartInstance) {\n\tvar scales = chartInstance.scales;\n\tvar scaleIds = Object.keys(scales);\n\tfor (var i = 0; i < scaleIds.length; i++) {\n\t\tvar scale = scales[scaleIds[i]];\n\n\t\tif (!scale.isHorizontal()) {\n\t\t\treturn scale;\n\t\t}\n\t}\n}\n\n// Store these for later\nzoomNS.zoomFunctions.category = zoomCategoryScale;\nzoomNS.zoomFunctions.time = zoomTimeScale;\nzoomNS.zoomFunctions.linear = zoomNumericalScale;\nzoomNS.zoomFunctions.logarithmic = zoomNumericalScale;\nzoomNS.panFunctions.category = panCategoryScale;\nzoomNS.panFunctions.time = panTimeScale;\nzoomNS.panFunctions.linear = panNumericalScale;\nzoomNS.panFunctions.logarithmic = panNumericalScale;\n// Globals for category pan and zoom\nzoomNS.panCumulativeDelta = 0;\nzoomNS.zoomCumulativeDelta = 0;\n\n// Chartjs Zoom Plugin\nvar zoomPlugin = {\n\tid: 'zoom',\n\n\tafterInit: function(chartInstance) {\n\n\t\tchartInstance.resetZoom = function() {\n\t\t\tstoreOriginalOptions(chartInstance);\n\t\t\tvar originalOptions = chartInstance.$zoom._originalOptions;\n\t\t\thelpers.each(chartInstance.scales, function(scale) {\n\n\t\t\t\tvar timeOptions = scale.options.time;\n\t\t\t\tvar tickOptions = scale.options.ticks;\n\n\t\t\t\tif (originalOptions[scale.id]) {\n\n\t\t\t\t\tif (timeOptions) {\n\t\t\t\t\t\ttimeOptions.min = originalOptions[scale.id].time.min;\n\t\t\t\t\t\ttimeOptions.max = originalOptions[scale.id].time.max;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tickOptions) {\n\t\t\t\t\t\ttickOptions.min = originalOptions[scale.id].ticks.min;\n\t\t\t\t\t\ttickOptions.max = originalOptions[scale.id].ticks.max;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\n\t\t\t\t\tif (timeOptions) {\n\t\t\t\t\t\tdelete timeOptions.min;\n\t\t\t\t\t\tdelete timeOptions.max;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (tickOptions) {\n\t\t\t\t\t\tdelete tickOptions.min;\n\t\t\t\t\t\tdelete tickOptions.max;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t});\n\n\t\t\tchartInstance.update();\n\t\t};\n\n\t},\n\n\tbeforeUpdate: function(chart, options) {\n\t\tresolveOptions(chart, options);\n\t},\n\n\tbeforeInit: function(chartInstance, pluginOptions) {\n\t\tchartInstance.$zoom = {\n\t\t\t_originalOptions: {}\n\t\t};\n\t\tvar node = chartInstance.$zoom._node = chartInstance.ctx.canvas;\n\t\tresolveOptions(chartInstance, pluginOptions);\n\n\t\tvar options = chartInstance.$zoom._options;\n\t\tvar panThreshold = options.pan && options.pan.threshold;\n\n\t\tchartInstance.$zoom._mouseDownHandler = function(event) {\n\t\t\tnode.addEventListener('mousemove', chartInstance.$zoom._mouseMoveHandler);\n\t\t\tchartInstance.$zoom._dragZoomStart = event;\n\t\t};\n\n\t\tchartInstance.$zoom._mouseMoveHandler = function(event) {\n\t\t\tif (chartInstance.$zoom._dragZoomStart) {\n\t\t\t\tchartInstance.$zoom._dragZoomEnd = event;\n\t\t\t\tchartInstance.update(0);\n\t\t\t}\n\t\t};\n\n\t\tchartInstance.$zoom._mouseUpHandler = function(event) {\n\t\t\tif (!chartInstance.$zoom._dragZoomStart) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnode.removeEventListener('mousemove', chartInstance.$zoom._mouseMoveHandler);\n\n\t\t\tvar beginPoint = chartInstance.$zoom._dragZoomStart;\n\n\t\t\tvar offsetX = beginPoint.target.getBoundingClientRect().left;\n\t\t\tvar startX = Math.min(beginPoint.clientX, event.clientX) - offsetX;\n\t\t\tvar endX = Math.max(beginPoint.clientX, event.clientX) - offsetX;\n\n\t\t\tvar offsetY = beginPoint.target.getBoundingClientRect().top;\n\t\t\tvar startY = Math.min(beginPoint.clientY, event.clientY) - offsetY;\n\t\t\tvar endY = Math.max(beginPoint.clientY, event.clientY) - offsetY;\n\n\t\t\tvar dragDistanceX = endX - startX;\n\t\t\tvar dragDistanceY = endY - startY;\n\n\t\t\t// Remove drag start and end before chart update to stop drawing selected area\n\t\t\tchartInstance.$zoom._dragZoomStart = null;\n\t\t\tchartInstance.$zoom._dragZoomEnd = null;\n\n\t\t\tif (dragDistanceX <= 0 && dragDistanceY <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar chartArea = chartInstance.chartArea;\n\n\t\t\tvar zoomOptions = chartInstance.$zoom._options.zoom;\n\t\t\tvar chartDistanceX = chartArea.right - chartArea.left;\n\t\t\tvar xEnabled = directionEnabled(zoomOptions.mode, 'x');\n\t\t\tvar zoomX = xEnabled && dragDistanceX ? 1 + ((chartDistanceX - dragDistanceX) / chartDistanceX) : 1;\n\n\t\t\tvar chartDistanceY = chartArea.bottom - chartArea.top;\n\t\t\tvar yEnabled = directionEnabled(zoomOptions.mode, 'y');\n\t\t\tvar zoomY = yEnabled && dragDistanceY ? 1 + ((chartDistanceY - dragDistanceY) / chartDistanceY) : 1;\n\n\t\t\tdoZoom(chartInstance, zoomX, zoomY, {\n\t\t\t\tx: (startX - chartArea.left) / (1 - dragDistanceX / chartDistanceX) + chartArea.left,\n\t\t\t\ty: (startY - chartArea.top) / (1 - dragDistanceY / chartDistanceY) + chartArea.top\n\t\t\t}, undefined, zoomOptions.drag.animationDuration);\n\n\t\t\tif (typeof zoomOptions.onZoomComplete === 'function') {\n\t\t\t\tzoomOptions.onZoomComplete({chart: chartInstance});\n\t\t\t}\n\t\t};\n\n\t\tvar _scrollTimeout = null;\n\t\tchartInstance.$zoom._wheelHandler = function(event) {\n\t\t\tvar rect = event.target.getBoundingClientRect();\n\t\t\tvar offsetX = event.clientX - rect.left;\n\t\t\tvar offsetY = event.clientY - rect.top;\n\n\t\t\tvar center = {\n\t\t\t\tx: offsetX,\n\t\t\t\ty: offsetY\n\t\t\t};\n\n\t\t\tvar zoomOptions = chartInstance.$zoom._options.zoom;\n\t\t\tvar speedPercent = zoomOptions.speed;\n\n\t\t\tif (event.deltaY >= 0) {\n\t\t\t\tspeedPercent = -speedPercent;\n\t\t\t}\n\t\t\tdoZoom(chartInstance, 1 + speedPercent, 1 + speedPercent, center);\n\n\t\t\tclearTimeout(_scrollTimeout);\n\t\t\t_scrollTimeout = setTimeout(function() {\n\t\t\t\tif (typeof zoomOptions.onZoomComplete === 'function') {\n\t\t\t\t\tzoomOptions.onZoomComplete({chart: chartInstance});\n\t\t\t\t}\n\t\t\t}, 250);\n\n\t\t\t// Prevent the event from triggering the default behavior (eg. Content scrolling).\n\t\t\tif (event.cancelable) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t};\n\n\t\tif (Hammer) {\n\t\t\tvar mc = new Hammer.Manager(node);\n\t\t\tmc.add(new Hammer.Pinch());\n\t\t\tmc.add(new Hammer.Pan({\n\t\t\t\tthreshold: panThreshold\n\t\t\t}));\n\n\t\t\t// Hammer reports the total scaling. We need the incremental amount\n\t\t\tvar currentPinchScaling;\n\t\t\tvar handlePinch = function(e) {\n\t\t\t\tvar diff = 1 / (currentPinchScaling) * e.scale;\n\t\t\t\tvar rect = e.target.getBoundingClientRect();\n\t\t\t\tvar offsetX = e.center.x - rect.left;\n\t\t\t\tvar offsetY = e.center.y - rect.top;\n\t\t\t\tvar center = {\n\t\t\t\t\tx: offsetX,\n\t\t\t\t\ty: offsetY\n\t\t\t\t};\n\n\t\t\t\t// fingers position difference\n\t\t\t\tvar x = Math.abs(e.pointers[0].clientX - e.pointers[1].clientX);\n\t\t\t\tvar y = Math.abs(e.pointers[0].clientY - e.pointers[1].clientY);\n\n\t\t\t\t// diagonal fingers will change both (xy) axes\n\t\t\t\tvar p = x / y;\n\t\t\t\tvar xy;\n\t\t\t\tif (p > 0.3 && p < 1.7) {\n\t\t\t\t\txy = 'xy';\n\t\t\t\t} else if (x > y) {\n\t\t\t\t\txy = 'x'; // x axis\n\t\t\t\t} else {\n\t\t\t\t\txy = 'y'; // y axis\n\t\t\t\t}\n\n\t\t\t\tdoZoom(chartInstance, diff, diff, center, xy);\n\n\t\t\t\tvar zoomOptions = chartInstance.$zoom._options.zoom;\n\t\t\t\tif (typeof zoomOptions.onZoomComplete === 'function') {\n\t\t\t\t\tzoomOptions.onZoomComplete({chart: chartInstance});\n\t\t\t\t}\n\n\t\t\t\t// Keep track of overall scale\n\t\t\t\tcurrentPinchScaling = e.scale;\n\t\t\t};\n\n\t\t\tmc.on('pinchstart', function() {\n\t\t\t\tcurrentPinchScaling = 1; // reset tracker\n\t\t\t});\n\t\t\tmc.on('pinch', handlePinch);\n\t\t\tmc.on('pinchend', function(e) {\n\t\t\t\thandlePinch(e);\n\t\t\t\tcurrentPinchScaling = null; // reset\n\t\t\t\tzoomNS.zoomCumulativeDelta = 0;\n\t\t\t});\n\n\t\t\tvar currentDeltaX = null;\n\t\t\tvar currentDeltaY = null;\n\t\t\tvar panning = false;\n\t\t\tvar handlePan = function(e) {\n\t\t\t\tif (currentDeltaX !== null && currentDeltaY !== null) {\n\t\t\t\t\tpanning = true;\n\t\t\t\t\tvar deltaX = e.deltaX - currentDeltaX;\n\t\t\t\t\tvar deltaY = e.deltaY - currentDeltaY;\n\t\t\t\t\tcurrentDeltaX = e.deltaX;\n\t\t\t\t\tcurrentDeltaY = e.deltaY;\n\t\t\t\t\tdoPan(chartInstance, deltaX, deltaY);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tmc.on('panstart', function(e) {\n\t\t\t\tcurrentDeltaX = 0;\n\t\t\t\tcurrentDeltaY = 0;\n\t\t\t\thandlePan(e);\n\t\t\t});\n\t\t\tmc.on('panmove', handlePan);\n\t\t\tmc.on('panend', function() {\n\t\t\t\tcurrentDeltaX = null;\n\t\t\t\tcurrentDeltaY = null;\n\t\t\t\tzoomNS.panCumulativeDelta = 0;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tpanning = false;\n\t\t\t\t}, 500);\n\n\t\t\t\tvar panOptions = chartInstance.$zoom._options.pan;\n\t\t\t\tif (typeof panOptions.onPanComplete === 'function') {\n\t\t\t\t\tpanOptions.onPanComplete({chart: chartInstance});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tchartInstance.$zoom._ghostClickHandler = function(e) {\n\t\t\t\tif (panning && e.cancelable) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t};\n\t\t\tnode.addEventListener('click', chartInstance.$zoom._ghostClickHandler);\n\n\t\t\tchartInstance._mc = mc;\n\t\t}\n\t},\n\n\tbeforeDatasetsDraw: function(chartInstance) {\n\t\tvar ctx = chartInstance.ctx;\n\n\t\tif (chartInstance.$zoom._dragZoomEnd) {\n\t\t\tvar xAxis = getXAxis(chartInstance);\n\t\t\tvar yAxis = getYAxis(chartInstance);\n\t\t\tvar beginPoint = chartInstance.$zoom._dragZoomStart;\n\t\t\tvar endPoint = chartInstance.$zoom._dragZoomEnd;\n\n\t\t\tvar startX = xAxis.left;\n\t\t\tvar endX = xAxis.right;\n\t\t\tvar startY = yAxis.top;\n\t\t\tvar endY = yAxis.bottom;\n\n\t\t\tif (directionEnabled(chartInstance.$zoom._options.zoom.mode, 'x')) {\n\t\t\t\tvar offsetX = beginPoint.target.getBoundingClientRect().left;\n\t\t\t\tstartX = Math.min(beginPoint.clientX, endPoint.clientX) - offsetX;\n\t\t\t\tendX = Math.max(beginPoint.clientX, endPoint.clientX) - offsetX;\n\t\t\t}\n\n\t\t\tif (directionEnabled(chartInstance.$zoom._options.zoom.mode, 'y')) {\n\t\t\t\tvar offsetY = beginPoint.target.getBoundingClientRect().top;\n\t\t\t\tstartY = Math.min(beginPoint.clientY, endPoint.clientY) - offsetY;\n\t\t\t\tendY = Math.max(beginPoint.clientY, endPoint.clientY) - offsetY;\n\t\t\t}\n\n\t\t\tvar rectWidth = endX - startX;\n\t\t\tvar rectHeight = endY - startY;\n\t\t\tvar dragOptions = chartInstance.$zoom._options.zoom.drag;\n\n\t\t\tctx.save();\n\t\t\tctx.beginPath();\n\t\t\tctx.fillStyle = dragOptions.backgroundColor || 'rgba(225,225,225,0.3)';\n\t\t\tctx.fillRect(startX, startY, rectWidth, rectHeight);\n\n\t\t\tif (dragOptions.borderWidth > 0) {\n\t\t\t\tctx.lineWidth = dragOptions.borderWidth;\n\t\t\t\tctx.strokeStyle = dragOptions.borderColor || 'rgba(225,225,225)';\n\t\t\t\tctx.strokeRect(startX, startY, rectWidth, rectHeight);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t},\n\n\tdestroy: function(chartInstance) {\n\t\tif (!chartInstance.$zoom) {\n\t\t\treturn;\n\t\t}\n\t\tvar props = chartInstance.$zoom;\n\t\tvar node = props._node;\n\n\t\tnode.removeEventListener('mousedown', props._mouseDownHandler);\n\t\tnode.removeEventListener('mousemove', props._mouseMoveHandler);\n\t\tnode.ownerDocument.removeEventListener('mouseup', props._mouseUpHandler);\n\t\tnode.removeEventListener('wheel', props._wheelHandler);\n\t\tnode.removeEventListener('click', props._ghostClickHandler);\n\n\t\tdelete chartInstance.$zoom;\n\n\t\tvar mc = chartInstance._mc;\n\t\tif (mc) {\n\t\t\tmc.remove('pinchstart');\n\t\t\tmc.remove('pinch');\n\t\t\tmc.remove('pinchend');\n\t\t\tmc.remove('panstart');\n\t\t\tmc.remove('pan');\n\t\t\tmc.remove('panend');\n\t\t\tmc.destroy();\n\t\t}\n\t}\n};\n\nChart.plugins.register(zoomPlugin);\n\nreturn zoomPlugin;\n\n}));\n"],"file":"chartjs-plugin-zoom.min.js"}