define ("local_tcs/heartbeat",["jquery","local_tcs/tcs_lib"],function(a,b){'use strict';return{changePage:function changePage(a){if("page_dashboard"!=a){this.stop()}else{this.start()}},getDashStats:function getDashStats(){return b.jaxyPromise({call:"getDashStats",params:{hash:b.getHash("tcs_dash_hash")},class:"Stats"})},dashUpdate:function dashUpdate(c){if(b.getHash("tcs_dash_hash")!=c.dash_hash){try{for(var d in c.data){a("."+c.data[d].stat_name).text(c.data[d].stat_data)}if(b.isAdmin()&&c.is_admin){a("#tcs_student_table_wacka").bootstrapTable("load",c.student_table_list)}b.setHash({name:"tcs_dash_hash",value:c.dash_hash})}catch(a){clearInterval(window.DALO)}}},start:function start(a){if("page_dashboard"!=a){return}console.log("HB -> STARTING..................");var c=this;if("undefined"==typeof window.DALO){console.log("HB -> Initiating HeartBeat.");console.log("HB -> You can stop the HB by typing this into the console: clearInterval(window.DALO);");if("undefined"==b.getHash("dash_refresh_rate")){return}window.DALO=setInterval(function(){console.log("-------/-----/-----ba boomp------/-------/------/----");c.getDashStats().then(function(a){c.dashUpdate(a)})},1e3*localStorage.dash_refresh_rate)}},stop:function stop(){clearInterval(window.DALO)}}});
//# sourceMappingURL=heartbeat.min.js.map
