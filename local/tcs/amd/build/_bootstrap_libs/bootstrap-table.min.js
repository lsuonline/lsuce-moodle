function _typeof2(e){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof2=function(e){return typeof e}}else{_typeof2=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof2(e)}(function(e,t){if("function"==typeof define&&define.amd){define ("local_tcs/_bootstrap_libs/bootstrap-table",[],t)}else if("undefined"!=typeof exports){t()}else{t();e.bootstrapTable={exports:{}}.exports}})(this,function(){'use strict';function e(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(e,t){for(var o=0,a;o<t.length;o++){a=t[o];a.enumerable=a.enumerable||!1;a.configurable=!0;if("value"in a)a.writable=!0;Object.defineProperty(e,a.key,a)}}return function(t,o,a){if(o)e(t.prototype,o);if(a)e(t,a);return t}}(),a=function(){function e(e,t){var o=[],a=!0,i=!1,n=void 0;try{for(var s=e[Symbol.iterator](),l;!(a=(l=s.next()).done);a=!0){o.push(l.value);if(t&&o.length===t)break}}catch(e){i=!0;n=e}finally{try{if(!a&&s["return"])s["return"]()}finally{if(i)throw n}}return o}return function(t,o){if(Array.isArray(t)){return t}else if(Symbol.iterator in Object(t)){return e(t,o)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();function t(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++){o[t]=e[t]}return o}else{return Array.from(e)}}var n="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)};(function(s){var i=4;try{var l=s.fn.dropdown.Constructor.VERSION;if(l!==void 0){i=parseInt(l,10)}}catch(t){}var r={3:{theme:"bootstrap3",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},classes:{buttonsPrefix:"btn",buttons:"default",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"pull",inputGroup:"",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active"},html:{toobarDropdow:["<ul class=\"dropdown-menu\" role=\"menu\">","</ul>"],toobarDropdowItem:"<li role=\"menuitem\"><label>%s</label></li>",pageDropdown:["<ul class=\"dropdown-menu\" role=\"menu\">","</ul>"],pageDropdownItem:"<li role=\"menuitem\" class=\"%s\"><a href=\"#\">%s</a></li>",dropdownCaret:"<span class=\"caret\"></span>",pagination:["<ul class=\"pagination%s\">","</ul>"],paginationItem:"<li class=\"page-item%s\"><a class=\"page-link\" href=\"#\">%s</a></li>",icon:"<i class=\"%s %s\"></i>"}},4:{theme:"bootstrap4",iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",fullscreen:"fa-arrows-alt",detailOpen:"fa-plus",detailClose:"fa-minus"},classes:{buttonsPrefix:"btn",buttons:"secondary",buttonsGroup:"btn-group",buttonsDropdown:"btn-group",pull:"float",inputGroup:"",input:"form-control",paginationDropdown:"btn-group dropdown",dropup:"dropup",dropdownActive:"active",paginationActive:"active"},html:{toobarDropdow:["<div class=\"dropdown-menu dropdown-menu-right\">","</div>"],toobarDropdowItem:"<label class=\"dropdown-item\">%s</label>",pageDropdown:["<div class=\"dropdown-menu\">","</div>"],pageDropdownItem:"<a class=\"dropdown-item %s\" href=\"#\">%s</a>",dropdownCaret:"<span class=\"caret\"></span>",pagination:["<ul class=\"pagination%s\">","</ul>"],paginationItem:"<li class=\"page-item%s\"><a class=\"page-link\" href=\"#\">%s</a></li>",icon:"<i class=\"%s %s\"></i>"}}}[i],d={bootstrapVersion:i,sprintf:function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++){o[a-1]=arguments[a]}var n=!0,s=0,l=e.replace(/%s/g,function(){var e=o[s++];if("undefined"==typeof e){n=!1;return""}return e});return n?l:""},isEmptyObject:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return 0===function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(e).length&&e.constructor===Object},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getFieldTitle:function(e,t){for(var o=e,a=Array.isArray(o),i=0,o=a?o:o[Symbol.iterator]();;){var n;if(a){if(i>=o.length)break;n=o[i++]}else{i=o.next();if(i.done)break;n=i.value}var s=n;if(s.field===t){return s.title}}return""},setFieldIndex:function(e){for(var t=0,o=[],a=e[0],n=Array.isArray(a),s=0,a=n?a:a[Symbol.iterator]();;){var l;if(n){if(s>=a.length)break;l=a[s++]}else{s=a.next();if(s.done)break;l=s.value}var d=l;t+=d.colspan||1}for(var c=0;c<e.length;c++){o[c]=[];for(var p=0;p<t;p++){o[c][p]=!1}}for(var h=0;h<e.length;h++){for(var g=e[h],u=Array.isArray(g),f=0,g=u?g:g[Symbol.iterator]();;){var b;if(u){if(f>=g.length)break;b=g[f++]}else{f=g.next();if(f.done)break;b=f.value}var m=b,r=m.rowspan||1,y=m.colspan||1,w=o[h].indexOf(!1);if(1===y){m.fieldIndex=w;if("undefined"==typeof m.field){m.field=w}}for(var v=0;v<r;v++){o[h+v][w]=!0}for(var x=0;x<y;x++){o[h][w+x]=!0}}}},getScrollBarWidth:function(){if(this.cachedWidth===void 0){var e=s("<div/>").addClass("fixed-table-scroll-inner"),t=s("<div/>").addClass("fixed-table-scroll-outer");t.append(e);s("body").append(t);var o=e[0].offsetWidth;t.css("overflow","scroll");var a=e[0].offsetWidth;if(o===a){a=t[0].clientWidth}t.remove();this.cachedWidth=o-a}return this.cachedWidth},calculateObjectValue:function(e,o,a,i){var s=o;if("string"==typeof o){var l=o.split(".");if(1<l.length){s=window;for(var r=l,d=Array.isArray(r),c=0,r=d?r:r[Symbol.iterator]();;){var p;if(d){if(c>=r.length)break;p=r[c++]}else{c=r.next();if(c.done)break;p=c.value}var h=p;s=s[h]}}else{s=window[o]}}if(null!==s&&"object"===("undefined"==typeof s?"undefined":n(s))){return s}if("function"==typeof s){return s.apply(e,a||[])}if(!s&&"string"==typeof o&&this.sprintf.apply(this,[o].concat(t(a)))){return this.sprintf.apply(this,[o].concat(t(a)))}return i},compareObjects:function(e,t,o){var a=Object.keys(e),i=Object.keys(t);if(o&&a.length!==i.length){return!1}for(var n=a,s=Array.isArray(n),l=0,n=s?n:n[Symbol.iterator]();;){var r;if(s){if(l>=n.length)break;r=n[l++]}else{l=n.next();if(l.done)break;r=l.value}var d=r;if(-1!==i.indexOf(d)&&e[d]!==t[d]){return!1}}return!0},escapeHTML:function(e){if("string"==typeof e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;")}return e},getRealDataAttr:function(e){for(var t=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(e),o=Array.isArray(t),i=0,t=o?t:t[Symbol.iterator]();;){var n;if(o){if(i>=t.length)break;n=t[i++]}else{i=t.next();if(i.done)break;n=i.value}var s=n,l=a(s,2),r=l[0],d=l[1],c=r.split(/(?=[A-Z])/).join("-").toLowerCase();if(c!==r){e[c]=d;delete e[r]}}return e},getItemField:function(e,t,o){var a=e;if("string"!=typeof t||e.hasOwnProperty(t)){return o?this.escapeHTML(e[t]):e[t]}for(var i=t.split("."),n=i,s=Array.isArray(n),l=0,n=s?n:n[Symbol.iterator]();;){var r;if(s){if(l>=n.length)break;r=n[l++]}else{l=n.next();if(l.done)break;r=l.value}var d=r;a=a&&a[d]}return o?this.escapeHTML(a):a},isIEBrowser:function(){return-1!==navigator.userAgent.indexOf("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(e,t){for(var o=e,a=Array.isArray(o),i=0,o=a?o:o[Symbol.iterator]();;){var n;if(a){if(i>=o.length)break;n=o[i++]}else{i=o.next();if(i.done)break;n=i.value}var s=n;if(JSON.stringify(s)===JSON.stringify(t)){return e.indexOf(s)}}return-1}},c={height:void 0,classes:"table table-bordered table-hover",theadClasses:"",rowStyle:function(){return{}},rowAttributes:function(){return{}},undefinedText:"-",locale:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortName:void 0,sortOrder:"asc",sortStable:!1,rememberOrder:!1,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},totalField:"total",dataField:"rows",pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchOnEnterKey:!1,strictSearch:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(){return{}},showColumns:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,idField:void 0,selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(e){var t=e.tagName;return-1!==["A","BUTTON"].indexOf(t)},singleSelect:!1,checkboxHeader:!0,maintainSelected:!1,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},detailFilter:function(){return!0},toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsPrefix:r.classes.buttonsPrefix,buttonsClass:r.classes.buttons,icons:r.icons,iconSize:void 0,iconsPrefix:r.iconsPrefix,onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},p={};p["en-US"]=p.en={formatLoadingMessage:function(){return"Loading, please wait"},formatRecordsPerPage:function(e){return e+" rows per page"},formatShowingRows:function(e,t,o){return"Showing "+e+" to "+t+" of "+o+" rows"},formatDetailPagination:function(e){return"Showing "+e+" rows"},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatFullscreen:function(){return"Fullscreen"},formatAllRows:function(){return"All"}};s.extend(c,p["en-US"]);var h=function(){function t(o,a){e(this,t);this.options=a;this.$el=s(o);this.$el_=this.$el.clone();this.timeoutId_=0;this.timeoutFooter_=0;this.init()}o(t,[{key:"init",value:function(){this.initConstants();this.initLocale();this.initContainer();this.initTable();this.initHeader();this.initData();this.initHiddenRows();this.initFooter();this.initToolbar();this.initPagination();this.initBody();this.initSearchText();this.initServer()}},{key:"initConstants",value:function(){var e=this.options;this.constants=r;var t=e.buttonsPrefix?e.buttonsPrefix+"-":"";this.constants.buttonsClass=[e.buttonsPrefix,t+e.buttonsClass,d.sprintf(t+"%s",e.iconSize)].join(" ").trim()}},{key:"initLocale",value:function(){if(this.options.locale){var e=s.fn.bootstrapTable.locales,t=this.options.locale.split(/-|_/);t[0]=t[0].toLowerCase();if(t[1]){t[1]=t[1].toUpperCase()}if(e[this.options.locale]){s.extend(this.options,e[this.options.locale])}else if(e[t.join("-")]){s.extend(this.options,e[t.join("-")])}else if(e[t[0]]){s.extend(this.options,e[t[0]])}}}},{key:"initContainer",value:function(){var e=-1!==["top","both"].indexOf(this.options.paginationVAlign)?"<div class=\"fixed-table-pagination clearfix\"></div>":"",t=-1!==["bottom","both"].indexOf(this.options.paginationVAlign)?"<div class=\"fixed-table-pagination\"></div>":"";this.$container=s("\n        <div class=\"bootstrap-table\">\n        <div class=\"fixed-table-toolbar\"></div>\n        "+e+"\n        <div class=\"fixed-table-container\">\n        <div class=\"fixed-table-header\"><table></table></div>\n        <div class=\"fixed-table-body\">\n        <div class=\"fixed-table-loading\">\n        <span class=\"loading-wrap\">\n        <span class=\"loading-text\">"+this.options.formatLoadingMessage()+"</span>\n        <span class=\"animation-wrap\"><span class=\"animation-dot\"></span></span>\n        </span>\n        </div>\n        </div>\n        <div class=\"fixed-table-footer\"><table><thead><tr></tr></thead></table></div>\n        </div>\n        "+t+"\n        </div>\n      ");this.$container.insertAfter(this.$el);this.$tableContainer=this.$container.find(".fixed-table-container");this.$tableHeader=this.$container.find(".fixed-table-header");this.$tableBody=this.$container.find(".fixed-table-body");this.$tableLoading=this.$container.find(".fixed-table-loading");this.$tableFooter=this.$container.find(".fixed-table-footer");if(this.options.buttonsToolbar){this.$toolbar=s("body").find(this.options.buttonsToolbar)}else{this.$toolbar=this.$container.find(".fixed-table-toolbar")}this.$pagination=this.$container.find(".fixed-table-pagination");this.$tableBody.append(this.$el);this.$container.after("<div class=\"clearfix\"></div>");this.$el.addClass(this.options.classes);this.$tableLoading.addClass(this.options.classes);if(this.options.height){this.$tableContainer.addClass("fixed-height");if(this.options.showFooter){this.$tableContainer.addClass("has-footer")}if(-1!==this.options.classes.split(" ").indexOf("table-bordered")){this.$tableBody.append("<div class=\"fixed-table-border\"></div>");this.$tableBorder=this.$tableBody.find(".fixed-table-border");this.$tableLoading.addClass("fixed-table-border")}}}},{key:"initTable",value:function(){var e=this,o=[],a=[];this.$header=this.$el.find(">thead");if(!this.$header.length){this.$header=s("<thead class=\""+this.options.theadClasses+"\"></thead>").appendTo(this.$el)}else if(this.options.theadClasses){this.$header.addClass(this.options.theadClasses)}this.$header.find("tr").each(function(e,t){var a=[];s(t).find("th").each(function(e,t){if("undefined"!=typeof s(t).data("field")){s(t).data("field",""+s(t).data("field"))}a.push(s.extend({},{title:s(t).html(),class:s(t).attr("class"),titleTooltip:s(t).attr("title"),rowspan:s(t).attr("rowspan")?+s(t).attr("rowspan"):void 0,colspan:s(t).attr("colspan")?+s(t).attr("colspan"):void 0},s(t).data()))});o.push(a)});if(!Array.isArray(this.options.columns[0])){this.options.columns=[this.options.columns]}this.options.columns=s.extend(!0,[],o,this.options.columns);this.columns=[];this.fieldsColumnsIndex=[];d.setFieldIndex(this.options.columns);this.options.columns.forEach(function(o,a){o.forEach(function(o,i){var n=s.extend({},t.COLUMN_DEFAULTS,o);if("undefined"!=typeof n.fieldIndex){e.columns[n.fieldIndex]=n;e.fieldsColumnsIndex[n.field]=n.fieldIndex}e.options.columns[a][i]=n})});if(this.options.data.length){return}var i=[];this.$el.find(">tbody>tr").each(function(t,o){var n={_id:s(o).attr("id"),_class:s(o).attr("class"),_data:d.getRealDataAttr(s(o).data())};s(o).find(">td").each(function(o,a){var l=+s(a).attr("colspan")||1,r=+s(a).attr("rowspan")||1,c=o;for(;i[t]&&i[t][c];c++){}for(var p=c;p<c+l;p++){for(var h=t;h<t+r;h++){if(!i[h]){i[h]=[]}i[h][p]=!0}}var g=e.columns[c].field;n[g]=s(a).html().trim();n["_"+g+"_id"]=s(a).attr("id");n["_"+g+"_class"]=s(a).attr("class");n["_"+g+"_rowspan"]=s(a).attr("rowspan");n["_"+g+"_colspan"]=s(a).attr("colspan");n["_"+g+"_title"]=s(a).attr("title");n["_"+g+"_data"]=d.getRealDataAttr(s(a).data())});a.push(n)});this.options.data=a;if(a.length){this.fromHtml=!0}}},{key:"initHeader",value:function(){var t=this,o={},a=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]};this.options.columns.forEach(function(e,n){a.push("<tr>");if(0===n&&!t.options.cardView&&t.options.detailView){a.push("<th class=\"detail\" rowspan=\""+t.options.columns.length+"\">\n            <div class=\"fht-cell\"></div>\n            </th>\n          ")}e.forEach(function(e,i){var s="",l="",r="",c="",p=d.sprintf(" class=\"%s\"",e["class"]),h="px",g=e.width;if(e.width!==void 0&&!t.options.cardView){if("string"==typeof e.width){if(-1!==e.width.indexOf("%")){h="%"}}}if(e.width&&"string"==typeof e.width){g=e.width.replace("%","").replace("px","")}l=d.sprintf("text-align: %s; ",e.halign?e.halign:e.align);r=d.sprintf("text-align: %s; ",e.align);c=d.sprintf("vertical-align: %s; ",e.valign);c+=d.sprintf("width: %s; ",(e.checkbox||e.radio)&&!g?!e.showSelectTitle?"36px":void 0:g?g+h:void 0);if("undefined"!=typeof e.fieldIndex){t.header.fields[e.fieldIndex]=e.field;t.header.styles[e.fieldIndex]=r+c;t.header.classes[e.fieldIndex]=p;t.header.formatters[e.fieldIndex]=e.formatter;t.header.events[e.fieldIndex]=e.events;t.header.sorters[e.fieldIndex]=e.sorter;t.header.sortNames[e.fieldIndex]=e.sortName;t.header.cellStyles[e.fieldIndex]=e.cellStyle;t.header.searchables[e.fieldIndex]=e.searchable;if(!e.visible){return}if(t.options.cardView&&!e.cardVisible){return}o[e.field]=e}a.push("<th"+d.sprintf(" title=\"%s\"",e.titleTooltip),e.checkbox||e.radio?d.sprintf(" class=\"bs-checkbox %s\"",e["class"]||""):p,d.sprintf(" style=\"%s\"",l+c),d.sprintf(" rowspan=\"%s\"",e.rowspan),d.sprintf(" colspan=\"%s\"",e.colspan),d.sprintf(" data-field=\"%s\"",e.field),0===i&&0<n?" data-not-first-th":"",">");a.push(d.sprintf("<div class=\"th-inner %s\">",t.options.sortable&&e.sortable?"sortable both":""));s=t.options.escape?d.escapeHTML(e.title):e.title;var u=s;if(e.checkbox){s="";if(!t.options.singleSelect&&t.options.checkboxHeader){s="<label><input name=\"btSelectAll\" type=\"checkbox\" /><span></span></label>"}t.header.stateField=e.field}if(e.radio){s="";t.header.stateField=e.field;t.options.singleSelect=!0}if(!s&&e.showSelectTitle){s+=u}a.push(s);a.push("</div>");a.push("<div class=\"fht-cell\"></div>");a.push("</div>");a.push("</th>")});a.push("</tr>")});this.$header.html(a.join(""));this.$header.find("th[data-field]").each(function(e,t){s(t).data(o[s(t).data("field")])});this.$container.off("click",".th-inner").on("click",".th-inner",function(o){var e=s(o.currentTarget);if(t.options.detailView&&!e.parent().hasClass("bs-checkbox")){if(e.closest(".bootstrap-table")[0]!==t.$container[0]){return!1}}if(t.options.sortable&&e.parent().data().sortable){t.onSort(o)}});this.$header.children().children().off("keypress").on("keypress",function(o){if(t.options.sortable&&s(o.currentTarget).data().sortable){var e=o.keyCode||o.which;if(13===e){t.onSort(o)}}});s(window).off("resize.bootstrap-table");if(!this.options.showHeader||this.options.cardView){this.$header.hide();this.$tableHeader.hide();this.$tableLoading.css("top",0)}else{this.$header.show();this.$tableHeader.show();this.$tableLoading.css("top",this.$header.outerHeight()+1);this.getCaret();s(window).on("resize.bootstrap-table",function(o){return t.resetWidth(o)})}this.$selectAll=this.$header.find("[name=\"btSelectAll\"]");this.$selectAll.off("click").on("click",function(e){var o=e.currentTarget,a=s(o).prop("checked");t[a?"checkAll":"uncheckAll"]();t.updateSelected()})}},{key:"initFooter",value:function(){if(!this.options.showFooter||this.options.cardView){this.$tableFooter.hide()}else{this.$tableFooter.show()}}},{key:"initData",value:function(e,t){if("append"===t){this.options.data=this.options.data.concat(e)}else if("prepend"===t){this.options.data=[].concat(e).concat(this.options.data)}else{this.options.data=e||this.options.data}this.data=this.options.data;if("server"===this.options.sidePagination){return}this.initSort()}},{key:"initSort",value:function(){var e=this,t=this.options.sortName,o="desc"===this.options.sortOrder?-1:1,i=this.header.fields.indexOf(this.options.sortName),n=0;if(-1!==i){if(this.options.sortStable){this.data.forEach(function(e,t){if(!e.hasOwnProperty("_position")){e._position=t}})}if(this.options.customSort){d.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data])}else{this.data.sort(function(n,a){if(e.header.sortNames[i]){t=e.header.sortNames[i]}var s=d.getItemField(n,t,e.options.escape),l=d.getItemField(a,t,e.options.escape),r=d.calculateObjectValue(e.header,e.header.sorters[i],[s,l,n,a]);if(r!==void 0){if(e.options.sortStable&&0===r){return o*(n._position-a._position)}return o*r}if(s===void 0||null===s){s=""}if(l===void 0||null===l){l=""}if(e.options.sortStable&&s===l){s=n._position;l=a._position}if(d.isNumeric(s)&&d.isNumeric(l)){s=parseFloat(s);l=parseFloat(l);if(s<l){return-1*o}if(s>l){return o}return 0}if(s===l){return 0}if("string"!=typeof s){s=s.toString()}if(-1===s.localeCompare(l)){return-1*o}return o})}if(this.options.sortClass!==void 0){clearTimeout(n);n=setTimeout(function(){e.$el.removeClass(e.options.sortClass);var t=e.$header.find("[data-field=\""+e.options.sortName+"\"]").index();e.$el.find("tr td:nth-child("+(t+1)+")").addClass(e.options.sortClass)},250)}}}},{key:"onSort",value:function(e){var t=e.type,o=e.currentTarget,a="keypress"===t?s(o):s(o).parent(),i=this.$header.find("th").eq(a.index());this.$header.add(this.$header_).find("span.order").remove();if(this.options.sortName===a.data("field")){this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc"}else{this.options.sortName=a.data("field");if(this.options.rememberOrder){this.options.sortOrder="asc"===a.data("order")?"desc":"asc"}else{this.options.sortOrder=this.columns[this.fieldsColumnsIndex[a.data("field")]].order}}this.trigger("sort",this.options.sortName,this.options.sortOrder);a.add(i).data("order",this.options.sortOrder);this.getCaret();if("server"===this.options.sidePagination){this.initServer(this.options.silentSort);return}this.initSort();this.initBody()}},{key:"initToolbar",value:function(){var e=this,t=this.options,o=[],a=0,i=void 0,l=void 0,r=0;if(this.$toolbar.find(".bs-bars").children().length){s("body").append(s(t.toolbar))}this.$toolbar.html("");if("string"==typeof t.toolbar||"object"===n(t.toolbar)){s(d.sprintf("<div class=\"bs-bars %s-%s\"></div>",this.constants.classes.pull,t.toolbarAlign)).appendTo(this.$toolbar).append(s(t.toolbar))}o=["<div class=\""+["columns","columns-"+t.buttonsAlign,this.constants.classes.buttonsGroup,this.constants.classes.pull+"-"+t.buttonsAlign].join(" ")+"\">"];if("string"==typeof t.icons){t.icons=d.calculateObjectValue(null,t.icons)}if(t.showPaginationSwitch){o.push("<button class=\""+this.constants.buttonsClass+"\" type=\"button\" name=\"paginationSwitch\"\n          aria-label=\"Pagination Switch\" title=\""+t.formatPaginationSwitch()+"\">\n          "+d.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.paginationSwitchDown)+"\n          </button>")}if(t.showRefresh){o.push("<button class=\""+this.constants.buttonsClass+"\" type=\"button\" name=\"refresh\"\n          aria-label=\"Refresh\" title=\""+t.formatRefresh()+"\">\n          "+d.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.refresh)+"\n          </button>")}if(t.showToggle){o.push("<button class=\""+this.constants.buttonsClass+"\" type=\"button\" name=\"toggle\"\n          aria-label=\"Toggle\" title=\""+t.formatToggle()+"\">\n          "+d.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.toggleOff)+"\n          </button>")}if(t.showFullscreen){o.push("<button class=\""+this.constants.buttonsClass+"\" type=\"button\" name=\"fullscreen\"\n          aria-label=\"Fullscreen\" title=\""+t.formatFullscreen()+"\">\n          "+d.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.fullscreen)+"\n          </button>")}if(t.showColumns){o.push("<div class=\"keep-open "+this.constants.classes.buttonsDropdown+"\" title=\""+t.formatColumns()+"\">\n          <button class=\""+this.constants.buttonsClass+" dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\"\n          aria-label=\"Columns\" title=\""+t.formatFullscreen()+"\">\n          "+d.sprintf(this.constants.html.icon,t.iconsPrefix,t.icons.columns)+"\n          "+this.constants.html.dropdownCaret+"\n          </button>\n          "+this.constants.html.toobarDropdow[0]);this.columns.forEach(function(a,n){if(a.radio||a.checkbox){return}if(t.cardView&&!a.cardVisible){return}var i=a.visible?" checked=\"checked\"":"";if(a.switchable){o.push(d.sprintf(e.constants.html.toobarDropdowItem,d.sprintf("<input type=\"checkbox\" data-field=\"%s\" value=\"%s\"%s> <span>%s</span>",a.field,n,i,a.title)));r++}});o.push(this.constants.html.toobarDropdow[1],"</div>")}o.push("</div>");if(this.showToolbar||2<o.length){this.$toolbar.append(o.join(""))}if(t.showPaginationSwitch){this.$toolbar.find("button[name=\"paginationSwitch\"]").off("click").on("click",function(){return e.togglePagination()})}if(t.showFullscreen){this.$toolbar.find("button[name=\"fullscreen\"]").off("click").on("click",function(){return e.toggleFullscreen()})}if(t.showRefresh){this.$toolbar.find("button[name=\"refresh\"]").off("click").on("click",function(){return e.refresh()})}if(t.showToggle){this.$toolbar.find("button[name=\"toggle\"]").off("click").on("click",function(){e.toggleView()})}if(t.showColumns){i=this.$toolbar.find(".keep-open");if(r<=t.minimumCountColumns){i.find("input").prop("disabled",!0)}i.find("li, label").off("click").on("click",function(t){t.stopImmediatePropagation()});i.find("input").off("click").on("click",function(t){var o=t.currentTarget,a=s(o);e.toggleColumn(a.val(),a.prop("checked"),!1);e.trigger("column-switch",a.data("field"),a.prop("checked"))})}if(t.search){o=[];o.push("<div class=\""+this.constants.classes.pull+"-"+t.searchAlign+" search "+this.constants.classes.inputGroup+"\">\n          <input class=\""+this.constants.classes.input+d.sprintf(" input-%s",t.iconSize)+"\"\n          type=\"text\" placeholder=\""+t.formatSearch()+"\">\n          </div>");this.$toolbar.append(o.join(""));l=this.$toolbar.find(".search input");l.off("keyup drop blur").on("keyup drop blur",function(o){if(t.searchOnEnterKey&&13!==o.keyCode){return}if(-1!==[37,38,39,40].indexOf(o.keyCode)){return}clearTimeout(a);a=setTimeout(function(){e.onSearch(o)},t.searchTimeOut)});if(d.isIEBrowser()){l.off("mouseup").on("mouseup",function(o){clearTimeout(a);a=setTimeout(function(){e.onSearch(o)},t.searchTimeOut)})}}}},{key:"onSearch",value:function(e){var t=e.currentTarget,o=e.firedByInitSearchText,a=s(t).val().trim();if(this.options.trimOnSearch&&s(t).val()!==a){s(t).val(a)}if(a===this.searchText){return}this.searchText=a;this.options.searchText=a;if(!o){this.options.pageNumber=1}this.initSearch();if(o){if("client"===this.options.sidePagination){this.updatePagination()}}else{this.updatePagination()}this.trigger("search",a)}},{key:"initSearch",value:function(){var e=this;if("server"!==this.options.sidePagination){if(this.options.customSearch){this.data=d.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText]);return}var t=this.searchText&&(this.options.escape?d.escapeHTML(this.searchText):this.searchText).toLowerCase(),o=d.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=o?this.options.data.filter(function(e){for(var t in o){if(Array.isArray(o[t])&&!(-1!==o[t].indexOf(e[t]))||!Array.isArray(o[t])&&e[t]!==o[t]){return!1}}return!0}):this.options.data;this.data=t?this.data.filter(function(o,a){for(var i=0;i<e.header.fields.length;i++){if(!e.header.searchables[i]){continue}var n=d.isNumeric(e.header.fields[i])?parseInt(e.header.fields[i],10):e.header.fields[i],s=e.columns[e.fieldsColumnsIndex[n]],l=void 0;if("string"==typeof n){l=o;for(var r=n.split("."),c=0;c<r.length;c++){if(null!==l[r[c]]){l=l[r[c]]}}}else{l=o[n]}if(s&&s.searchFormatter){l=d.calculateObjectValue(s,e.header.formatters[i],[l,o,a],l)}if("string"==typeof l||"number"==typeof l){if(e.options.strictSearch){if((""+l).toLowerCase()===t){return!0}}else{if(-1!==(""+l).toLowerCase().indexOf(t)){return!0}}}}return!1}):this.data}}},{key:"initPagination",value:function(){var t=this,a=this.options;if(!a.pagination){this.$pagination.hide();return}this.$pagination.show();var e=[],o=!1,n=void 0,s=void 0,l=void 0,r=void 0,c=void 0,p=void 0,h=void 0,g=this.getData(),u=a.pageList;if("server"!==a.sidePagination){a.totalRows=g.length}this.totalPages=0;if(a.totalRows){if(a.pageSize===a.formatAllRows()){a.pageSize=a.totalRows;o=!0}else if(a.pageSize===a.totalRows){var f="string"==typeof a.pageList?a.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):a.pageList;if(-1!==f.indexOf(a.formatAllRows().toLowerCase())){o=!0}}this.totalPages=~~((a.totalRows-1)/a.pageSize)+1;a.totalPages=this.totalPages}if(0<this.totalPages&&a.pageNumber>this.totalPages){a.pageNumber=this.totalPages}this.pageFrom=(a.pageNumber-1)*a.pageSize+1;this.pageTo=a.pageNumber*a.pageSize;if(this.pageTo>a.totalRows){this.pageTo=a.totalRows}var b=a.onlyInfoPagination?a.formatDetailPagination(a.totalRows):a.formatShowingRows(this.pageFrom,this.pageTo,a.totalRows);e.push("<div class=\""+this.constants.classes.pull+"-"+a.paginationDetailHAlign+" pagination-detail\">\n        <span class=\"pagination-info\">\n        "+b+"\n        </span>");if(!a.onlyInfoPagination){e.push("<span class=\"page-list\">");var m=["<span class=\""+this.constants.classes.paginationDropdown+"\">\n          <button class=\""+this.constants.buttonsClass+" dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\">\n          <span class=\"page-size\">\n          "+(o?a.formatAllRows():a.pageSize)+"\n          </span>\n          "+this.constants.html.dropdownCaret+"\n          </button>\n          "+this.constants.html.pageDropdown[0]];if("string"==typeof a.pageList){var y=a.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");u=[];for(var w=y,k=Array.isArray(w),v=0,w=k?w:w[Symbol.iterator]();;){var x;if(k){if(v>=w.length)break;x=w[v++]}else{v=w.next();if(v.done)break;x=v.value}var S=x;u.push(S.toUpperCase()===a.formatAllRows().toUpperCase()||"UNLIMITED"===S.toUpperCase()?a.formatAllRows():+S)}}u.forEach(function(e,n){if(!a.smartDisplay||0===n||u[n-1]<a.totalRows){var i;if(o){i=e===a.formatAllRows()?t.constants.classes.dropdownActive:""}else{i=e===a.pageSize?t.constants.classes.dropdownActive:""}m.push(d.sprintf(t.constants.html.pageDropdownItem,i,e))}});m.push(this.constants.html.pageDropdown[1]+"</span>");e.push(a.formatRecordsPerPage(m.join("")));e.push("</span></div>");e.push("<div class=\""+this.constants.classes.pull+"-"+a.paginationHAlign+" pagination\">",d.sprintf(this.constants.html.pagination[0],d.sprintf(" pagination-%s",a.iconSize)),d.sprintf(this.constants.html.paginationItem," page-pre",a.paginationPreText));if(this.totalPages<a.paginationSuccessivelySize){s=1;l=this.totalPages}else{s=a.pageNumber-a.paginationPagesBySide;l=s+2*a.paginationPagesBySide}if(a.pageNumber<a.paginationSuccessivelySize-1){l=a.paginationSuccessivelySize}if(l>this.totalPages){l=this.totalPages}if(a.paginationSuccessivelySize>this.totalPages-s){s=s-(a.paginationSuccessivelySize-(this.totalPages-s))+1}if(1>s){s=1}if(l>this.totalPages){l=this.totalPages}var $=Math.round(a.paginationPagesBySide/2),P=function(e){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"";return d.sprintf(t.constants.html.paginationItem,o+(e===a.pageNumber?" "+t.constants.classes.paginationActive:""),e)};if(1<s){var C=a.paginationPagesBySide;if(C>=s)C=s-1;for(n=1;n<=C;n++){e.push(P(n))}if(s-1===C+1){n=s-1;e.push(P(n))}else{if(s-1>C){if(s-2*a.paginationPagesBySide>a.paginationPagesBySide&&a.paginationUseIntermediate){n=Math.round((s-$)/2+$);e.push(P(n," page-intermediate"))}else{e.push(d.sprintf(this.constants.html.paginationItem," page-first-separator disabled","..."))}}}}for(n=s;n<=l;n++){e.push(P(n))}if(this.totalPages>l){var T=this.totalPages-(a.paginationPagesBySide-1);if(l>=T)T=l+1;if(l+1===T-1){n=l+1;e.push(P(n))}else{if(T>l+1){if(this.totalPages-l>2*a.paginationPagesBySide&&a.paginationUseIntermediate){n=Math.round((this.totalPages-$-l)/2+l);e.push(P(n," page-intermediate"))}else{e.push(d.sprintf(this.constants.html.paginationItem," page-last-separator disabled","..."))}}}for(n=T;n<=this.totalPages;n++){e.push(P(n))}}e.push(d.sprintf(this.constants.html.paginationItem," page-next",a.paginationNextText));e.push(this.constants.html.pagination[1],"</div>")}this.$pagination.html(e.join(""));var A=-1!==["bottom","both"].indexOf(a.paginationVAlign)?" "+this.constants.classes.dropup:"";this.$pagination.last().find(".page-list > span").addClass(A);if(!a.onlyInfoPagination){r=this.$pagination.find(".page-list a");c=this.$pagination.find(".page-pre");p=this.$pagination.find(".page-next");h=this.$pagination.find(".page-item").not(".page-next, .page-pre");if(a.smartDisplay){if(1>=this.totalPages){this.$pagination.find("div.pagination").hide()}if(2>u.length||a.totalRows<=u[0]){this.$pagination.find("span.page-list").hide()}this.$pagination[this.getData().length?"show":"hide"]()}if(!a.paginationLoop){if(1===a.pageNumber){c.addClass("disabled")}if(a.pageNumber===this.totalPages){p.addClass("disabled")}}if(o){a.pageSize=a.formatAllRows()}r.off("click").on("click",function(o){return t.onPageListChange(o)});c.off("click").on("click",function(o){return t.onPagePre(o)});p.off("click").on("click",function(o){return t.onPageNext(o)});h.off("click").on("click",function(o){return t.onPageNumber(o)})}}},{key:"updatePagination",value:function(e){if(e&&s(e.currentTarget).hasClass("disabled")){return}if(!this.options.maintainSelected){this.resetRows()}this.initPagination();if("server"===this.options.sidePagination){this.initServer()}else{this.initBody()}this.trigger("page-change",this.options.pageNumber,this.options.pageSize)}},{key:"onPageListChange",value:function(e){e.preventDefault();var t=s(e.currentTarget);t.parent().addClass(this.constants.classes.dropdownActive).siblings().removeClass(this.constants.classes.dropdownActive);this.options.pageSize=t.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+t.text();this.$toolbar.find(".page-size").text(this.options.pageSize);this.updatePagination(e);return!1}},{key:"onPagePre",value:function(e){e.preventDefault();if(0==this.options.pageNumber-1){this.options.pageNumber=this.options.totalPages}else{this.options.pageNumber--}this.updatePagination(e);return!1}},{key:"onPageNext",value:function(e){e.preventDefault();if(this.options.pageNumber+1>this.options.totalPages){this.options.pageNumber=1}else{this.options.pageNumber++}this.updatePagination(e);return!1}},{key:"onPageNumber",value:function(e){e.preventDefault();if(this.options.pageNumber===+s(e.currentTarget).text()){return}this.options.pageNumber=+s(e.currentTarget).text();this.updatePagination(e);return!1}},{key:"initRow",value:function(e,t){var o=this,i=[],n={},s=[],l="",r={},c=[];if(-1<d.findIndex(this.hiddenRows,e)){return}n=d.calculateObjectValue(this.options,this.options.rowStyle,[e,t],n);if(n&&n.css){for(var p=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(n.css),h=Array.isArray(p),g=0,p=h?p:p[Symbol.iterator]();;){var u;if(h){if(g>=p.length)break;u=p[g++]}else{g=p.next();if(g.done)break;u=g.value}var f=u,b=a(f,2),m=b[0],y=b[1];s.push(m+": "+y)}}r=d.calculateObjectValue(this.options,this.options.rowAttributes,[e,t],r);if(r){for(var w=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(r),x=Array.isArray(w),S=0,w=x?w:w[Symbol.iterator]();;){var $;if(x){if(S>=w.length)break;$=w[S++]}else{S=w.next();if(S.done)break;$=S.value}var P=$,C=a(P,2),T=C[0],A=C[1];c.push(T+"=\""+d.escapeHTML(A)+"\"")}}if(e._data&&!d.isEmptyObject(e._data)){for(var O=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(e._data),I=Array.isArray(O),R=0,O=I?O:O[Symbol.iterator]();;){var _;if(I){if(R>=O.length)break;_=O[R++]}else{R=O.next();if(R.done)break;_=R.value}var V=_,F=a(V,2),B=F[0],k=F[1];if("index"===B){return}l+=" data-"+B+"=\""+k+"\""}}i.push("<tr",d.sprintf(" %s",c.length?c.join(" "):void 0),d.sprintf(" id=\"%s\"",Array.isArray(e)?void 0:e._id),d.sprintf(" class=\"%s\"",n.classes||(Array.isArray(e)?void 0:e._class))," data-index=\""+t+"\"",d.sprintf(" data-uniqueid=\"%s\"",e[this.options.uniqueId]),d.sprintf("%s",l),">");if(this.options.cardView){i.push("<td colspan=\""+this.header.fields.length+"\"><div class=\"card-views\">")}if(!this.options.cardView&&this.options.detailView){i.push("<td>");if(d.calculateObjectValue(null,this.options.detailFilter,[t,e])){i.push("\n            <a class=\"detail-icon\" href=\"#\">\n            "+d.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.icons.detailOpen)+"\n            </a>\n          ")}i.push("</td>")}this.header.fields.forEach(function(n,l){var r="",p=d.getItemField(e,n,o.options.escape),h="",g="",u={},f="",b=o.header.classes[l],m="",y="",w="",k="",v="",x=o.columns[l];if(o.fromHtml&&"undefined"==typeof p){if(!x.checkbox&&!x.radio){return}}if(!x.visible){return}if(o.options.cardView&&!x.cardVisible){return}if(x.escape){p=d.escapeHTML(p)}if(s.concat([o.header.styles[l]]).length){m=" style=\""+s.concat([o.header.styles[l]]).join("; ")+"\""}if(e["_"+n+"_id"]){f=d.sprintf(" id=\"%s\"",e["_"+n+"_id"])}if(e["_"+n+"_class"]){b=d.sprintf(" class=\"%s\"",e["_"+n+"_class"])}if(e["_"+n+"_rowspan"]){w=d.sprintf(" rowspan=\"%s\"",e["_"+n+"_rowspan"])}if(e["_"+n+"_colspan"]){k=d.sprintf(" colspan=\"%s\"",e["_"+n+"_colspan"])}if(e["_"+n+"_title"]){v=d.sprintf(" title=\"%s\"",e["_"+n+"_title"])}u=d.calculateObjectValue(o.header,o.header.cellStyles[l],[p,e,t,n],u);if(u.classes){b=" class=\""+u.classes+"\""}if(u.css){for(var S=[],$=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(u.css),P=Array.isArray($),C=0,$=P?$:$[Symbol.iterator]();;){var T;if(P){if(C>=$.length)break;T=$[C++]}else{C=$.next();if(C.done)break;T=C.value}var A=T,O=a(A,2),I=O[0],R=O[1];S.push(I+": "+R)}m=" style=\""+S.concat(o.header.styles[l]).join("; ")+"\""}h=d.calculateObjectValue(x,o.header.formatters[l],[p,e,t,n],p);if(e["_"+n+"_data"]&&!d.isEmptyObject(e["_"+n+"_data"])){for(var _=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(e["_"+n+"_data"]),V=Array.isArray(_),F=0,_=V?_:_[Symbol.iterator]();;){var B;if(V){if(F>=_.length)break;B=_[F++]}else{F=_.next();if(F.done)break;B=F.value}var N=B,j=a(N,2),H=j[0],L=j[1];if("index"===H){return}y+=" data-"+H+"=\""+L+"\""}}if(x.checkbox||x.radio){g=x.checkbox?"checkbox":g;g=x.radio?"radio":g;var D=x["class"]||"",c=!0===h||p||h&&h.checked,E=!x.checkboxEnabled||h&&h.disabled;r=[o.options.cardView?"<div class=\"card-view "+D+"\">":"<td class=\"bs-checkbox "+D+"\">","<label>\n              <input\n              data-index=\""+t+"\"\n              name=\""+o.options.selectItemName+"\"\n              type=\""+g+"\"\n              "+d.sprintf("value=\"%s\"",e[o.options.idField])+"\n              "+d.sprintf("checked=\"%s\"",c?"checked":void 0)+"\n              "+d.sprintf("disabled=\"%s\"",E?"disabled":void 0)+" />\n              <span></span>\n              </label>",o.header.formatters[l]&&"string"==typeof h?h:"",o.options.cardView?"</div>":"</td>"].join("");e[o.header.stateField]=!0===h||!!p||h&&h.checked}else{h="undefined"==typeof h||null===h?o.options.undefinedText:h;if(o.options.cardView){var U=o.options.showHeader?"<span class=\"card-view-title\""+m+">"+d.getFieldTitle(o.columns,n)+"</span>":"";r="<div class=\"card-view\">"+U+"<span class=\"card-view-value\">"+h+"</span></div>";if(o.options.smartDisplay&&""===h){r="<div class=\"card-view\"></div>"}}else{r="<td"+f+b+m+y+w+k+v+">"+h+"</td>"}}i.push(r)});if(this.options.cardView){i.push("</div></td>")}i.push("</tr>");return i.join("")}},{key:"initBody",value:function(e){var t=this,o=this.getData();this.trigger("pre-body",o);this.$body=this.$el.find(">tbody");if(!this.$body.length){this.$body=s("<tbody></tbody>").appendTo(this.$el)}if(!this.options.pagination||"server"===this.options.sidePagination){this.pageFrom=1;this.pageTo=o.length}for(var n=s(document.createDocumentFragment()),l=!1,r=this.pageFrom-1;r<this.pageTo;r++){var c=o[r],p=this.initRow(c,r,o,n);l=l||!!p;if(p&&"string"==typeof p){n.append(p)}}if(!l){this.$body.html("<tr class=\"no-records-found\">"+d.sprintf("<td colspan=\"%s\">%s</td>",this.$header.find("th").length,this.options.formatNoMatches())+"</tr>")}else{this.$body.html(n)}if(!e){this.scrollTo(0)}this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(e){var o=e.currentTarget,a=e.type,i=e.target,n=s(o),l=n.parent(),r=s(i).parents(".card-views").children(),c=s(i).parents(".card-view"),p=t.data[l.data("index")],h=t.options.cardView?r.index(c):n[0].cellIndex,g=t.getVisibleFields(),u=g[t.options.detailView&&!t.options.cardView?h-1:h],f=t.columns[t.fieldsColumnsIndex[u]],b=d.getItemField(p,u,t.options.escape);if(n.find(".detail-icon").length){return}t.trigger("click"===a?"click-cell":"dbl-click-cell",u,b,p,n);t.trigger("click"===a?"click-row":"dbl-click-row",p,l,u);if("click"===a&&t.options.clickToSelect&&f.clickToSelect&&!d.calculateObjectValue(t.options,t.options.ignoreClickToSelectOn,[i])){var m=l.find(d.sprintf("[name=\"%s\"]",t.options.selectItemName));if(m.length){m[0].click()}}});this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(a){a.preventDefault();var e=s(a.currentTarget),i=e.parent().parent(),n=i.data("index"),l=o[n];if(i.next().is("tr.detail-view")){e.html(d.sprintf(t.constants.html.icon,t.options.iconsPrefix,t.options.icons.detailOpen));t.trigger("collapse-row",n,l,i.next());i.next().remove()}else{e.html(d.sprintf(t.constants.html.icon,t.options.iconsPrefix,t.options.icons.detailClose));i.after(d.sprintf("<tr class=\"detail-view\"><td colspan=\"%s\"></td></tr>",i.children("td").length));var r=i.next().find("td"),c=d.calculateObjectValue(t.options,t.options.detailFormatter,[n,l,r],"");if(1===r.length){r.append(c)}t.trigger("expand-row",n,l,r)}t.resetView();return!1});this.$selectItem=this.$body.find(d.sprintf("[name=\"%s\"]",this.options.selectItemName));this.$selectItem.off("click").on("click",function(o){o.stopImmediatePropagation();var e=s(o.currentTarget);t.check_(e.prop("checked"),e.data("index"))});this.header.events.forEach(function(e,o){var i=e;if(!i){return}if("string"==typeof i){i=d.calculateObjectValue(null,i)}var n=t.header.fields[o],l=t.getVisibleFields().indexOf(n);if(-1===l){return}if(t.options.detailView&&!t.options.cardView){l+=1}for(var r=function(){if(p){if(h>=c.length)return"break";g=c[h++]}else{h=c.next();if(h.done)return"break";g=h.value}var e=g,o=a(e,2),r=o[0],d=o[1];t.$body.find(">tr:not(.no-records-found)").each(function(e,o){var a=s(o),i=a.find(t.options.cardView?".card-view":"td").eq(l),c=r.indexOf(" "),p=r.substring(0,c),h=r.substring(c+1);i.find(h).off(p).on(p,function(o){var e=a.data("index"),i=t.data[e],s=i[n];d.apply(t,[o,s,i,e])})})},c=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(i),p=Array.isArray(c),h=0,c=p?c:c[Symbol.iterator]();;){var g,u=r();if("break"===u)break}});this.updateSelected();this.resetView();this.trigger("post-body",o)}},{key:"initServer",value:function(e,t,o){var a=this,i={},n=this.header.fields.indexOf(this.options.sortName),l={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[n]){l.sortName=this.header.sortNames[n]}if(this.options.pagination&&"server"===this.options.sidePagination){l.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;l.pageNumber=this.options.pageNumber}if(!(o||this.options.url)&&!this.options.ajax){return}if("limit"===this.options.queryParamsType){l={search:l.searchText,sort:l.sortName,order:l.sortOrder};if(this.options.pagination&&"server"===this.options.sidePagination){l.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1);l.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize;if(0===l.limit){delete l.limit}}}if(!d.isEmptyObject(this.filterColumnsPartial)){l.filter=JSON.stringify(this.filterColumnsPartial,null)}i=d.calculateObjectValue(this.options,this.options.queryParams,[l],i);s.extend(i,t||{});if(!1===i){return}if(!e){this.showLoading()}var r=s.extend({},d.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:o||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(i):i,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){var o=d.calculateObjectValue(a.options,a.options.responseHandler,[t],t);a.load(o);a.trigger("load-success",o);if(!e){a.hideLoading()}},error:function(t){var o=[];if("server"===a.options.sidePagination){o={};o[a.options.totalField]=0;o[a.options.dataField]=[]}a.load(o);a.trigger("load-error",t.status,t);if(!e)a.$tableLoading.hide()}});if(this.options.ajax){d.calculateObjectValue(this,this.options.ajax,[r],null)}else{if(this._xhr&&4!==this._xhr.readyState){this._xhr.abort()}this._xhr=s.ajax(r)}return i}},{key:"initSearchText",value:function(){if(this.options.search){this.searchText="";if(""!==this.options.searchText){var e=this.$toolbar.find(".search input");e.val(this.options.searchText);this.onSearch({currentTarget:e,firedByInitSearchText:!0})}}}},{key:"getCaret",value:function(){var e=this;this.$header.find("th").each(function(t,o){s(o).find(".sortable").removeClass("desc asc").addClass(s(o).data("field")===e.options.sortName?e.options.sortOrder:"both")})}},{key:"updateSelected",value:function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.each(function(e,t){s(t).closest("tr")[s(t).prop("checked")?"addClass":"removeClass"]("selected")})}},{key:"updateRows",value:function(){var e=this;this.$selectItem.each(function(t,o){e.data[s(o).data("index")][e.header.stateField]=s(o).prop("checked")})}},{key:"resetRows",value:function(){for(var e=this.data,t=Array.isArray(e),o=0,e=t?e:e[Symbol.iterator]();;){var a;if(t){if(o>=e.length)break;a=e[o++]}else{o=e.next();if(o.done)break;a=o.value}var i=a;this.$selectAll.prop("checked",!1);this.$selectItem.prop("checked",!1);if(this.header.stateField){i[this.header.stateField]=!1}}this.initHiddenRows()}},{key:"trigger",value:function(e){for(var o,a=e+".bs.table",i=arguments.length,n=Array(1<i?i-1:0),l=1;l<i;l++){n[l-1]=arguments[l]}(o=this.options)[t.EVENTS[a]].apply(o,n);this.$el.trigger(s.Event(a),n);this.options.onAll(a,n);this.$el.trigger(s.Event("all.bs.table"),[a,n])}},{key:"resetHeader",value:function(){var e=this;clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(function(){return e.fitHeader()},this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var e=this;if(this.$el.is(":hidden")){this.timeoutId_=setTimeout(function(){return e.fitHeader()},100);return}var t=this.$tableBody.get(0),o=t.scrollWidth>t.clientWidth&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?d.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var a=s(":focus");if(0<a.length){var i=a.parents("th");if(0<i.length){var n=i.attr("data-field");if(n!==void 0){var l=this.$header.find("[data-field='"+n+"']");if(0<l.length){l.find(":input").addClass("focus-temp")}}}}this.$header_=this.$header.clone(!0,!0);this.$selectAll_=this.$header_.find("[name=\"btSelectAll\"]");this.$tableHeader.css("margin-right",o).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);this.$tableLoading.css("width",this.$el.outerWidth());var r=s(".focus-temp:visible:eq(0)");if(0<r.length){r.focus();this.$header.find(".focus-temp").removeClass("focus-temp")}this.$header.find("th[data-field]").each(function(t,o){e.$header_.find(d.sprintf("th[data-field=\"%s\"]",s(o).data("field"))).data(s(o).data())});var c=this.getVisibleFields(),p=this.$header_.find("th"),h=this.$body.find(">tr:first-child:not(.no-records-found)");while(h.length&&h.find(">td[colspan]:not([colspan=\"1\"])").length){h=h.next()}h.find("> *").each(function(t,o){var a=s(o),i=t;if(e.options.detailView&&!e.options.cardView){if(0===t){var n=p.filter(".detail"),l=n.width()-n.find(".fht-cell").width();n.find(".fht-cell").width(a.innerWidth()-l)}i=t-1}if(-1===i){return}var r=e.$header_.find(d.sprintf("th[data-field=\"%s\"]",c[i]));if(1<r.length){r=s(p[a[0].cellIndex])}var h=r.width()-r.find(".fht-cell").width();r.find(".fht-cell").width(a.innerWidth()-h)});this.horizontalScroll();this.trigger("post-header")}},{key:"resetFooter",value:function(){var e=this.getData(),t=[];if(!this.options.showFooter||this.options.cardView){return}if(!this.options.cardView&&this.options.detailView){t.push("<th class=\"detail\"><div class=\"th-inner\"></div><div class=\"fht-cell\"></div></th>")}for(var o=this.columns,i=Array.isArray(o),n=0,o=i?o:o[Symbol.iterator]();;){var s;if(i){if(n>=o.length)break;s=o[n++]}else{n=o.next();if(n.done)break;s=n.value}var l=s,r="",c="",p=[],h={},g=d.sprintf(" class=\"%s\"",l["class"]);if(!l.visible){continue}if(this.options.cardView&&!l.cardVisible){return}r=d.sprintf("text-align: %s; ",l.falign?l.falign:l.align);c=d.sprintf("vertical-align: %s; ",l.valign);h=d.calculateObjectValue(null,this.options.footerStyle,[l]);if(h&&h.css){for(var u=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})}(h.css),f=Array.isArray(u),b=0,u=f?u:u[Symbol.iterator]();;){var m;if(f){if(b>=u.length)break;m=u[b++]}else{b=u.next();if(b.done)break;m=b.value}var y=m,w=a(y,2),k=w[0],v=w[1];p.push(k+": "+v)}}if(h&&h.classes){g=d.sprintf(" class=\"%s\"",l["class"]?[l["class"],h.classes].join(" "):h.classes)}t.push("<th",g,d.sprintf(" style=\"%s\"",r+c+p.concat().join("; ")),">");t.push("<div class=\"th-inner\">");t.push(d.calculateObjectValue(l,l.footerFormatter,[e],""));t.push("</div>");t.push("<div class=\"fht-cell\"></div>");t.push("</div>");t.push("</th>")}this.$tableFooter.find("tr").html(t.join(""));this.$tableFooter.show();this.fitFooter()}},{key:"fitFooter",value:function(){var e=this;if(this.$el.is(":hidden")){setTimeout(function(){return e.fitFooter()},100);return}var t=this.$tableBody.get(0),o=t.scrollWidth>t.clientWidth&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?d.getScrollBarWidth():0;this.$tableFooter.css("margin-right",o).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));var a=this.getVisibleFields(),n=this.$tableFooter.find("th"),l=this.$body.find(">tr:first-child:not(.no-records-found)");while(l.length&&l.find(">td[colspan]:not([colspan=\"1\"])").length){l=l.next()}l.find("> *").each(function(t,o){var a=s(o),i=t;if(e.options.detailView&&!e.options.cardView){if(0===t){var l=n.filter(".detail"),r=l.width()-l.find(".fht-cell").width();l.find(".fht-cell").width(a.innerWidth()-r)}i=t-1}if(-1===i){return}var d=n.eq(t),c=d.width()-d.find(".fht-cell").width();d.find(".fht-cell").width(a.innerWidth()-c)});this.horizontalScroll()}},{key:"horizontalScroll",value:function(){var e=this;this.trigger("scroll-body");this.$tableBody.off("scroll").on("scroll",function(t){var o=t.currentTarget;if(e.options.showHeader&&e.options.height){e.$tableHeader.scrollLeft(s(o).scrollLeft())}if(e.options.showFooter&&!e.options.cardView){e.$tableFooter.scrollLeft(s(o).scrollLeft())}})}},{key:"toggleColumn",value:function(e,t,o){if(-1===e){return}this.columns[e].visible=t;this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var a=this.$toolbar.find(".keep-open input").prop("disabled",!1);if(o){a.filter(d.sprintf("[value=\"%s\"]",e)).prop("checked",t)}if(a.filter(":checked").length<=this.options.minimumCountColumns){a.filter(":checked").prop("disabled",!0)}}}},{key:"getVisibleFields",value:function(){for(var e=[],t=this.header.fields,o=Array.isArray(t),a=0,t=o?t:t[Symbol.iterator]();;){var i;if(o){if(a>=t.length)break;i=t[a++]}else{a=t.next();if(a.done)break;i=a.value}var n=i,s=this.columns[this.fieldsColumnsIndex[n]];if(!s.visible){continue}e.push(n)}return e}},{key:"resetView",value:function(e){var t=0;if(e&&e.height){this.options.height=e.height}this.$selectAll.prop("checked",0<this.$selectItem.length&&this.$selectItem.length===this.$selectItem.filter(":checked").length);if(this.options.cardView){this.$el.css("margin-top","0");this.$tableContainer.css("padding-bottom","0");this.$tableFooter.hide();return}if(this.options.showHeader&&this.options.height){this.$tableHeader.show();this.resetHeader();t+=this.$header.outerHeight(!0)}else{this.$tableHeader.hide();this.trigger("post-header")}if(this.options.showFooter){this.resetFooter();if(this.options.height){t+=this.$tableFooter.outerHeight(!0)}}if(this.options.height){var o=this.$toolbar.outerHeight(!0),a=this.$pagination.outerHeight(!0),i=this.options.height-o-a,n=this.$tableBody.find("table").outerHeight(!0);this.$tableContainer.css("height",i+"px");this.$tableBorder&&this.$tableBorder.css("height",i-n-t-1+"px")}this.getCaret();this.$tableContainer.css("padding-bottom",t+"px");this.trigger("reset-view")}},{key:"getData",value:function(e){var t=this.options.data;if(this.searchText||this.options.sortName||!d.isEmptyObject(this.filterColumns)||!d.isEmptyObject(this.filterColumnsPartial)){t=this.data}if(e){return t.slice(this.pageFrom-1,this.pageTo)}return t}},{key:"load",value:function(e){var t=!1,o=e;if(this.options.pagination&&"server"===this.options.sidePagination){this.options.totalRows=o[this.options.totalField]}t=o.fixedScroll;o=Array.isArray(o)?o:o[this.options.dataField];this.initData(o);this.initSearch();this.initPagination();this.initBody(t)}},{key:"append",value:function(e){this.initData(e,"append");this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"prepend",value:function(e){this.initData(e,"prepend");this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"remove",value:function(e){var t=this.options.data.length,o=void 0,a=void 0;if(!e.hasOwnProperty("field")||!e.hasOwnProperty("values")){return}for(o=t-1;0<=o;o--){a=this.options.data[o];if(!a.hasOwnProperty(e.field)){continue}if(-1!==e.values.indexOf(a[e.field])){this.options.data.splice(o,1);if("server"===this.options.sidePagination){this.options.totalRows-=1}}}if(t===this.options.data.length){return}this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"removeAll",value:function(){if(0<this.options.data.length){this.options.data.splice(0,this.options.data.length);this.initSearch();this.initPagination();this.initBody(!0)}}},{key:"getRowByUniqueId",value:function(e){var t=this.options.uniqueId,o=this.options.data.length,a=e,n=null,s=void 0,l=void 0,r=void 0;for(s=o-1;0<=s;s--){l=this.options.data[s];if(l.hasOwnProperty(t)){r=l[t]}else if(l._data&&l._data.hasOwnProperty(t)){r=l._data[t]}else{continue}if("string"==typeof r){a=a.toString()}else if("number"==typeof r){if(+r===r&&0==r%1){a=parseInt(a)}else if(r===+r&&0!==r){a=parseFloat(a)}}if(r===a){n=l;break}}return n}},{key:"removeByUniqueId",value:function(e){var t=this.options.data.length,o=this.getRowByUniqueId(e);if(o){this.options.data.splice(this.options.data.indexOf(o),1)}if(t===this.options.data.length){return}this.initSearch();this.initPagination();this.initBody(!0)}},{key:"updateByUniqueId",value:function(e){for(var t=Array.isArray(e)?e:[e],o=t,a=Array.isArray(o),i=0,o=a?o:o[Symbol.iterator]();;){var n;if(a){if(i>=o.length)break;n=o[i++]}else{i=o.next();if(i.done)break;n=i.value}var l=n;if(!l.hasOwnProperty("id")||!l.hasOwnProperty("row")){continue}var r=this.options.data.indexOf(this.getRowByUniqueId(l.id));if(-1===r){continue}s.extend(this.options.data[r],l.row)}this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"refreshColumnTitle",value:function(e){if(!e.hasOwnProperty("field")||!e.hasOwnProperty("title")){return}this.columns[this.fieldsColumnsIndex[e.field]].title=this.options.escape?d.escapeHTML(e.title):e.title;if(this.columns[this.fieldsColumnsIndex[e.field]].visible){var t=this.options.height!==void 0?this.$tableHeader:this.$header;t.find("th[data-field]").each(function(t,o){if(s(o).data("field")===e.field){s(s(o).find(".th-inner")[0]).text(e.title);return!1}})}}},{key:"insertRow",value:function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("row")){return}this.options.data.splice(e.index,0,e.row);this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"updateRow",value:function(e){for(var t=Array.isArray(e)?e:[e],o=t,a=Array.isArray(o),i=0,o=a?o:o[Symbol.iterator]();;){var n;if(a){if(i>=o.length)break;n=o[i++]}else{i=o.next();if(i.done)break;n=i.value}var l=n;if(!l.hasOwnProperty("index")||!l.hasOwnProperty("row")){continue}s.extend(this.options.data[l.index],l.row)}this.initSearch();this.initPagination();this.initSort();this.initBody(!0)}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"showRow",value:function(e){this.toggleRow(e,!0)}},{key:"hideRow",value:function(e){this.toggleRow(e,!1)}},{key:"toggleRow",value:function(e,t){var o;if(e.hasOwnProperty("index")){o=this.getData()[e.index]}else if(e.hasOwnProperty("uniqueId")){o=this.getRowByUniqueId(e.uniqueId)}if(!o){return}var a=d.findIndex(this.hiddenRows,o);if(!t&&-1===a){this.hiddenRows.push(o)}else if(t&&-1<a){this.hiddenRows.splice(a,1)}this.initBody(!0)}},{key:"getHiddenRows",value:function(e){if(e){this.initHiddenRows();this.initBody(!0);return}for(var t=this.getData(),o=[],a=t,i=Array.isArray(a),n=0,a=i?a:a[Symbol.iterator]();;){var s;if(i){if(n>=a.length)break;s=a[n++]}else{n=a.next();if(n.done)break;s=n.value}var l=s;if(-1!==this.hiddenRows.indexOf(l)){o.push(l)}}this.hiddenRows=o;return o}},{key:"mergeCells",value:function(e){var t=e.index,o=this.getVisibleFields().indexOf(e.field),a=e.rowspan||1,n=e.colspan||1,s=void 0,l=void 0,r=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView){o+=1}var d=r.eq(t).find(">td").eq(o);if(0>t||0>o||t>=this.data.length){return}for(s=t;s<t+a;s++){for(l=o;l<o+n;l++){r.eq(s).find(">td").eq(l).hide()}}d.attr("rowspan",a).attr("colspan",n).show()}},{key:"updateCell",value:function(e){if(!e.hasOwnProperty("index")||!e.hasOwnProperty("field")||!e.hasOwnProperty("value")){return}this.data[e.index][e.field]=e.value;if(!1===e.reinit){return}this.initSort();this.initBody(!0)}},{key:"updateCellById",value:function(e){var t=this;if(!e.hasOwnProperty("id")||!e.hasOwnProperty("field")||!e.hasOwnProperty("value")){return}var o=Array.isArray(e)?e:[e];o.forEach(function(e){var o=e.id,a=e.field,i=e.value,n=t.options.data.indexOf(t.getRowByUniqueId(o));if(-1===n){return}t.data[n][a]=i});if(!1===e.reinit){return}this.initSort();this.initBody(!0)}},{key:"getOptions",value:function(){var e=JSON.parse(JSON.stringify(this.options));delete e.data;return e}},{key:"getSelections",value:function(){var e=this;return this.options.data.filter(function(t){return!0===t[e.header.stateField]})}},{key:"getAllSelections",value:function(){var e=this;return this.options.data.filter(function(t){return t[e.header.stateField]})}},{key:"checkAll",value:function(){this.checkAll_(!0)}},{key:"uncheckAll",value:function(){this.checkAll_(!1)}},{key:"checkInvert",value:function(){var e=this.$selectItem.filter(":enabled"),t=e.filter(":checked");e.each(function(e,t){s(t).prop("checked",!s(t).prop("checked"))});this.updateRows();this.updateSelected();this.trigger("uncheck-some",t);t=this.getSelections();this.trigger("check-some",t)}},{key:"checkAll_",value:function(e){var t;if(!e){t=this.getSelections()}this.$selectAll.add(this.$selectAll_).prop("checked",e);this.$selectItem.filter(":enabled").prop("checked",e);this.updateRows();if(e){t=this.getSelections()}this.trigger(e?"check-all":"uncheck-all",t)}},{key:"check",value:function(e){this.check_(!0,e)}},{key:"uncheck",value:function(e){this.check_(!1,e)}},{key:"check_",value:function(e,t){var o=this.$selectItem.filter("[data-index=\""+t+"\"]"),a=this.data[t];if(o.is(":radio")||this.options.singleSelect){for(var i=this.options.data,n=Array.isArray(i),s=0,i=n?i:i[Symbol.iterator]();;){var l;if(n){if(s>=i.length)break;l=i[s++]}else{s=i.next();if(s.done)break;l=s.value}var d=l;d[this.header.stateField]=!1}this.$selectItem.filter(":checked").not(o).prop("checked",!1)}a[this.header.stateField]=e;o.prop("checked",e);this.updateSelected();this.trigger(e?"check":"uncheck",this.data[t],o)}},{key:"checkBy",value:function(e){this.checkBy_(!0,e)}},{key:"uncheckBy",value:function(e){this.checkBy_(!1,e)}},{key:"checkBy_",value:function(e,t){var o=this;if(!t.hasOwnProperty("field")||!t.hasOwnProperty("values")){return}var a=[];this.options.data.forEach(function(n,s){if(!n.hasOwnProperty(t.field)){return!1}if(-1!==t.values.indexOf(n[t.field])){var i=o.$selectItem.filter(":enabled").filter(d.sprintf("[data-index=\"%s\"]",s)).prop("checked",e);n[o.header.stateField]=e;a.push(n);o.trigger(e?"check":"uncheck",n,i)}});this.updateSelected();this.trigger(e?"check-some":"uncheck-some",a)}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container);s(this.options.toolbar).insertBefore(this.$el);this.$container.next().remove();this.$container.remove();this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")}},{key:"showLoading",value:function(){this.$tableLoading.css("display","flex")}},{key:"hideLoading",value:function(){this.$tableLoading.css("display","none")}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;this.$toolbar.find("button[name=\"paginationSwitch\"]").html(d.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.pagination?this.options.icons.paginationSwitchDown:this.options.icons.paginationSwitchUp));this.updatePagination()}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen");this.resetView()}},{key:"refresh",value:function(e){if(e&&e.url){this.options.url=e.url}if(e&&e.pageNumber){this.options.pageNumber=e.pageNumber}if(e&&e.pageSize){this.options.pageSize=e.pageSize}this.trigger("refresh",this.initServer(e&&e.silent,e&&e.query,e&&e.url))}},{key:"resetWidth",value:function(){if(this.options.showHeader&&this.options.height){this.fitHeader()}if(this.options.showFooter&&!this.options.cardView){this.fitFooter()}}},{key:"showColumn",value:function(e){this.toggleColumn(this.fieldsColumnsIndex[e],!0,!0)}},{key:"hideColumn",value:function(e){this.toggleColumn(this.fieldsColumnsIndex[e],!1,!0)}},{key:"getHiddenColumns",value:function(){return this.columns.filter(function(e){var t=e.visible;return!t})}},{key:"getVisibleColumns",value:function(){return this.columns.filter(function(e){var t=e.visible;return t})}},{key:"toggleAllColumns",value:function(e){for(var t=this.columns,o=Array.isArray(t),a=0,t=o?t:t[Symbol.iterator]();;){var i;if(o){if(a>=t.length)break;i=t[a++]}else{a=t.next();if(a.done)break;i=a.value}var n=i;n.visible=e}this.initHeader();this.initSearch();this.initPagination();this.initBody();if(this.options.showColumns){var s=this.$toolbar.find(".keep-open input").prop("disabled",!1);if(s.filter(":checked").length<=this.options.minimumCountColumns){s.filter(":checked").prop("disabled",!0)}}}},{key:"showAllColumns",value:function(){this.toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this.toggleAllColumns(!1)}},{key:"filterBy",value:function(e){this.filterColumns=d.isEmptyObject(e)?{}:e;this.options.pageNumber=1;this.initSearch();this.updatePagination()}},{key:"scrollTo",value:function(e){if("undefined"==typeof e){return this.$tableBody.scrollTop()}var t=e;if("string"==typeof e&&"bottom"===e){t=this.$tableBody[0].scrollHeight}this.$tableBody.scrollTop(t)}},{key:"getScrollPosition",value:function(){return this.scrollTo()}},{key:"selectPage",value:function(e){if(0<e&&e<=this.options.totalPages){this.options.pageNumber=e;this.updatePagination()}}},{key:"prevPage",value:function(){if(1<this.options.pageNumber){this.options.pageNumber--;this.updatePagination()}}},{key:"nextPage",value:function(){if(this.options.pageNumber<this.options.totalPages){this.options.pageNumber++;this.updatePagination()}}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView;this.initHeader();this.$toolbar.find("button[name=\"toggle\"]").html(d.sprintf(this.constants.html.icon,this.options.iconsPrefix,this.options.cardView?this.options.icons.toggleOn:this.options.icons.toggleOff));this.initBody();this.trigger("toggle",this.options.cardView)}},{key:"refreshOptions",value:function(e){if(d.compareObjects(this.options,e,!0)){return}this.options=s.extend(this.options,e);this.trigger("refresh-options",this.options);this.destroy();this.init()}},{key:"resetSearch",value:function(e){var t=this.$toolbar.find(".search input");t.val(e||"");this.onSearch({currentTarget:t})}},{key:"expandRow_",value:function(e,t){var o=this.$body.find(d.sprintf("> tr[data-index=\"%s\"]",t));if(o.next().is("tr.detail-view")===!e){o.find("> td > .detail-icon").click()}}},{key:"expandRow",value:function(e){this.expandRow_(!0,e)}},{key:"collapseRow",value:function(e){this.expandRow_(!1,e)}},{key:"expandAllRows",value:function(e){var t=this;if(e){var o=this.$body.find(d.sprintf("> tr[data-index=\"%s\"]",0)),a=null,n=!1,l=-1;if(!o.next().is("tr.detail-view")){o.find("> td > .detail-icon").click();n=!0}else if(!o.next().next().is("tr.detail-view")){o.next().find(".detail-icon").click();n=!0}if(n){try{l=setInterval(function(){a=t.$body.find("tr.detail-view").last().find(".detail-icon");if(0<a.length){a.click()}else{clearInterval(l)}},1)}catch(e){clearInterval(l)}}}else{for(var r=this.$body.children(),c=0;c<r.length;c++){this.expandRow_(!0,s(r[c]).data("index"))}}}},{key:"collapseAllRows",value:function(e){if(e){this.expandRow_(!1,0)}else{for(var t=this.$body.children(),o=0;o<t.length;o++){this.expandRow_(!1,s(t[o]).data("index"))}}}},{key:"updateFormatText",value:function(e,t){if(this.options[d.sprintf("format%s",e)]){if("string"==typeof t){this.options[d.sprintf("format%s",e)]=function(){return t}}else if("function"==typeof t){this.options[d.sprintf("format%s",e)]=t}}this.initToolbar();this.initPagination();this.initBody()}}]);return t}();h.DEFAULTS=c;h.LOCALES=p;h.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1};h.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"};var g=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];s.BootstrapTable=h;s.fn.bootstrapTable=function(e){for(var t=arguments.length,o=Array(1<t?t-1:0),a=1;a<t;a++){o[a-1]=arguments[a]}var i;this.each(function(t,a){var l=s(a).data("bootstrap.table"),r=s.extend({},h.DEFAULTS,s(a).data(),"object"===("undefined"==typeof e?"undefined":n(e))&&e);if("string"==typeof e){var d;if(!(-1!==g.indexOf(e))){throw new Error("Unknown method: "+e)}if(!l){return}i=(d=l)[e].apply(d,o);if("destroy"===e){s(a).removeData("bootstrap.table")}}if(!l){s(a).data("bootstrap.table",l=new s.BootstrapTable(a,r))}});return"undefined"==typeof i?this:i};s.fn.bootstrapTable.Constructor=h;s.fn.bootstrapTable.defaults=h.DEFAULTS;s.fn.bootstrapTable.columnDefaults=h.COLUMN_DEFAULTS;s.fn.bootstrapTable.locales=h.LOCALES;s.fn.bootstrapTable.methods=g;s.fn.bootstrapTable.utils=d;s(function(){s("[data-toggle=\"table\"]").bootstrapTable()})})(jQuery)});
//# sourceMappingURL=bootstrap-table.min.js.map
