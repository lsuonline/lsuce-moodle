{"version":3,"sources":["../src/skezzy_calendar.js"],"names":["scope","factory","define","amd","instance","module","exports","name","$","moment","TimeScheduler","today","startOf","Calendar","StartDate","SelectedPeriod","Periods","Name","Label","TimeframePeriod","TimeframeOverall","TimeframeHeaders","Classes","Items","id","sectionID","start","add","end","classes","events","label","at","icon","Sections","Init","Options","GetSections","GetSchedule","Start","GetStartDate","GetSelectedPeriod","Element","AllowDragging","AllowResizing","Events","ItemClicked","Item_Clicked","ItemDropped","Item_Dragged","ItemResized","Item_Resized","ItemMovement","Item_Movement","ItemMovementStart","Item_MovementStart","ItemMovementEnd","Item_MovementEnd","Text","NextButton","PrevButton","MaxHeight","SetSections","data","SetItems","SetStartDate","SetSelectedPeriod","callback","item","console","log","foundItem","i","length","html","format","empty","append","show","hide"],"mappings":"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","sourcesContent":["ï»¿(function (scope, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['jquery', 'local_tcs/_libs/moment', 'local_tcs/skezzy_timeline'], factory);\n        return;\n    }\n\n    var instance = factory();\n\n    if (typeof module === 'object') {\n        module.exports = instance;\n        return;\n    }\n\n    scope[instance.name] = instance;\n})(this, function ($, moment, TimeScheduler) {\n    'use strict';\n\n    // need to run this to get it to work:\n    // $(document).ready(Calendar.Init);\n\n    var today = moment().startOf('day');\n    var Calendar = {\n        StartDate: today,\n        SelectedPeriod: '1 week',\n        Periods: [\n            {\n                Name: '3 days',\n                Label: '3 days',\n                TimeframePeriod: (60 * 3),\n                TimeframeOverall: (60 * 24 * 3),\n                TimeframeHeaders: [\n                    'Do MMM',\n                    'HH'\n                ],\n                Classes: 'period-3day'\n            },\n            {\n                Name: '1 week',\n                Label: '1 week',\n                TimeframePeriod: (60 * 24),\n                TimeframeOverall: (60 * 24 * 7),\n                TimeframeHeaders: [\n                    'MMM',\n                    'Do'\n                ],\n                Classes: 'period-1week'\n            },\n            {\n                Name: '1 month',\n                Label: '1 month',\n                TimeframePeriod: (60 * 24 * 1),\n                TimeframeOverall: (60 * 24 * 28),\n                TimeframeHeaders: [\n                    'MMM',\n                    'Do'\n                ],\n                Classes: 'period-1month'\n            }\n        ],\n\n        Items: [\n            {\n                id: 20,\n                name: '<div>Item 1</div><div>Sub Info</div>',\n                sectionID: 1,\n                start: moment(today).add('days', -1),\n                end: moment(today).add('days', 3),\n                classes: 'item-status-three',\n                events: [\n                    {\n                        label: 'one',\n                        at: moment(today).add('hours', 6),\n                        classes: 'item-event-one'\n                    },\n                    {\n                        label: 'two',\n                        at: moment(today).add('hours', 10),\n                        classes: 'item-event-two'\n                    },\n                    {\n                        label: 'three',\n                        at: moment(today).add('hours', 11),\n                        classes: 'item-event-three'\n                    },\n                    {\n                        label: 'wacka wacka ding dong',\n                        at: moment(today).add('hours', 11),\n                        classes: 'item-event-three'\n                    }\n                ]\n            },\n            {\n                id: 21,\n                name: '<div>Item 2</div><div>Sub Info</div>',\n                sectionID: 3,\n                start: moment(today).add('days', -1),\n                end: moment(today).add('days', 3),\n                classes: 'item-status-one',\n                events: [\n                    {\n                        icon: '',\n                        label: 'one',\n                        at: moment(today).add('hours', 6),\n                        classes: 'item-event-one'\n                    }\n                ]\n            },\n            {\n                id: 22,\n                name: '<div>Item 3</div>',\n                start: moment(today).add('hours', 12),\n                end: moment(today).add('days', 3).add('hours', 4),\n                sectionID: 1,\n                classes: 'item-status-none'\n            }\n        ],\n\n        Sections: [\n            {\n                id: 1,\n                name: 'Section 1'\n            },\n            {\n                id: 2,\n                name: 'Section 2'\n            },\n            {\n                id: 3,\n                name: 'Section 3'\n            }\n        ],\n\n        Init: function () {\n            TimeScheduler.Options.GetSections = Calendar.GetSections;\n            TimeScheduler.Options.GetSchedule = Calendar.GetSchedule;\n            TimeScheduler.Options.Start = Calendar.GetStartDate();\n            // TimeSchedule .Options.Start = today;\n            TimeScheduler.Options.Periods = Calendar.Periods;\n            TimeScheduler.Options.SelectedPeriod = Calendar.GetSelectedPeriod();\n            // TimeScheduler.Options.Element = $('.calendar');\n\n            TimeScheduler.Options.Element = $('#tcs_scheduler');\n            TimeScheduler.Options.AllowDragging = true;\n            TimeScheduler.Options.AllowResizing = true;\n\n            TimeScheduler.Options.Events.ItemClicked = Calendar.Item_Clicked;\n            TimeScheduler.Options.Events.ItemDropped = Calendar.Item_Dragged;\n            TimeScheduler.Options.Events.ItemResized = Calendar.Item_Resized;\n\n            TimeScheduler.Options.Events.ItemMovement = Calendar.Item_Movement;\n            TimeScheduler.Options.Events.ItemMovementStart = Calendar.Item_MovementStart;\n            TimeScheduler.Options.Events.ItemMovementEnd = Calendar.Item_MovementEnd;\n\n            TimeScheduler.Options.Text.NextButton = '&nbsp;';\n            TimeScheduler.Options.Text.PrevButton = '&nbsp;';\n\n            TimeScheduler.Options.MaxHeight = 100;\n\n            TimeScheduler.Init();\n        },\n        // ========================================================\n        // ========================================================\n        // Set Calendar Options\n        SetSections: function (data) {\n            Calendar.Sections = data;\n        },\n        SetItems: function (data) {\n            Calendar.Items = data;\n        },\n        SetStartDate: function (data) {\n            Calendar.StartDate = data;\n            TimeScheduler.Options.Start = data;\n        },\n        SetSelectedPeriod: function (data) {\n            if (data == \"\" || data == undefined) {\n                // let's set the default to 1 week just in case nothing is set\n                data = '1 week';\n            }\n            Calendar.SelectedPeriod = data;\n            TimeScheduler.Options.SelectedPeriod = data;\n        },\n\n        // ========================================================\n        // ========================================================\n        // Get Calendar Options\n        GetSections: function (callback) {\n            callback(Calendar.Sections);\n        },\n        GetSchedule: function (callback, start, end) {\n            callback(Calendar.Items);\n        },\n        GetStartDate: function (callback) {\n            return Calendar.StartDate;\n        },\n        GetSelectedPeriod: function (callback) {\n            return Calendar.SelectedPeriod;\n        },\n\n\n        Item_Clicked: function (item) {\n            console.log(item);\n        },\n\n        Item_Dragged: function (item, sectionID, start, end) {\n            var foundItem;\n\n            console.log(item);\n            console.log(sectionID);\n            console.log(start);\n            console.log(end);\n\n            for (var i = 0; i < Calendar.Items.length; i++) {\n                        if (foundItem.id === item.id) {\n                    foundItem.sectionID = sectionID;\n                    foundItem.start = start;\n      foundItem = Calendar.Items[i];\n\n                      foundItem.end = end;\n\n                    Calendar.Items[i] = foundItem;\n                }\n            }\n\n            TimeScheduler.Init();\n        },\n\n        Item_Resized: function (item, start, end) {\n            var foundItem;\n\n            console.log(item);\n            console.log(start);\n            console.log(end);\n\n            for (var i = 0; i < Calendar.Items.length; i++) {\n                foundItem = Calendar.Items[i];\n\n                if (foundItem.id === item.id) {\n                    foundItem.start = start;\n                    foundItem.end = end;\n\n                    Calendar.Items[i] = foundItem;\n                }\n            }\n\n            TimeScheduler.Init();\n        },\n\n        Item_Movement: function (item, start, end) {\n            var html;\n\n            html =  '<div>';\n            html += '   <div>';\n            html += '       Start: ' + start.format('Do MMM YYYY HH:mm');\n            html += '   </div>';\n            html += '   <div>';\n            html += '       End: ' + end.format('Do MMM YYYY HH:mm');\n            html += '   </div>';\n            html += '</div>';\n\n            $('.realtime-info').empty().append(html);\n        },\n\n        Item_MovementStart: function () {\n            $('.realtime-info').show();\n        },\n\n        Item_MovementEnd: function () {\n            $('.realtime-info').hide();\n        }\n    };\n\n    return Calendar;\n});\n"],"file":"skezzy_calendar.min.js"}