{"version":3,"file":"myadmin_user_admin.min.js","names":["define","$","MyAdminLib","myadmin_autocomp","getUserData","jaxyPromise","call","params","class","initiateUserAdmin","then","response","new_data","success","x","data","push","bootstrapTable","undefinedText","pageSize","columns","title","field","align","valign","clickToSelect","formatter","value","row","stuff","exams","length","button","id","initiateAutoComp","JSON","parse","localStorage","getItem"],"sources":["../src/myadmin_user_admin.js"],"sourcesContent":["define([\n    'jquery',\n    'local_myadmin/myadmin_lib',\n    'local_myadmin/myadmin_autocomp_exam',\n\n    'local_myadmin/_bootstrap_libs/bootstrap-table',\n    'local_myadmin/_bootstrap_libs/bootstrap-editable',\n    'local_myadmin/_bootstrap_libs/bootstrap-table-editable',\n    'local_myadmin/_bootstrap_libs/bootstrap-table-toolbar',\n    /* eslint-disable */\n    // 'local_myadmin/editable',\n    // 'local_myadmin/bootstrap-editable',\n\n], function ($, MyAdminLib, myadmin_autocomp, BootstrapTable, editable, bootstrapTableEditable, toolbar) {\n    /* eslint-enable */\n    'use strict';\n    return {\n        /** Get Table Data AJAX REQUEST -> PROMISE\n         * Description: This will fetch all users\n         * the callback will resolve with all the data.\n         * @return resolved data\n         *\n         * FIXME: This is not done\n         */\n        getUserData: function () {\n            return MyAdminLib.jaxyPromise({\n                'call': 'getUsers',\n                'params': {},\n                'class': 'UserAdmin'\n            });\n        },\n        // ========================================================================================\n        // ========================================================================================\n        // ========================================================================================\n\n        /** START - Initialize The Table\n         * Description: Load and show the Student's currently in the exam center.\n         * Any binding click events will be registered here as well.\n         * AJAX: MAke an ajax call\n         * FUNCTION: MAke an ajax call\n         */\n        initiateUserAdmin: function () {\n            // console.log(\"initiateUserAdmin() -> This SHOULD ONLY BE CALLED ONCE\");\n            // Fetch the Data and display\n            // var that = this;\n            this.getUserData().then(function (response) {\n                // console.log(\"What is the response for user admin: \", response);\n                // console.log(\"What is the data: \", response.data);\n\n                // console.log(\"Initiating User Admin Table........\");\n                var new_data = [];\n                if (response.success === true) {\n                    for (var x in response.data) {\n                        new_data.push(response.data[x]);\n                    }\n                }\n                // console.log(\"What is the new_data:\", new_data);\n\n                $('#myadmin_user_admin_table').bootstrapTable({\n                    undefinedText: '',\n                    data: new_data,\n                    pageSize: 50,\n                    // showRefresh: true,\n                    columns: [\n                        {title: 'ID', field: 'id'},\n                        {title: 'UserID', field: 'userid'},\n                        {title: 'Name', field: 'name'},\n                        {title: 'Username', field: 'username'},\n                        {title: 'Access Level', field: 'access_level'},\n                        {/* Exams */\n                            title: 'Exams',\n                            field: 'operate',\n                            align: 'center',\n                            valign: 'middle',\n                            clickToSelect: false,\n                            formatter: function (value, row) {\n                                var stuff = \"\";\n                                // console.log(\"Here in the formatter, what is row: \", row);\n                                if (row.exams.length > 1) {\n                                    // console.log(\"How many exams: \" + row.exams.length);\n                                    // console.log(\"exams: \", row.exams);\n                                    stuff = '<select class=\"form-control\">';\n                                    stuff += '<option selected>See My Exams</option>';\n                                    // for (var x of row.exams) {\n                                    for (var x = 0; x < row.exams.length; x++) {\n                                        stuff += '<option>' + row.exams[x] + '</option>';\n                                    }\n                                    stuff += '</select>';\n                                    // console.log(\"^^^^^^^ What is the final HTML chunk: \" + stuff);\n                                    return stuff;\n\n                                } else {\n                                    return \"<p>No Exams</p>\";\n                                }\n                                // console.log(\"Here in the formatter, what is row: \", row);\n                                // if (row.finished == \"true\") {\n                            },\n                        },\n                        {/* Edit Remove */\n                            title: 'Remove',\n                            field: 'operate',\n                            align: 'center',\n                            valign: 'middle',\n                            clickToSelect: false,\n                            formatter: function (value, row,) {\n                                var button = '<div class=\"btn-group\">' +\n                                    // '<button class=\"toast_edit_' + row.id +\n                                    // ' btn btn-success btn-lg\" id=\"myadmin_edit_user_admin\" data-id=\"' + row.id + '\">' +\n                                    // '<i class=\"fa fa-pencil\"></i>' +\n                                    // '</button>' +\n                                    '<button class=\"toast_remove_' + row.id +\n                                    ' btn btn-danger btn-lg\" id=\"myadmin_remove_user_admin\" data-id=\"' + row.id + '\">' +\n                                    '<i class=\"fa fa-trash\"></i>' +\n                                    '</button>' +\n                                    '</div>';\n                                // }\n                                return button;\n                            }\n                        }\n                    ]\n                    //============================================\n                });\n            });\n\n            // Now let's prep the user search\n            myadmin_autocomp.initiateAutoComp(JSON.parse(localStorage.getItem('myadmin_users')));\n        }\n    };\n});\n"],"mappings":"AAAAA,OAAM,oCAAC,CACH,QAAQ,CACR,2BAA2B,CAC3B,qCAAqC,CAErC,+CAA+C,CAC/C,kDAAkD,CAClD,wDAAwD,CACxD,uDAAuD,CAK1D,CAAE,SAAUC,CAAC,CAAEC,CAAU,CAAEC,CAAgB,CAA6D,CAErG,YAAY,CACZ,MAAO,CAQHC,WAAW,CAAE,SAAAA,YAAA,CAAY,CACrB,MAAO,CAAAF,CAAU,CAACG,WAAW,CAAC,CAC1BC,IAAA,CAAQ,UAAU,CAClBC,MAAA,CAAU,CAAC,CAAC,CACZC,KAAA,CAAS,WACb,CAAC,CACL,CAAC,CAWDC,iBAAiB,CAAE,SAAAA,kBAAA,CAAY,CAI3B,IAAI,CAACL,WAAW,EAAE,CAACM,IAAI,CAAC,SAAUC,CAAQ,CAAE,CAKxC,GAAI,CAAAC,CAAQ,CAAG,EAAE,CACjB,GAAI,KAAAD,CAAQ,CAACE,OAAgB,CAAE,CAC3B,IAAK,GAAI,CAAAC,CAAC,GAAI,CAAAH,CAAQ,CAACI,IAAI,CAAE,CACzBH,CAAQ,CAACI,IAAI,CAACL,CAAQ,CAACI,IAAI,CAACD,CAAC,CAAC,CAClC,CACJ,CAGAb,CAAC,CAAC,2BAA2B,CAAC,CAACgB,cAAc,CAAC,CAC1CC,aAAa,CAAE,EAAE,CACjBH,IAAI,CAAEH,CAAQ,CACdO,QAAQ,CAAE,EAAE,CAEZC,OAAO,CAAE,CACL,CAACC,KAAK,CAAE,IAAI,CAAEC,KAAK,CAAE,IAAI,CAAC,CAC1B,CAACD,KAAK,CAAE,QAAQ,CAAEC,KAAK,CAAE,QAAQ,CAAC,CAClC,CAACD,KAAK,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAM,CAAC,CAC9B,CAACD,KAAK,CAAE,UAAU,CAAEC,KAAK,CAAE,UAAU,CAAC,CACtC,CAACD,KAAK,CAAE,cAAc,CAAEC,KAAK,CAAE,cAAc,CAAC,CAC9C,CACID,KAAK,CAAE,OAAO,CACdC,KAAK,CAAE,SAAS,CAChBC,KAAK,CAAE,QAAQ,CACfC,MAAM,CAAE,QAAQ,CAChBC,aAAa,GAAO,CACpBC,SAAS,CAAE,SAAAA,UAAUC,CAAK,CAAEC,CAAG,CAAE,CAC7B,GAAI,CAAAC,CAAK,CAAG,EAAE,CAEd,GAAuB,CAAC,CAApBD,CAAG,CAACE,KAAK,CAACC,MAAU,CAAE,CAGtBF,CAAK,CAAG,iCAA+B,CACvCA,CAAK,EAAI,wCAAwC,CAEjD,IAAK,GAAI,CAAAf,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGc,CAAG,CAACE,KAAK,CAACC,MAAM,CAAEjB,CAAC,EAAE,CAAE,CACvCe,CAAK,EAAI,UAAU,CAAGD,CAAG,CAACE,KAAK,CAAChB,CAAC,CAAC,CAAG,WACzC,CACAe,CAAK,EAAI,WAAW,CAEpB,MAAO,CAAAA,CAEX,CAAC,IAAM,CACH,MAAO,iBACX,CAGJ,CACJ,CAAC,CACD,CACIR,KAAK,CAAE,QAAQ,CACfC,KAAK,CAAE,SAAS,CAChBC,KAAK,CAAE,QAAQ,CACfC,MAAM,CAAE,QAAQ,CAChBC,aAAa,GAAO,CACpBC,SAAS,CAAE,SAAAA,UAAUC,CAAK,CAAEC,CAAG,CAAG,CAC9B,GAAI,CAAAI,CAAM,CAAG,yDAKwBJ,CAAG,CAACK,EAAE,CACvC,sEAAkE,CAAGL,CAAG,CAACK,EAAE,kDAGnE,CAEZ,MAAO,CAAAD,CACX,CACJ,CAAC,CAGT,CAAC,CACL,CAAC,CAAC,CAGF7B,CAAgB,CAAC+B,gBAAgB,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,CACvF,CACJ,CACJ,CAAC,CAAC"}