{"version":3,"file":"jaxy.min.js","names":["define","$","Ajax","myadminAjax","data_chunk","promiseObj","Promise","resolve","reject","call","methodname","args","datachunk","then","results","JSON","parse","data","catch","ev","makeAJAXCall","params","callback","myadmin_callback","console","log","processFreshUsers","getFreshUsers","page","pagetotal","getFreshTemplates"],"sources":["../src/jaxy.js"],"sourcesContent":["define([\n    'jquery',\n    'core/ajax',\n], function($, Ajax) {\n    'use strict';\n\n    return {\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        myadminAjax: function(data_chunk) {\n            var promiseObj = new Promise(function(resolve, reject) {\n                // console.log(\"myadminAjax() -> START, let's Poke the Server\");\n                var send_this = [{\n                    methodname: 'local_myadmin_myadminAjax',\n                    args: {\n                        datachunk: data_chunk,\n                    }\n                }];\n                Ajax.call(send_this)[0].then(function(results) {\n                    // console.log(\"myadminAjax() -> SUCCESS, what is result: \", results);\n                    resolve(JSON.parse(results.data));\n\n                // }).then(function(ev) {\n                    // console.log(\"Ok, have hit then 2\");\n                //     console.log(\"is there an ev? \", ev);\n                //     return \"facker\";\n                }).catch(function(ev) {\n                    // console.log(\"myadminAjax() -> JAXY Fail :-(\");\n                    // console.log(\"myadminAjax() -> JAXY Fail going to reject: \", ev);\n                    reject(ev);\n                });\n                // console.log(\"myadminAjax() -> AJAX request sent successfully for obj: \", send_this);\n            });\n            return promiseObj;\n        },\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        makeAJAXCall: function(params, callback) {\n            var staticAjax = this;\n            staticAjax.myadmin_callback = callback;\n            // console.log(\"makeAJAXCall() -> Going to call ajax now, here's the params: \", params);\n            Ajax.call(params)[0].then(function(results) {\n                // console.log(\"makeAJAXCall() -> HAVE RETURNED, what is result: \", results);\n                // return staticAjax.myadmin_callback(results);\n                return results;\n\n            // }).then(function(ev) {\n            //     console.log(\"Ok, have hit then 2\");\n            //     console.log(\"is there an ev? \", ev);\n            //     return \"facker\";\n\n            }).catch(function(ev) {\n                console.log(\"makeAJAXCall() -> JAXY Fail do we have ev: \", ev);\n            });\n\n        },\n\n\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        processFreshUsers: function(results) {\n            // console.log(\"processFreshUsers() -> Now processing results: \", results);\n            // configgy.setUsers();\n            // console.log(\"processFreshUsers() -> actually, let's just return results\");\n            return results;\n        },\n\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        getFreshUsers: function() {\n            // console.log(\"getFreshUsers() -> Going to fetch users from DB.......\");\n            this.makeAJAXCall([{\n                methodname: 'local_myadmin_loadUsers',\n                args: {\n                    page: '0',\n                    pagetotal: '1',\n                }\n            }], 'processFreshUsers');\n        },\n\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        getFreshTemplates: function() {\n            console.log(\"getFreshTemplates() -> This function has a DEAD END\");\n        },\n\n        /**\n         * Description Here\n         *\n         * Valid args are:\n         * int example 1     Only get events for this course\n         * int example 2     Only get events after this time\n         *\n         * @method fetchSWE\n         * @param {object} args The request arguments\n         * @return {promise} Resolved with an array of the calendar events\n         */\n        /*\n        hellowWorldTest: function() {\n\n            Ajax.call([{\n                methodname: 'local_myadmin_hello_world',\n                args: {\n                    welcomemessage: 'Go Fack Yourself!',\n                }\n            }])[0].then(function(results) {\n                console.log(\"Ok, have hit then 1, what is result: \", results);\n                return \"facker\";\n\n            // }).then(function(ev) {\n            //     console.log(\"Ok, have hit then 2\");\n            //     console.log(\"is there an ev? \", ev);\n            //     return \"facker\";\n\n            }).catch(function(ev) {\n\n                console.log(\"JAXY Fail for hellowWorldTest :-(\");\n                console.log(\"JAXY Fail do we have ev: \", ev);\n            });\n        },\n        */\n    };\n});\n\n/*\nneed to store users\nneed to store pages in localCache\n\nvar promises = Ajax.call([request]);\n$.when(promises[0]).then(function(data) {\n    if (data.result.policy) {\n        modalTitle.resolve(data.result.policy.name);\n        modalBody.resolve(data.result.policy.content);\n\n        return data;\n    } else {\n        throw new Error(data.warnings[0].message);\n    }\n}).catch(function(message) {\n    modal.then(function(modal) {\n        modal.hide();\n        modal.destroy();\n\n        return modal;\n    })\n    .catch(Notification.exception);\n\n    return Notification.addNotification({\n        message: message,\n        type: 'error'\n    });\n});\n*/\n"],"mappings":"AAAAA,OAAM,sBAAC,CACH,QAAQ,CACR,WAAW,CACd,CAAE,SAASC,CAAC,CAAEC,CAAI,CAAE,CACjB,YAAY,CAEZ,MAAO,CAYHC,WAAW,CAAE,SAAAA,YAASC,CAAU,CAAE,CAC9B,GAAI,CAAAC,CAAU,CAAG,GAAI,CAAAC,OAAO,CAAC,SAASC,CAAO,CAAEC,CAAM,CAAE,CAQnDN,CAAI,CAACO,IAAI,CANO,CAAC,CACbC,UAAU,CAAE,2BAA2B,CACvCC,IAAI,CAAE,CACFC,SAAS,CAAER,CACf,CACJ,CAAC,CAAC,CACkB,CAAC,CAAC,CAAC,CAACS,IAAI,CAAC,SAASC,CAAO,CAAE,CAE3CP,CAAO,CAACQ,IAAI,CAACC,KAAK,CAACF,CAAO,CAACG,IAAI,CAAC,CAMpC,CAAC,CAAC,CAACC,KAAK,CAAC,SAASC,CAAE,CAAE,CAGlBX,CAAM,CAACW,CAAE,CACb,CAAC,CAEL,CAAC,CAAC,CACF,MAAO,CAAAd,CACX,CAAC,CAYDe,YAAY,CAAE,SAAAA,aAASC,CAAM,CAAEC,CAAQ,CAAE,CACpB,IAAI,CACVC,gBAAgB,CAAGD,CAAQ,CAEtCpB,CAAI,CAACO,IAAI,CAACY,CAAM,CAAC,CAAC,CAAC,CAAC,CAACR,IAAI,CAAC,SAASC,CAAO,CAAE,CAGxC,MAAO,CAAAA,CAOX,CAAC,CAAC,CAACI,KAAK,CAAC,SAASC,CAAE,CAAE,CAClBK,OAAO,CAACC,GAAG,CAAC,6CAA6C,CAAEN,CAAE,CACjE,CAAC,CAEL,CAAC,CAcDO,iBAAiB,CAAE,SAAAA,kBAASZ,CAAO,CAAE,CAIjC,MAAO,CAAAA,CACX,CAAC,CAaDa,aAAa,CAAE,SAAAA,cAAA,CAAW,CAEtB,IAAI,CAACP,YAAY,CAAC,CAAC,CACfV,UAAU,CAAE,yBAAyB,CACrCC,IAAI,CAAE,CACFiB,IAAI,CAAE,GAAG,CACTC,SAAS,CAAE,GACf,CACJ,CAAC,CAAC,CAAE,mBAAmB,CAC3B,CAAC,CAaDC,iBAAiB,CAAE,SAAAA,kBAAA,CAAW,CAC1BN,OAAO,CAACC,GAAG,CAAC,qDAAqD,CACrE,CAqCJ,CACJ,CAAC,CAAC"}