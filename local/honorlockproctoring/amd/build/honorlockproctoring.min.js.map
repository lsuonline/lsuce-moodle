{"version":3,"file":"honorlockproctoring.min.js","sources":["../src/honorlockproctoring.js"],"sourcesContent":["const injectSdkScript = async() => {\n    // Inject CDN SDK Moodle Script\n    let scriptLoaded = false;\n    let sdkScript = document.createElement('script');\n    sdkScript.type = \"module\";\n    sdkScript.onload = () => {\n        // eslint-disable-next-line no-console\n        console.log('moodle script loaded!');\n        scriptLoaded = true;\n    };\n    sdkScript.src = \"https://unpkg.com/@honorlock/integration-sdk-js-moodle\";\n    document.getElementsByTagName('head')[0].appendChild(sdkScript);\n\n    const injectedAt = new Date();\n    return new Promise(function(resolve, reject) {\n        const poll = ()=> {\n            // 10s timeout\n            if (new Date().getTime() - injectedAt.getTime() > 10000) {\n                return reject('injectSdkScript timed out');\n            }\n\n            if (scriptLoaded) {\n                // eslint-disable-next-line no-console\n                console.log(\"honorlockproctoring::injectSdkScript sdk injected\");\n                return resolve();\n            }\n\n            return setTimeout(poll, 100);\n        };\n\n        poll();\n    });\n};\n\nexport const logDebug = (args) => {\n    // eslint-disable-next-line no-console\n    console.log('logDebug:', args);\n};\n\nexport const viewQuiz = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::viewQuiz plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.viewQuiz();\n};\n\nexport const examAuth = async(args) => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::examAuth plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.examAuth(args);\n};\n\nexport const takeQuiz = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::takeQuiz plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.takeQuiz();\n};\n\nexport const quizSummary = async() => {\n    // eslint-disable-next-line no-console\n    console.log(\"honorlockproctoring::quizSummary plugin func\");\n    await injectSdkScript();\n    window.MoodleFunctions.quizSummary();\n};\n"],"names":["injectSdkScript","scriptLoaded","sdkScript","document","createElement","type","onload","console","log","src","getElementsByTagName","appendChild","injectedAt","Date","Promise","resolve","reject","poll","getTime","setTimeout","args","viewQuiz","window","MoodleFunctions","examAuth","takeQuiz","quizSummary"],"mappings":"4yBAAMA,iEAAkB,qKAEhBC,cAAe,GACfC,UAAYC,SAASC,cAAc,WAC7BC,KAAO,SACjBH,UAAUI,OAAS,WAEfC,QAAQC,IAAI,yBACZP,cAAe,GAEnBC,UAAUO,IAAM,yDAChBN,SAASO,qBAAqB,QAAQ,GAAGC,YAAYT,WAE/CU,WAAa,IAAIC,8BAChB,IAAIC,SAAQ,SAASC,QAASC,SACpB,SAAPC,cAEE,IAAIJ,MAAOK,UAAYN,WAAWM,UAAY,IACvCF,OAAO,6BAGdf,cAEAM,QAAQC,IAAI,qDACLO,WAGJI,WAAWF,KAAM,KAG5BA,gIAIgB,SAACG,MAErBb,QAAQC,IAAI,YAAaY,iBAGhBC,2DAAW,mIAEpBd,QAAQC,IAAI,8DACNR,yBACNsB,OAAOC,gBAAgBF,0JAGdG,2DAAW,kBAAMJ,qHAE1Bb,QAAQC,IAAI,8DACNR,yBACNsB,OAAOC,gBAAgBC,SAASJ,uJAGvBK,2DAAW,mIAEpBlB,QAAQC,IAAI,8DACNR,yBACNsB,OAAOC,gBAAgBE,0JAGdC,8DAAc,mIAEvBnB,QAAQC,IAAI,iEACNR,yBACNsB,OAAOC,gBAAgBG"}