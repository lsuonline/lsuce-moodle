function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(!a)return;if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return _arrayLikeToArray(a,b)}function _arrayLikeToArray(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function _iterableToArrayLimit(a,b){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(a)))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}define ("local_liquidus/google-lazy",["jquery","core/log","core/templates"],function(a,b,c){var d=this,e={};d.addAnalyticsJS=function(){var f=a.Deferred(),g=e.trackerInfo.siteid;if(!g){b.debug("Liquidus is misconfigured for Google, Site ID is missing.");return}var h=[];h.siteid=g;c.render("local_liquidus/gtag",h).then(function(b){a("body").append(b);if("undefined"==typeof gtag){f.fail();return}d.gtag=gtag;f.resolve()});return f};e.loadTracker=function(a){e.trackerInfo=a;return d.addAnalyticsJS()};e.identify=function(){};e.trackPage=function(){if(e.trackerInfo.staticShares.plugins){var a=e.trackerInfo.staticShares.plugins;Object.entries(a).forEach(function(a){var b=_slicedToArray(a,2),c=b[0],e=b[1];e.forEach(function(a){d.gtag("event",c+"_"+a,{event_category:"pluginUsed"})})});delete e.trackerInfo.staticShares.plugins}if(e.trackerInfo.staticShares.userRole){var b=e.trackerInfo.staticShares.userRole;d.gtag("event",b.join(","),{event_category:"userRole"});delete e.trackerInfo.staticShares.userRole}Object.entries(e.trackerInfo.staticShares).forEach(function(a){var b=_slicedToArray(a,2),c=b[0],e=b[1];d.gtag("event",e,{event_category:c})})};e.processEvent=function(a,b,c){d.gtag("event",b,{userHash:e.trackerInfo.staticShares.userHash,eventData:c,event_callback:function event_callback(){a.resolve()}})};return e});
//# sourceMappingURL=google-lazy.min.js.map
