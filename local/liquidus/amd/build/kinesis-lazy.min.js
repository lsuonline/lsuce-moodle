define ("local_liquidus/kinesis-lazy",["jquery","core/log"],function(a,b){var c=this,d={};c.addAnalyticsJS=function(){var c=a.Deferred();if(!d.trackerInfo.kinesisURL){b.debug("Liquidus is misconfigured for AWS Kinesis, Kinesis URL is missing.");return null}c.resolve(!0);return c};d.loadTracker=function(a){d.trackerInfo=a;return c.addAnalyticsJS()};d.identify=function(){a.ajax({url:d.trackerInfo.kinesisURL,method:"POST",headers:d.trackerInfo.staticShares}).done(function(){b.debug("Liquidus identified with kinesis.")})};d.trackPage=function(){a.ajax({url:d.trackerInfo.kinesisURL,method:"POST",headers:{userHash:d.trackerInfo.staticShares.userHash,page:window.location.pathname.split("/").slice(-1),referrer_page:document.referrer,custom_metric_name:"userAgent",custom_metric_string_value:navigator.userAgent}}).done(function(){b.debug("Liquidus sent page to kinesis.")})};d.heartBeat=function(){a.ajax({url:d.trackerInfo.kinesisURL,method:"POST",headers:{userHash:d.trackerInfo.staticShares.userHash,custom_metric_name:"heartBeat",custom_metric_string_value:1}}).done(function(){b.debug("Liquidus sent heart beat to kinesis.")})};d.processEvent=function(c,e,f){a.ajax({url:d.trackerInfo.kinesisURL,method:"POST",headers:{userHash:d.trackerInfo.staticShares.userHash,custom_metric_name:e,custom_metric_string_value:JSON.stringify(f)}}).done(function(){c.resolve(!0);b.debug("AWS Kinesis promise resolved.")})};return d});
//# sourceMappingURL=kinesis-lazy.min.js.map
