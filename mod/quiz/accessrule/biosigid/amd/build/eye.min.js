define ("quizaccess_biosigid/eye",["exports","jquery","quizaccess_biosigid/biosightclient","core/url"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var f=function(a,e,f){var i,j=d.default.relativeUrl(e,"");(0,b.default)("body").append("<div id=\"biosight_info\" style=\"position: fixed; z-index: 9999; top: 15px; left: 100px;\n        padding: 5px; background-image: linear-gradient(lightblue, steelblue); box-shadow: 0px 0px 0px 8px rgba(128, 128, 128, 0.5);\n        border-radius: 2px; height: 68px; font-family: Arial; font-weight: bold; font-size: 14px; text-align: center;\n         cursor: move;\">BioSight-ID&trade;: <i class=\"fa fa-eye fa-4x\" style=\"vertical-align: middle;\"></div>");(function(a){var d=0,f=0,g=0,h=0;function b(b){b=b||window.event;b.preventDefault();d=g-b.clientX;f=h-b.clientY;g=b.clientX;h=b.clientY;a.style.top=a.offsetTop-f+"px";a.style.left=a.offsetLeft-d+"px"}function c(){document.onmouseup=null;document.onmousemove=null}a.onmousedown=function(a){a=a||window.event;a.preventDefault();g=a.clientX;h=a.clientY;document.onmouseup=c;document.onmousemove=b}})(document.getElementById("biosight_info"));(0,b.default)("button[type='submit']").each(function(){if("Return to attempt"==(0,b.default)(this).text()){(0,b.default)(this).remove()}});var k=function(){window.console.log(j);window.console.log("BioSight Loaded...");var d="https://"+f;c.default.findSession(d+"/biosight/findsession",a,function(a){if("ok"!==a.status){window.console.error("Cannot find BioSight session!");(0,b.default)("#biosight_info i").css("color","orange");return}i=(0,c.default)(d+"/bioSightHub",a.session,function(){window.console.log("BioSight Fail!");(0,b.default)("#biosight_info i").css("color","red")},function(){window.console.log("BioSight OK!");(0,b.default)("#biosight_info i").css("color","green")},function(){window.console.log("BioSight Started!");(0,b.default)("#biosight_info i").css("color","gray");g();h()})})},l=function(){if("undefined"!=typeof c.default){k()}else{setTimeout(l,100)}};l();function g(){window.console.log("Path ends with review? result:"+j.endsWith("review.php"));if(j.endsWith("review.php")){if("undefined"!=typeof i){(0,b.default)("#biosight_info").remove();window.console.log("Review page: BioSight Stopped!");i.stop()}}}function h(){(0,b.default)(window).bind("beforeunload",function(){if(j.endsWith("summary.php")||j.endsWith("review.php")){(0,b.default)("#biosight_info").remove();if("undefined"!=typeof i){window.console.log("Before unload summary or review. BioSight Stopped!");i.stop()}}})}};a.init=f});
//# sourceMappingURL=eye.min.js.map
