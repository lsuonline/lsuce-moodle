{"version":3,"sources":["../src/xe_lib.js"],"names":["define","$","preLoadConfig","window_stat","window","__SERVER__","__INITIAL_STATE__","JSON","parse","console","log","error","key","localStorage","pushPost","redirectUrl","data","input_part","form_part","form","value","append","submit"],"mappings":"AAsBAA,OAAM,sBAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,aACA,MAAO,CAQHC,aAAa,CAAE,wBAAW,CAEtB,GAAIC,CAAAA,CAAW,CAAG,EAAlB,CAEA,GAA0B,MAAtB,GAAAC,MAAM,CAACC,UAAP,EAAgC,KAAAD,MAAM,CAACC,UAA3C,CAAgE,CAC5D,GAA0C,QAAtC,QAAQD,CAAAA,MAAM,CAACE,iBAAnB,CAAoD,CAChD,GAAI,CACAH,CAAW,CAAGI,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACE,iBAAlB,CAAd,CACAG,OAAO,CAACC,GAAR,CAAY,iDAAZ,CAA+DP,CAA/D,EACA,MAAOC,CAAAA,MAAM,CAACE,iBAAd,CACAF,MAAM,CAACC,UAAP,GACH,CAAC,MAAOM,CAAP,CAAc,CACZF,OAAO,CAACC,GAAR,CAAY,0CAAZ,EACAD,OAAO,CAACC,GAAR,CAAYC,CAAZ,CACH,CACJ,CACJ,CAZD,IAYO,CACHF,OAAO,CAACC,GAAR,CAAY,wCAAZ,CACH,CAEDD,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCP,CAAlC,EAEA,IAAK,GAAIS,CAAAA,CAAT,GAAgBT,CAAAA,CAAhB,CAA6B,CACzBM,OAAO,CAACC,GAAR,CAAY,8BAAgCP,CAAW,CAACS,CAAD,CAA3C,CAAmD,gBAAnD,CAAsEA,CAAlF,EACAC,YAAY,CAACD,CAAD,CAAZ,CAAoBT,CAAW,CAACS,CAAD,CAClC,CACJ,CAlCE,CA2CHE,QAAQ,CAAE,kBAASC,CAAT,CAAsBC,CAAtB,CAA4B,CAElC,GAAIC,CAAAA,CAAU,CAAG,EAAjB,CACIC,CAAS,CAAG,EADhB,CAEIC,CAFJ,CAIA,IAAK,GAAIP,CAAAA,CAAT,GAAgBI,CAAAA,CAAhB,CAAsB,CAClB,GAAII,CAAAA,CAAK,CAAGJ,CAAI,CAACJ,CAAD,CAAhB,CACAK,CAAU,EAAI,kCAAiCG,CAAjC,CAAyC,YAAzC,CAAsDR,CAAtD,CAA4D,aAC7E,CAEDM,CAAS,CAAG,kDAAgDD,CAAhD,CAA6D,SAAzE,CACAE,CAAI,CAAGlB,CAAC,CAACiB,CAAD,CAAR,CACAjB,CAAC,CAAC,MAAD,CAAD,CAAUoB,MAAV,CAAiBF,CAAjB,EACAlB,CAAC,CAACkB,CAAD,CAAD,CAAQG,MAAR,EACH,CA1DE,CA4DV,CA9DK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package    block_lsuxe Cross Enrollment\n * @copyright  2008 onwards Louisiana State University\n * @copyright  2008 onwards David Lowe\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    'use strict';\n    return {\n\n        /**\n         * Store data in localStorage so it's available throughout\n         *\n         * @param {object} the json object to save\n         * @return null\n         */\n        preLoadConfig: function() {\n            // var final_state = {},\n            var window_stat = {};\n\n            if (window.__SERVER__ === \"true\" || window.__SERVER__ === true) {\n                if (typeof (window.__INITIAL_STATE__) === 'string') {\n                    try {\n                        window_stat = JSON.parse(window.__INITIAL_STATE__);\n                        console.log(\"store_general -> What is the final state here: \", window_stat);\n                        delete window.__INITIAL_STATE__;\n                        window.__SERVER__ = false;\n                    } catch (error) {\n                        console.log(\"ERROR, __INITIAL_STATE__ couldn't parse.\");\n                        console.log(error);\n                    }\n                }\n            } else {\n                console.log(\"WARNING: window.__SERVER__ was not set\");\n            }\n\n            console.log(\"What is the data: \", window_stat);\n\n            for (var key in window_stat) {\n                console.log(\"Going to store this value: \" + window_stat[key] + \" in this key: \" + key);\n                localStorage[key] = window_stat[key];\n            }\n        },\n\n        /**\n         * Post data to a URL.\n         *\n         * @param {string} url to post to\n         * @param {object} the json object to post\n         * @return {Promise}\n         */\n        pushPost: function(redirectUrl, data) {\n\n            var input_part = '',\n                form_part = '',\n                form;\n\n            for (var key in data) {\n                var value = data[key];\n                input_part += '<input type=\"hidden\" value=\"' + value + '\" name=\"' + key + '\"></input>';\n            }\n\n            form_part = '<form method=\"POST\" style=\"display: none;\">' + input_part + '</form>';\n            form = $(form_part);\n            $('body').append(form);\n            $(form).submit();\n        }\n    };\n});"],"file":"xe_lib.min.js"}