{"version":3,"sources":["../src/landingmain.js"],"names":["define","$","username","lbversion","instances","runAJAX","ajax_data","data_to_pass","key","params","hasOwnProperty","ajax","url","context","data","type","request","storedData","promise","buildTermBlock","results","result","JSON","parse","instance","html","assign_length","href","instance_name","this_url","count","add_show_hide","collapse","this_assign","i","instance_tag","length","overview","title_msg","x","teachers","fullname","assign","z","wwwroot","coursemodule","strassignment","dimmedclass","assign_name","duedate","strduedate","userdate","strduedateno","cutoffdate","strnolatesubmissions","strcutoffdate","submitdetails","gradedetails","quiz","courseid","no_course","hasClass","addClass","callAndReturnAJAX","then","getInstanceCourses","arrayLength","site_url","going_to","div_id","all_params","is","find","callStartups","on","e","oTarget","target","children","toggleClass","$header","$content","next","slideToggle","init"],"mappings":"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","sourcesContent":["define(['jquery'], function ($) {\n    'use strict';\n\n    return {\n\n\n        // ==========================================================\n        // variabls for this object\n        // ==========================================================\n        username: null,\n        lbversion: \"2\",\n        instances: [\n            'current_title',\n            'long_term_title',\n            'past_title',\n            'future_title'\n        ],\n\n        // ==========================================================\n        // methods for this object\n        // ==========================================================\n        runAJAX: function(ajax_data) {\n            var data_to_pass = {},\n                key = null;\n\n            // we are accessing data within Moodle\n            // let's gather the params into a bundle\n            for (key in ajax_data.params) {\n                if (ajax_data.params.hasOwnProperty(key)) {\n                    data_to_pass[key] = ajax_data.params[key];\n                }\n            }\n            // console.log(\"going to call ajax, what we sending:\");\n            // console.log(\"url: \" + ajax_data.url);\n            // console.log(\"data_to_pass: \", data_to_pass);\n            // console.log(\"storedData: \", ajax_data.storedData);\n\n            return $.ajax({\n                url: ajax_data.url,\n                context: this,\n                data: data_to_pass,\n                type: (ajax_data.request === undefined) ? 'GET' : ajax_data.request,\n                storedData: ajax_data.storedData,\n\n            }).promise();\n        },\n\n        buildTermBlock: function (results) {\n\n            var result = JSON.parse(results),\n                instance = result.instance,\n                html = \"\",\n                assign_length = 0,\n                href = \"\",\n                instance_name = \"\",\n                this_url = \"\",\n                count = 0,\n                add_show_hide = \"\",\n                collapse = \"\",\n                key = \"\",\n                this_assign = \"\",\n                i = 0,\n                instance_tag = \"\";\n\n            instance_name = instance;\n\n            instance_tag = '#lb_expand_term_details_' + instance;\n            this_url = $(instance_tag).data('url');\n\n            // The result should either have data or html, process accordingly\n            // console.log(\"Do we have data.....\", result);\n            if (result.hasOwnProperty(\"data\") && result.data.length > 0) {\n\n                for (i = 0; i < result.data.length; i++) {\n                // for (let key of result.data) {\n                    key = result.data[i];\n\n                    // if (key.overview.is_ta === true) {\n                    add_show_hide = '<span class=\"pull-right\"><a data-toggle=\"collapse\" data-item-id=\"' +\n                        instance_name + '\" data-parent=\"#lb_my_courses_accord_' +\n                        instance_name + '\" href=\"#collapse_' + instance + '_' + count +\n                        '\" aria-expanded=\"true\" id=\"lb_show_hide_toggle\">Show/Hide</a></span>';\n                    // } else {\n                        // add_show_hide = \"\";\n                    // }\n\n                    if (instance == \"current_title\") {\n                        collapse = \"show\";\n                    }\n\n                    // meh.....let's just expand all courses by default\n                    collapse = \" show\";\n\n                    if (typeof (key.overview) === \"string\") {\n\n                        html += '<div class=\"row-fluid\">' +\n                            '<div class=\"accordion uleth_accordion_snip\" role=\"tablist\" ' +\n                            'aria-multiselectable=\"true\" id=\"lb_my_courses_accord_'\n                            + instance + '\">' +\n                            '<div class=\"card\">' +\n                                '<div class=\"card-header\" role=\"tab\" id=\"' + instance_name + '_heading\">' +\n                                    '<a data-parent=\"#lb_my_courses_accord_' + instance + '\" href=\"' + key.this_url + '\">' +\n                                        '' + key.title_msg + '' +\n                                    '</a>' +\n                                '</div>' +\n                                '<div id=\"collapse_' + instance + '_' + count + '\" class=\"' + collapse +\n                                    ' collapse in\" role=\"tabpanel\" aria-labelledby=\"' +\n                                    instance_name + '_heading\">' +\n                                    '<div class=\"card-body\">';\n\n                        html += '<div class=\"box coursebox\"><a href=\"' + this_url +\n                            '\">You are currently not registered in any course OR your Instructor ' +\n                            'has not opened your course for access yet.</a></div>';\n                        html += '</div>' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>';\n\n                    } else {\n                        html += '<div class=\"row-fluid\">' +\n                        '<div class=\"accordion uleth_accordion_snip\" role=\"tablist\" aria-multiselectable=\"true\" ' +\n                        'id=\"lb_my_courses_accord_' + instance + '\">' +\n                            '<div class=\"card\">' +\n                                '<div class=\"card-header\" role=\"tab\" id=\"' + instance_name +'_heading\">' + add_show_hide +\n                                    '<a data-parent=\"#lb_my_courses_accord_' + instance + '\" href=\"' + key.this_url + '\">' +\n                                        '' + key.title_msg + '' +\n                                    '</a>' +\n                                '</div>' +\n                                '<div id=\"collapse_' + instance + '_' + count + '\" class=\"' + collapse +\n                                    ' collapse in\" role=\"tabpanel\" aria-labelledby=\"'+ instance_name +'_heading\">' +\n                                    '<div class=\"card-body\">';\n                        // Now the Course Teachers, Assignments and Quizzes\n                        // =========================================================\n                        // display the teachers\n                        // =========================================================\n                        html += '<div class=\"teachers\">';\n                        // for (let teacher of key.overview.teachers) {\n\n                        for (var x = 0; x < key.overview.teachers.length; x++) {\n                        // for (let teacher of key.overview.teachers) {\n\n                            html += '<h5>Teacher: ' + key.overview.teachers[x].fullname + '</h5>';\n                            // html += '<h5>Teacher: ' + teacher.fullname + '</h5>';\n                        }\n                        html += '</div>';\n\n                        // =========================================================\n                        // display the assignments\n                        // =========================================================\n                        assign_length = key.overview.assign.length;\n\n\n                        html += '<div class=\"lb_assignments_container\">' +\n                            '<div class=\"row lb_assign_quiz_header\">' +\n                                '<div class=\"col col-sm-6 lb_assign_quiz_header_title\">' +\n                                    '<h4>Course Assignments</h4>' +\n                                '</div>' +\n                                '<div class=\"col col-sm-6\">' +\n                                    '<span class=\"lb_assignments_toggle pull-right\">Show/Hide</span>' +\n                                '</div>' +\n                            '</div>' +\n\n                            '<div class=\"lb_assignment_panel\">';\n\n                        if (assign_length > 0) {\n                            for (var z = 0; z < key.overview.assign.length; z++) {\n\n                                this_assign = key.overview.assign[z];\n                            // for (let this_assign of key.overview.assign) {\n\n                                href = this_assign.wwwroot + '/mod/assign/view.php?id=' + this_assign.coursemodule;\n                                html += '<div class=\"assign overview\">' +\n                                   '<div class=\"name\">' + this_assign.strassignment + ': ' +\n                                   '<a ' + this_assign.dimmedclass +\n                               'title=\"' + this_assign.strassignment + '\" ' +\n                               'href=\"' + href + '\">' + this_assign.assign_name +\n                               '</a></div>';\n\n                                //---------------------\n                                if (this_assign.duedate) {\n                                    html += '<div class=\"info\">' + this_assign.strduedate + ': ' +\n                                    this_assign.userdate + '</div>';\n                                } else {\n                                    html += '<div class=\"info\">' + this_assign.strduedateno + '</div>';\n                                }\n                                if (this_assign.cutoffdate) {\n                                    if (this_assign.cutoffdate == this_assign.duedate) {\n                                        html += '<div class=\"info\">' + this_assign.strnolatesubmissions + '</div>';\n                                    } else {\n                                        html += '<div class=\"info\">' + this_assign.strcutoffdate + ': ' +\n                                        this_assign.userdate + '</div>';\n                                    }\n                                }\n\n                                // Show only relevant information+\n                                if (this_assign.submitdetails !== false) {\n                                    html += this_assign.submitdetails;\n                                }\n\n                                if (this_assign.gradedetails !== false) {\n                                    html += this_assign.gradedetails;\n                                }\n                                html += '</div>';\n                            }\n                            // end of for\n\n                            html += '</div>'; // closes the assignment panel\n                            // html += '</div>';\n\n                        } else {\n                            html += '<div class=\"lb_no_data_to_show\">Currently there are no assignments with a due date</div>';\n                        }\n\n                        html += '</div>'; // closes the assignment container\n                        // =========================================================\n                        // display the quizzes\n                        // =========================================================\n\n                        html += '<div class=\"lb_quiz_container\">' +\n                            '<div class=\"row lb_assign_quiz_header\">' +\n                                '<div class=\"col col-sm-6 lb_assign_quiz_header_title\">' +\n                                    '<h4>Course Exams</h4>' +\n                                '</div>' +\n                                '<div class=\"col col-sm-6\">' +\n                                    '<span class=\"lb_quiz_toggle pull-right\">Show/Hide</span>' +\n                                '</div>' +\n                            '</div>';\n                        html += '<div class=\"lb_quiz_panel\">';\n\n                        if (typeof (key.overview.quiz) == \"object\") {\n                            // do we have data?\n                            if (key.overview.quiz.hasOwnProperty(key.courseid)) {\n                                html += key.overview.quiz[key.courseid].quiz;\n                            } else {\n                                html += '<div class=\"lb_no_data_to_show\">Currently there are no quizzes.</div>';\n                            }\n\n                        } else {\n                            html += '<div class=\"lb_no_data_to_show\">Currently there are no quizzes.</div>';\n                        }\n\n                        html += '</div></div>';\n\n                        // end of quizzes ------------------------------------------\n                        html += '</div>' +\n                                    '</div>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>';\n\n                        // display the quizzes\n                        count++;\n\n                    } // end of displaying teachers, quizzes, etc.\n                }\n            } else {\n                // console.log(\"FAIL, we DO NOT have data, what is result: \", result);\n                if (result.hasOwnProperty(\"html\") && result.html !== 'no courses found') {\n                    html = result.html;\n                } else {\n\n                    if (result.html === 'no courses found') {\n                        // ok, there is no content, do we have a custom message from the server?\n                        if (result.no_course.length > 1) {\n                            // make the custom message linkable to the server\n                            html = '<div class=\"box coursebox\"><a href=\"' + this_url + '\">' + result.no_course + '</a></div>';\n                        } else {\n                            // just in case\n                            html = '<div class=\"box coursebox\"><a href=\"' + this_url +\n                                '\">You are currently not registered in any course OR your Instructor has ' +\n                                'not opened your course for access yet.</a></div>';\n                        }\n                    } else {\n                        // console.log(\"ERROR - Admin, user did not have any results for courses, need to fix ASAP\");\n                        html = '<div class=\"box coursebox\"><a href=\"' + this_url +\n                            '\">You are currently not registered in any course OR your Instructor has not opened ' +\n                            'your course for access yet.</a></div>';\n                    }\n                }\n            }\n\n            // make sure the current term is expanded\n            if (instance == \"current_title\" && !$('#collapse_current_title').hasClass(\"in\")) {\n                $('#collapse_current_title').addClass(\"in\");\n            }\n\n            $(instance_tag).html(\"\");\n            $(instance_tag).html(html);\n        },\n\n        callAndReturnAJAX: function (data) {\n\n            this.runAJAX({\n                url: data.url,\n                params: data.params,\n                request: data.request,\n                storedData: data.storedData\n\n            }).then(function (results) {\n\n                // get which instance we are on, storedData is persitant in the ajax object\n                this.buildTermBlock(results);\n            });\n        },\n\n        getInstanceCourses: function () {\n\n            var arrayLength = null,\n                site_url = null,\n                going_to = null,\n                the_request = 'GET',\n                div_id = null,\n                params = {},\n                all_params = {},\n                // found_201403 = null,\n                i = null;\n                // old_fart = false;\n\n            arrayLength = this.instances.length;\n            for (i = 0; i < arrayLength; i++) {\n\n                // reset these variables:\n                params = {};\n                all_params = {};\n                // old_fart = false;\n\n                // skip the instance that already pulled data from the local db\n                if ($('#lb_expand_term_details_' + this.instances[i]).data(\"local_info\")) {\n                    continue;\n                }\n\n                div_id = \"#lb_expand_term_details_\" + this.instances[i];\n                site_url = $(div_id).data(\"url\");\n\n                // site was not found so it's not active, skip it\n                if (site_url === undefined) {\n                    continue;\n                }\n                // found_201403 = site_url.indexOf(\"201403\");\n                params = {\n                    'instance_name': this.instances[i],\n                    'username': this.username,\n                    'rawdata': false,\n                    'caller': this.lbversion\n                };\n\n                // if we are using a newer code base use this section\n                // else call legacy page\n                // if (found_201403 === -1) {\n                // if (found_201402 == -1 && found_201403 == -1 && found_long_term == -1) {\n                going_to = site_url + 'blocks/landing_block/lib/ajax.php';\n\n                // } else {\n                //     old_fart = true;\n                //     going_to = site_url + 'blocks/landing_block/return.php';\n                //     the_request = 'POST';\n                //     params.username = this.username;\n                // }\n\n                all_params = {\n                    'call': 'getCourseTitle',\n                    'params': params,\n                    'class': 'LBAjax',\n                    'username': this.username\n                };\n\n                if ($(div_id).is(':empty') || $(div_id).find('i').hasClass('fa-spinner')) {\n\n                    this.callAndReturnAJAX({\n                        'url': going_to,\n                        'params': all_params,\n                        'request': the_request,\n                        'storedData': {\n                            'instance': this.instances[i]\n                        }\n                    });\n                }\n            }\n        },\n\n        callStartups: function () {\n\n            $(\".block.block_landing_block\").on(\"click\", '[class^=\"lb_course_term_\"]', function(e) {\n\n                var oTarget = $(e.target).children();\n                oTarget.toggleClass('fa-chevron-right fa-chevron-down ', 200);\n            });\n\n            $(\".block.block_landing_block\").on(\"click\", \".lb_assign_quiz_header\", function() {\n                var $header = \"\",\n                    $content = \"\";\n\n                $header = $(this);\n                // getting the next element\n                $content = $header.next();\n                // open up the content needed - toggle the slide- if visible, slide up, if not slidedown.\n                $content.slideToggle(200, function () {\n                    // do something with the toggle if you want here\n                });\n            });\n        },\n\n        init: function () {\n            // console.log(\"landing_block -> main.js -> init() -> START\");\n\n            this.username = $('.main_landing_block_notifications_elem').data(\"internal_username\");\n            this.lbversion = $('.main_landing_block_notifications_elem').data(\"lbversion\");\n            this.getInstanceCourses();\n            this.callStartups();\n        }\n    };\n});\n"],"file":"landingmain.min.js"}