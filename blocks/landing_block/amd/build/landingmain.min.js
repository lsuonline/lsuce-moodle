function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("block_landing_block/landingmain",["jquery"],function(a){'use strict';return{username:null,lbversion:"2",instances:["current_title","long_term_title","past_title","future_title"],runAJAX:function runAJAX(b){var c={},d=null;for(d in b.params){if(b.params.hasOwnProperty(d)){c[d]=b.params[d]}}return a.ajax({url:b.url,context:this,data:c,type:b.request===void 0?"GET":b.request,storedData:b.storedData}).promise()},buildTermBlock:function buildTermBlock(b){var c=JSON.parse(b),d=c.instance,e="",f=0,g="",h="",j="",k=0,l="",m="",n="",o="",p=0,q="";h=d;q="#lb_expand_term_details_"+d;j=a(q).data("url");if(c.hasOwnProperty("data")&&0<c.data.length){for(p=0;p<c.data.length;p++){n=c.data[p];l="<span class=\"pull-right\"><a data-toggle=\"collapse\" data-item-id=\""+h+"\" data-parent=\"#lb_my_courses_accord_"+h+"\" href=\"#collapse_"+d+"_"+k+"\" aria-expanded=\"true\" id=\"lb_show_hide_toggle\">Show/Hide</a></span>";if("current_title"==d){m="show"}m=" show";if("string"==typeof n.overview){e+="<div class=\"row-fluid\"><div class=\"accordion uleth_accordion_snip\" role=\"tablist\" aria-multiselectable=\"true\" id=\"lb_my_courses_accord_"+d+"\"><div class=\"card\"><div class=\"card-header\" role=\"tab\" id=\""+h+"_heading\"><a data-parent=\"#lb_my_courses_accord_"+d+"\" href=\""+n.this_url+"\">"+n.title_msg+"</a></div><div id=\"collapse_"+d+"_"+k+"\" class=\""+m+" collapse in\" role=\"tabpanel\" aria-labelledby=\""+h+"_heading\"><div class=\"card-body\">";e+="<div class=\"box coursebox\"><a href=\""+j+"\">You are currently not registered in any course OR your Instructor has not opened your course for access yet.</a></div>";e+="</div></div></div></div></div>"}else{e+="<div class=\"row-fluid\"><div class=\"accordion uleth_accordion_snip\" role=\"tablist\" aria-multiselectable=\"true\" id=\"lb_my_courses_accord_"+d+"\"><div class=\"card\"><div class=\"card-header\" role=\"tab\" id=\""+h+"_heading\">"+l+"<a data-parent=\"#lb_my_courses_accord_"+d+"\" href=\""+n.this_url+"\">"+n.title_msg+"</a></div><div id=\"collapse_"+d+"_"+k+"\" class=\""+m+" collapse in\" role=\"tabpanel\" aria-labelledby=\""+h+"_heading\"><div class=\"card-body\">";e+="<div class=\"teachers\">";for(var r=0;r<n.overview.teachers.length;r++){e+="<h5>Teacher: "+n.overview.teachers[r].fullname+"</h5>"}e+="</div>";f=n.overview.assign.length;e+="<div class=\"lb_assignments_container\"><div class=\"row lb_assign_quiz_header\"><div class=\"col col-sm-6 lb_assign_quiz_header_title\"><h4>Course Assignments</h4></div><div class=\"col col-sm-6\"><span class=\"lb_assignments_toggle pull-right\">Show/Hide</span></div></div><div class=\"lb_assignment_panel\">";if(0<f){for(var s=0;s<n.overview.assign.length;s++){o=n.overview.assign[s];g=o.wwwroot+"/mod/assign/view.php?id="+o.coursemodule;e+="<div class=\"assign overview\"><div class=\"name\">"+o.strassignment+": <a "+o.dimmedclass+"title=\""+o.strassignment+"\" href=\""+g+"\">"+o.assign_name+"</a></div>";if(o.duedate){e+="<div class=\"info\">"+o.strduedate+": "+o.userdate+"</div>"}else{e+="<div class=\"info\">"+o.strduedateno+"</div>"}if(o.cutoffdate){if(o.cutoffdate==o.duedate){e+="<div class=\"info\">"+o.strnolatesubmissions+"</div>"}else{e+="<div class=\"info\">"+o.strcutoffdate+": "+o.userdate+"</div>"}}if(!1!==o.submitdetails){e+=o.submitdetails}if(!1!==o.gradedetails){e+=o.gradedetails}e+="</div>"}e+="</div>"}else{e+="<div class=\"lb_no_data_to_show\">Currently there are no assignments with a due date</div>"}e+="</div>";e+="<div class=\"lb_quiz_container\"><div class=\"row lb_assign_quiz_header\"><div class=\"col col-sm-6 lb_assign_quiz_header_title\"><h4>Course Exams</h4></div><div class=\"col col-sm-6\"><span class=\"lb_quiz_toggle pull-right\">Show/Hide</span></div></div>";e+="<div class=\"lb_quiz_panel\">";if("object"==_typeof(n.overview.quiz)){if(n.overview.quiz.hasOwnProperty(n.courseid)){e+=n.overview.quiz[n.courseid].quiz}else{e+="<div class=\"lb_no_data_to_show\">Currently there are no quizzes.</div>"}}else{e+="<div class=\"lb_no_data_to_show\">Currently there are no quizzes.</div>"}e+="</div></div>";e+="</div></div></div></div></div>";k++}}}else{if(c.hasOwnProperty("html")&&"no courses found"!==c.html){e=c.html}else{if("no courses found"===c.html){if(1<c.no_course.length){e="<div class=\"box coursebox\"><a href=\""+j+"\">"+c.no_course+"</a></div>"}else{e="<div class=\"box coursebox\"><a href=\""+j+"\">You are currently not registered in any course OR your Instructor has not opened your course for access yet.</a></div>"}}else{e="<div class=\"box coursebox\"><a href=\""+j+"\">You are currently not registered in any course OR your Instructor has not opened your course for access yet.</a></div>"}}}if("current_title"==d&&!a("#collapse_current_title").hasClass("in")){a("#collapse_current_title").addClass("in")}a(q).html("");a(q).html(e)},callAndReturnAJAX:function callAndReturnAJAX(a){this.runAJAX({url:a.url,params:a.params,request:a.request,storedData:a.storedData}).then(function(a){this.buildTermBlock(a)})},getInstanceCourses:function getInstanceCourses(){var b=null,c=null,d=null,e=null,f={},g={},h=null;b=this.instances.length;for(h=0;h<b;h++){f={};g={};if(a("#lb_expand_term_details_"+this.instances[h]).data("local_info")){continue}e="#lb_expand_term_details_"+this.instances[h];c=a(e).data("url");if(c===void 0){continue}f={instance_name:this.instances[h],username:this.username,rawdata:!1,caller:this.lbversion};d=c+"blocks/landing_block/lib/ajax.php";g={call:"getCourseTitle",params:f,class:"LBAjax",username:this.username};if(a(e).is(":empty")||a(e).find("i").hasClass("fa-spinner")){this.callAndReturnAJAX({url:d,params:g,request:"GET",storedData:{instance:this.instances[h]}})}}},callStartups:function callStartups(){a(".block.block_landing_block").on("click","[class^=\"lb_course_term_\"]",function(b){var c=a(b.target).children();c.toggleClass("fa-chevron-right fa-chevron-down ",200)});a(".block.block_landing_block").on("click",".lb_assign_quiz_header",function(){var b="",c="";b=a(this);c=b.next();c.slideToggle(200,function(){})})},init:function init(){this.username=a(".main_landing_block_notifications_elem").data("internal_username");this.lbversion=a(".main_landing_block_notifications_elem").data("lbversion");this.getInstanceCourses();this.callStartups()}}});
//# sourceMappingURL=landingmain.min.js.map
