function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function b(c,d,e){function a(h,i){if(!d[h]){if(!c[h]){var j="function"==typeof require&&require;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var f=d[h]={exports:{}};c[h][0].call(f.exports,function(b){var d=c[h][1][b];return a(d?d:b)},f,f.exports,b,c,d,e)}return d[h].exports}for(var g="function"==typeof require&&require,f=0;f<e.length;f++){a(e[f])}return a})({1:[function(a,b){(function(c){"use strict";var d=c.document,e=a("./src/utils/get-by-class"),f=a("./src/utils/extend"),g=a("./src/utils/index-of"),h=a("./src/utils/events"),i=a("./src/utils/to-string"),j=a("./src/utils/natural-sort"),k=a("./src/utils/classes"),l=a("./src/utils/get-attribute"),m=a("./src/utils/to-array"),n=function(b,c,o){var p=this,q,r=a("./src/item")(p),s=a("./src/add-async")(p);q={start:function start(){p.listClass="list";p.searchClass="search";p.sortClass="sort";p.page=1e4;p.i=1;p.items=[];p.visibleItems=[];p.matchingItems=[];p.searched=!1;p.filtered=!1;p.searchColumns=void 0;p.handlers={updated:[]};p.plugins={};p.valueNames=[];p.utils={getByClass:e,extend:f,indexOf:g,events:h,toString:i,naturalSort:j,classes:k,getAttribute:l,toArray:m};p.utils.extend(p,c);p.listContainer="string"==typeof b?d.getElementById(b):b;if(!p.listContainer){return}p.list=e(p.listContainer,p.listClass,!0);p.parse=a("./src/parse")(p);p.templater=a("./src/templater")(p);p.search=a("./src/search")(p);p.filter=a("./src/filter")(p);p.sort=a("./src/sort")(p);this.handlers();this.items();p.update();this.plugins()},handlers:function handlers(){for(var a in p.handlers){if(p[a]){p.on(a,p[a])}}},items:function items(){p.parse(p.list);if(o!==void 0){p.add(o)}},plugins:function plugins(){for(var a=0,b;a<p.plugins.length;a++){b=p.plugins[a];p[b.name]=b;b.init(p,n)}}};this.reIndex=function(){p.items=[];p.visibleItems=[];p.matchingItems=[];p.searched=!1;p.filtered=!1;p.parse(p.list)};this.toJSON=function(){for(var a=[],b=0,c=p.items.length;b<c;b++){a.push(p.items[b].values())}return a};this.add=function(a,b){if(0===a.length){return}if(b){s(a,b);return}var c=[],d=!1;if(a[0]===void 0){a=[a]}for(var e=0,f=a.length,g;e<f;e++){g=null;d=p.items.length>p.page?!0:!1;g=new r(a[e],void 0,d);p.items.push(g);c.push(g)}p.update();return c};this.show=function(a,b){this.i=a;this.page=b;p.update();return p};this.remove=function(a,b,c){for(var d=0,e=0,f=p.items.length;e<f;e++){if(p.items[e].values()[a]==b){p.templater.remove(p.items[e],c);p.items.splice(e,1);f--;e--;d++}}p.update();return d};this.get=function(a,b){for(var c=[],d=0,e=p.items.length,f;d<e;d++){f=p.items[d];if(f.values()[a]==b){c.push(f)}}return c};this.size=function(){return p.items.length};this.clear=function(){p.templater.clear();p.items=[];return p};this.on=function(a,b){p.handlers[a].push(b);return p};this.off=function(a,b){var c=p.handlers[a],d=g(c,b);if(-1<d){c.splice(d,1)}return p};this.trigger=function(a){var b=p.handlers[a].length;while(b--){p.handlers[a][b](p)}return p};this.reset={filter:function filter(){var a=p.items,b=a.length;while(b--){a[b].filtered=!1}return p},search:function search(){var a=p.items,b=a.length;while(b--){a[b].found=!1}return p}};this.update=function(){var a=p.items,b=a.length;p.visibleItems=[];p.matchingItems=[];p.templater.clear();for(var c=0;c<b;c++){if(a[c].matching()&&p.matchingItems.length+1>=p.i&&p.visibleItems.length<p.page){a[c].show();p.visibleItems.push(a[c]);p.matchingItems.push(a[c])}else if(a[c].matching()){p.matchingItems.push(a[c]);a[c].hide()}else{a[c].hide()}}p.trigger("updated");return p};q.start()};if("function"==typeof define&&define.amd){define ("filter_oembed/list",function(){return n})}b.exports=n;c.List=n})(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(a,b){b.exports=function(a){var b=function(c,d,e){var f=c.splice(0,50);e=e||[];e=e.concat(a.add(f));if(0<c.length){setTimeout(function(){b(c,d,e)},1)}else{a.update();d(e)}};return b}},{}],3:[function(a,b){b.exports=function(a){a.handlers.filterStart=a.handlers.filterStart||[];a.handlers.filterComplete=a.handlers.filterComplete||[];return function(b){a.trigger("filterStart");a.i=1;a.reset.filter();if(b===void 0){a.filtered=!1}else{a.filtered=!0;for(var c=a.items,d=0,e=c.length,f;d<e;d++){f=c[d];if(b(f)){f.filtered=!0}else{f.filtered=!1}}}a.update();a.trigger("filterComplete");return a.visibleItems}}},{}],4:[function(a,b){b.exports=function(a){return function(b,c,d){var e=this;this._values={};this.found=!1;this.filtered=!1;this.values=function(b,c){if(b!==void 0){for(var d in b){e._values[d]=b[d]}if(!0!==c){a.templater.set(e,e.values())}}else{return e._values}};this.show=function(){a.templater.show(e)};this.hide=function(){a.templater.hide(e)};this.matching=function(){return a.filtered&&a.searched&&e.found&&e.filtered||a.filtered&&!a.searched&&e.filtered||!a.filtered&&a.searched&&e.found||!a.filtered&&!a.searched};this.visible=function(){return e.elm&&e.elm.parentNode==a.list?!0:!1};(function init(b,c,d){if(c===void 0){if(d){e.values(b,d)}else{e.values(b)}}else{e.elm=c;var f=a.templater.get(e,b);e.values(f)}})(b,c,d)}}},{}],5:[function(a,b){b.exports=function(b){var c=a("./item")(b),d=function(a){for(var b=a.childNodes,c=[],d=0,e=b.length;d<e;d++){if(b[d].data===void 0){c.push(b[d])}}return c},e=function(a,d){for(var e=0,f=a.length;e<f;e++){b.items.push(new c(d,a[e]))}},f=function(a,c){var d=a.splice(0,50);e(d,c);if(0<a.length){setTimeout(function(){f(a,c)},1)}else{b.update();b.trigger("parseComplete")}};b.handlers.parseComplete=b.handlers.parseComplete||[];return function(){var a=d(b.list),c=b.valueNames;if(b.indexAsync){f(a,c)}else{e(a,c)}}}},{"./item":4}],6:[function(a,b){b.exports=function(a){var b,c,d,e,f={resetList:function resetList(){a.i=1;a.templater.clear();e=void 0},setOptions:function setOptions(a){if(2==a.length&&a[1]instanceof Array){c=a[1]}else if(2==a.length&&"function"==typeof a[1]){e=a[1]}else if(3==a.length){c=a[1];e=a[2]}},setColumns:function setColumns(){if(0===a.items.length)return;if(c===void 0){c=a.searchColumns===void 0?f.toArray(a.items[0].values()):a.searchColumns}},setSearchString:function setSearchString(b){b=a.utils.toString(b).toLowerCase();b=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");d=b},toArray:function toArray(a){var b=[];for(var c in a){b.push(c)}return b}},g={list:function list(){for(var b=0,c=a.items.length;b<c;b++){g.item(a.items[b])}},item:function item(a){a.found=!1;for(var b=0,d=c.length;b<d;b++){if(g.values(a.values(),c[b])){a.found=!0;return}}},values:function values(c,e){if(c.hasOwnProperty(e)){b=a.utils.toString(c[e]).toLowerCase();if(""!==d&&-1<b.search(d)){return!0}}return!1},reset:function reset(){a.reset.search();a.searched=!1}},h=function(b){a.trigger("searchStart");f.resetList();f.setSearchString(b);f.setOptions(arguments);f.setColumns();if(""===d){g.reset()}else{a.searched=!0;if(e){e(d,c)}else{g.list()}}a.update();a.trigger("searchComplete");return a.visibleItems};a.handlers.searchStart=a.handlers.searchStart||[];a.handlers.searchComplete=a.handlers.searchComplete||[];a.utils.events.bind(a.utils.getByClass(a.listContainer,a.searchClass),"keyup",function(b){var c=b.target||b.srcElement,d=""===c.value&&!a.searched;if(!d){h(c.value)}});a.utils.events.bind(a.utils.getByClass(a.listContainer,a.searchClass),"input",function(a){var b=a.target||a.srcElement;if(""===b.value){h("")}});return h}},{}],7:[function(a,b){b.exports=function(a){a.sortFunction=a.sortFunction||function(b,c,d){d.desc="desc"==d.order?!0:!1;return a.utils.naturalSort(b.values()[d.valueName],c.values()[d.valueName],d)};var b={els:void 0,clear:function clear(){for(var c=0,d=b.els.length;c<d;c++){a.utils.classes(b.els[c]).remove("asc");a.utils.classes(b.els[c]).remove("desc")}},getOrder:function getOrder(b){var c=a.utils.getAttribute(b,"data-order");if("asc"==c||"desc"==c){return c}else if(a.utils.classes(b).has("desc")){return"asc"}else if(a.utils.classes(b).has("asc")){return"desc"}else{return"asc"}},getInSensitive:function getInSensitive(b,c){var d=a.utils.getAttribute(b,"data-insensitive");if("false"===d){c.insensitive=!1}else{c.insensitive=!0}},setOrder:function setOrder(c){for(var d=0,e=b.els.length,f;d<e;d++){f=b.els[d];if(a.utils.getAttribute(f,"data-sort")!==c.valueName){continue}var g=a.utils.getAttribute(f,"data-order");if("asc"==g||"desc"==g){if(g==c.order){a.utils.classes(f).add(c.order)}}else{a.utils.classes(f).add(c.order)}}}},c=function(){a.trigger("sortStart");var c={},d=arguments[0].currentTarget||arguments[0].srcElement||void 0;if(d){c.valueName=a.utils.getAttribute(d,"data-sort");b.getInSensitive(d,c);c.order=b.getOrder(d)}else{c=arguments[1]||c;c.valueName=arguments[0];c.order=c.order||"asc";c.insensitive="undefined"==typeof c.insensitive?!0:c.insensitive}b.clear();b.setOrder(c);c.sortFunction=c.sortFunction||a.sortFunction;a.items.sort(function(d,a){var b="desc"===c.order?-1:1;return c.sortFunction(d,a,c)*b});a.update();a.trigger("sortComplete")};a.handlers.sortStart=a.handlers.sortStart||[];a.handlers.sortComplete=a.handlers.sortComplete||[];b.els=a.utils.getByClass(a.listContainer,a.sortClass);a.utils.events.bind(b.els,"click",c);a.on("searchStart",b.clear);a.on("filterStart",b.clear);return c}},{}],8:[function(a,b){var c=function(a){var b,c=this,d=function(){b=c.getItemSource(a.item);b=c.clearSourceItem(b,a.valueNames)};this.clearSourceItem=function(b,c){for(var d=0,e=c.length;d<e;d++){var f;if(c[d].data){for(var g=0,h=c[d].data.length;g<h;g++){b.setAttribute("data-"+c[d].data[g],"")}}else if(c[d].attr&&c[d].name){f=a.utils.getByClass(b,c[d].name,!0);if(f){f.setAttribute(c[d].attr,"")}}else{f=a.utils.getByClass(b,c[d],!0);if(f){f.innerHTML=""}}f=void 0}return b};this.getItemSource=function(b){if(b===void 0){for(var c=a.list.childNodes,d=0,e=c.length;d<e;d++){if(c[d].data===void 0){return c[d].cloneNode(!0)}}}else if(/^tr[\s>]/.exec(b)){var f=document.createElement("table");f.innerHTML=b;return f.firstChild}else if(-1!==b.indexOf("<")){var g=document.createElement("div");g.innerHTML=b;return g.firstChild}else{var h=document.getElementById(a.item);if(h){return h}}throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.")};this.get=function(b,d){c.create(b);for(var e={},f=0,g=d.length;f<g;f++){var h;if(d[f].data){for(var k=0,l=d[f].data.length;k<l;k++){e[d[f].data[k]]=a.utils.getAttribute(b.elm,"data-"+d[f].data[k])}}else if(d[f].attr&&d[f].name){h=a.utils.getByClass(b.elm,d[f].name,!0);e[d[f].name]=h?a.utils.getAttribute(h,d[f].attr):""}else{h=a.utils.getByClass(b.elm,d[f],!0);e[d[f]]=h?h.innerHTML:""}h=void 0}return e};this.set=function(b,d){var e=function(b){for(var c=0,d=a.valueNames.length;c<d;c++){if(a.valueNames[c].data){for(var e=a.valueNames[c].data,f=0,g=e.length;f<g;f++){if(e[f]===b){return{data:b}}}}else if(a.valueNames[c].attr&&a.valueNames[c].name&&a.valueNames[c].name==b){return a.valueNames[c]}else if(a.valueNames[c]===b){return b}}},f=function(c,d){var f,g=e(c);if(!g)return;if(g.data){b.elm.setAttribute("data-"+g.data,d)}else if(g.attr&&g.name){f=a.utils.getByClass(b.elm,g.name,!0);if(f){f.setAttribute(g.attr,d)}}else{f=a.utils.getByClass(b.elm,g,!0);if(f){f.innerHTML=d}}f=void 0};if(!c.create(b)){for(var g in d){if(d.hasOwnProperty(g)){f(g,d[g])}}}};this.create=function(a){if(a.elm!==void 0){return!1}var d=b.cloneNode(!0);d.removeAttribute("id");a.elm=d;c.set(a,a.values());return!0};this.remove=function(b){if(b.elm.parentNode===a.list){a.list.removeChild(b.elm)}};this.show=function(b){c.create(b);a.list.appendChild(b.elm)};this.hide=function(b){if(b.elm!==void 0&&b.elm.parentNode===a.list){a.list.removeChild(b.elm)}};this.clear=function(){if(a.list.hasChildNodes()){while(1<=a.list.childNodes.length){a.list.removeChild(a.list.firstChild)}}};d()};b.exports=function(a){return new c(a)}},{}],9:[function(a,b){var d=a("./index-of"),e=Object.prototype.toString;b.exports=function(a){return new c(a)};function c(a){if(!a||!a.nodeType){throw new Error("A DOM element reference is required")}this.el=a;this.list=a.classList}c.prototype.add=function(a){if(this.list){this.list.add(a);return this}var b=this.array(),c=d(b,a);if(!~c)b.push(a);this.el.className=b.join(" ");return this};c.prototype.remove=function(a){if("[object RegExp]"==e.call(a)){return this.removeMatching(a)}if(this.list){this.list.remove(a);return this}var b=this.array(),c=d(b,a);if(~c)b.splice(c,1);this.el.className=b.join(" ");return this};c.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++){if(a.test(b[c])){this.remove(b[c])}}return this};c.prototype.toggle=function(a,b){if(this.list){if("undefined"!=typeof b){if(b!==this.list.toggle(a,b)){this.list.toggle(a)}}else{this.list.toggle(a)}return this}if("undefined"!=typeof b){if(!b){this.remove(a)}else{this.add(a)}}else{if(this.has(a)){this.remove(a)}else{this.add(a)}}return this};c.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(/\s+/);if(""===c[0])c.shift();return c};c.prototype.has=c.prototype.contains=function(a){return this.list?this.list.contains(a):!!~d(this.array(),a)}},{"./index-of":14}],10:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!=d?"on":"",g=a("./to-array");c.bind=function(a,b,c,e){a=g(a);for(var h=0;h<a.length;h++){a[h][d](f+b,c,e||!1)}};c.unbind=function(a,b,c,d){a=g(a);for(var h=0;h<a.length;h++){a[h][e](f+b,c,d||!1)}}},{"./to-array":16}],11:[function(a,b){b.exports=function(a){for(var b=Array.prototype.slice.call(arguments,1),c=0,d;d=b[c];c++){if(!d)continue;for(var e in d){a[e]=d[e]}}return a}},{}],12:[function(a,b){b.exports=function(a,b){var c=a.getAttribute&&a.getAttribute(b)||null;if(!c){for(var d=a.attributes,e=d.length,f=0;f<e;f++){if(b[f]!==void 0){if(b[f].nodeName===b){c=b[f].nodeValue}}}}return c}},{}],13:[function(a,b){b.exports=function(){if(document.getElementsByClassName){return function(a,b,c){if(c){return a.getElementsByClassName(b)[0]}else{return a.getElementsByClassName(b)}}}else if(document.querySelector){return function(a,b,c){b="."+b;if(c){return a.querySelector(b)}else{return a.querySelectorAll(b)}}}else{return function(a,b,c){var d=[];if(null===a){a=document}for(var e=a.getElementsByTagName("*"),f=e.length,g=new RegExp("(^|\\s)"+b+"(\\s|$)"),h=0,k=0;h<f;h++){if(g.test(e[h].className)){if(c){return e[h]}else{d[k]=e[h];k++}}}return d}}}()},{}],14:[function(a,b){var c=[].indexOf;b.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d){if(a[d]===b)return d}return-1}},{}],15:[function(a,b){b.exports=function(c,a,b){var d=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,e=/^0x[0-9a-f]+$/i,f=b||{},g=function(a){return f.insensitive&&(""+a).toLowerCase()||""+a},h=g(c)||"",i=g(a)||"",j=h.replace(d,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),k=i.replace(d,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),l=parseInt(h.match(e),16)||1!==j.length&&Date.parse(h),m=parseInt(i.match(e),16)||l&&i.match(/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/)&&Date.parse(i)||null,n=function(a,b){return(!a.match(/^0/)||1==b)&&parseFloat(a)||a.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")||0},o,p;if(m){if(l<m){return-1}else if(l>m){return 1}}for(var q=0,r=j.length,s=k.length,t=Math.max(r,s);q<t;q++){o=n(j[q],r);p=n(k[q],s);if(isNaN(o)!==isNaN(p)){return isNaN(o)?1:-1}else if(_typeof(o)!==_typeof(p)){o+="";p+=""}if(o<p){return-1}if(o>p){return 1}}return 0}},{}],16:[function(a,b){b.exports=function(a){if("undefined"==typeof a)return[];if(null===a)return[null];if(a===window)return[window];if("string"==typeof a)return[a];if(c(a))return a;if("number"!=typeof a.length)return[a];if("function"==typeof a&&a instanceof Function)return[a];for(var b=[],d=0;d<a.length;d++){if(Object.prototype.hasOwnProperty.call(a,d)||d in a){b.push(a[d])}}if(!b.length)return[];return b};function c(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],17:[function(a,b){b.exports=function(a){a=a===void 0?"":a;a=null===a?"":a;a=a.toString();return a}},{}]},{},[1]);
//# sourceMappingURL=list.min.js.map
